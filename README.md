<h1 align="center">Core Extension</h1>

<p align="center">
  <img src="src/images/icon-192.png" alt="core-logo" width="160px" height="160px"/>
  <br>
  <i>
    Core is a non-custodial browser extension engineered for users to <br>
    seamlessly and securely use Web3 powered by Avalanche.
  </i>
  <br>
</p>

<p align="center">
  <a href="https://chrome.google.com/webstore/detail/core-crypto-nft-wallet-ex/agoakfejjabomempkjlepdflaleeobhb">
    <img src="https://img.shields.io/badge/Chrome%20Web%20Store-Production%20Build-green?style=plastic&logo=data:image/png;base64,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" alt="Chrome Production Version" />
  </a>&nbsp;
  <a href="https://chrome.google.com/webstore/detail/core-crypto-nft-wallet-ex/agoakfejjabomempkjlepdflaleeobhb">
    <img src="https://img.shields.io/badge/Chrome%20Web%20Store-Canary%20Build-blue?style=plastic&logo=data:image/png;base64,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" alt="Chrome Canary Version" />
  </a>
</p>

<hr>

## Development Setup

### Prerequisites

- Install [Node.js] and [Yarn] <br/>The project uses [Volta] to manage Node.js and Yarn versions, however, it's not mandatory to use Volta, you can always just install the correct version or use another tool like `nvm`.

- Get added to `@avalabs` on [npmjs.com].<br/>
  The project uses multiple private SDKs and utility packages from NPM.<br/>
  Make sure you have 2FA enabled.

### Environment variables

- Copy `.env.example` file and rename it as `.env`
  - Populate environment variables with your own values

### Setting Up a Project

1. Install dependencies

```
yarn
```

2. Create environment variable file `.env` based on the `.env.example`.

3. Run the project

```
yarn dev
```

4. Load the extension in your Chrome

### Chrome Development

1. In Chrome, go to `chrome://extensions/`.
2. At the top right make sure you have `Developer mode` turned on:

<img src="./docs/images/screenshot1.png" />

3. After `Developer mode` is turned on, at the top left should be `Load unpacked`:

<img src="./docs/images/screenshot2.png" />

4. Click `Load unpacked` and go to the extension folder.
5. Select the `dist` folder and press `Select`.

## Release

### Versioning

The project uses semantic versioning to determine the next version number.
Use the [conventional commmit] format for increasing the version number correctly.

- `feat`: a commit of the type feat introduces a new feature to the codebase (this correlates with MINOR in Semantic Versioning).
- Having the `BREAKING CHANGE` or `BREAKING CHANGES` string in the commit message bumps the major version number
- Other scopes like `fix`, `build`, `chore`, `ci`, `docs`, `style`, `refactor`, `perf`, `test` or having no scope, increment the PATCH section of the version number

### Alpha releases

Alpha releases are automatically created after each merge into `main`.<br/>
Bundles can be found in the "Releases" section of the repo.

### Production releases

Production releases are created by the `Create prod release` Github action.
The action needs to be triggered manually, and can be triggered on any branch making it easier to create hotfix releases.

- Make sure the branch you are creating the release on is clean and good to go
- Go to Actions and select the "Create prod release" action
- Click "Run workflow" and select the target branch
- After the workflow run is complete, the new release is automatically pushed to the Releases page of the repo and the commit gets tagged
- After green light from QA, upload the build to the Chrome

### Create a production release locally

Only use this for testing. Production versions for Chrome Store submission should ALWAYS be created through CI.

1. Create a `.env.production` file based on the `.env.example` with the production values.
2. Run `yarn`
3. Run `yarn build`. This will create the build into the `/dist` folder just like the regular development flow does.
4. Run `yarn zip`. It packages up the `/dist` folder into a `.zip` file suitable for Chrome Store uploads. The new file is placed into the `/builds` folder.

[node.js]: https://nodejs.org/dist/latest-v16.x/
[yarn]: https://classic.yarnpkg.com/lang/en/docs/install
[volta]: https://volta.sh/
[npmjs.com]: https://www.npmjs.com/
[conventional commmit]: https://www.conventionalcommits.org/en/v1.0.0/
