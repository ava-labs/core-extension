"use strict";
(self["webpackChunkavalanche_extension"] = self["webpackChunkavalanche_extension"] || []).push([["vendors-node_modules_avalabs_core-utils-sdk_esm_bigIntToString_js-node_modules_avalabs_core-u-b38414"],{

/***/ "./node_modules/@avalabs/core-utils-sdk/esm/bigIntToString.js":
/*!********************************************************************!*\
  !*** ./node_modules/@avalabs/core-utils-sdk/esm/bigIntToString.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bigIntToString": () => (/* binding */ t)
/* harmony export */ });
function t(t,n){n=Math.floor(n);const e=t.toString(),o=Math.max(e.length-n,0),r=e.slice(o).padStart(n,"0"),a=e.slice(0,o)||"0";return r.length?`${a}.${r}`:a}


/***/ }),

/***/ "./node_modules/@avalabs/core-utils-sdk/esm/bigToLocaleString.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@avalabs/core-utils-sdk/esm/bigToLocaleString.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bigToLocaleString": () => (/* binding */ t)
/* harmony export */ });
function t(t,n=9){const e=t.toFixed(n).split("."),r=parseInt(e[0]).toLocaleString("en-US");if(1===e.length)return r;{let t=e[1],o=t.charAt(t.length-1);for(;"0"===o;)t=t.substring(0,t.length-1),o=t.charAt(t.length-1);const s=t.substring(0,n);return s?`${r}.${s}`:r}}


/***/ }),

/***/ "./node_modules/@avalabs/core-utils-sdk/esm/stringToBN.js":
/*!****************************************************************!*\
  !*** ./node_modules/@avalabs/core-utils-sdk/esm/stringToBN.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "stringToBN": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! big.js */ "./node_modules/big.js/big.js");
/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(big_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bn.js */ "./node_modules/bn.js/lib/bn.js");
/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bn_js__WEBPACK_IMPORTED_MODULE_1__);
function t(t,e){const i=big_js__WEBPACK_IMPORTED_MODULE_0___default()(t.replace(/,/gi,"")),n=big_js__WEBPACK_IMPORTED_MODULE_0___default()(10).pow(e),m=i.times(n).toFixed(0,0);return new (bn_js__WEBPACK_IMPORTED_MODULE_1___default())(m)}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js":
/*!************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TxType": () => (/* binding */ e),
/* harmony export */   "isAddDelegatorTx": () => (/* binding */ r),
/* harmony export */   "isAddPermissionlessDelegatorTx": () => (/* binding */ v),
/* harmony export */   "isAddPermissionlessValidatorTx": () => (/* binding */ f),
/* harmony export */   "isAddSubnetValidatorTx": () => (/* binding */ p),
/* harmony export */   "isAddValidatorTx": () => (/* binding */ t),
/* harmony export */   "isBaseTx": () => (/* binding */ o),
/* harmony export */   "isConvertSubnetToL1Tx": () => (/* binding */ i),
/* harmony export */   "isCreateChainTx": () => (/* binding */ c),
/* harmony export */   "isCreateSubnetTx": () => (/* binding */ l),
/* harmony export */   "isDisableL1ValidatorTx": () => (/* binding */ _),
/* harmony export */   "isExportTx": () => (/* binding */ n),
/* harmony export */   "isImportTx": () => (/* binding */ a),
/* harmony export */   "isIncreaseL1ValidatorBalance": () => (/* binding */ u),
/* harmony export */   "isRegisterL1ValidatorTx": () => (/* binding */ d),
/* harmony export */   "isRemoveSubnetValidatorTx": () => (/* binding */ b),
/* harmony export */   "isSetL1ValidatorWeightTx": () => (/* binding */ s),
/* harmony export */   "isTransferSubnetOwnershipTx": () => (/* binding */ m),
/* harmony export */   "isTransformSubnetTx": () => (/* binding */ y)
/* harmony export */ });
var e=(e=>(e.Base="base",e.AddValidator="add_validator",e.AddDelegator="add_delegator",e.Export="export",e.Import="import",e.CreateSubnet="create_subnet",e.CreateChain="create_chain",e.ConvertSubnetToL1="convert_subnet_to_l1",e.RegisterL1Validator="register_l1_validator",e.SetL1ValidatorWeight="set_l1_validator_weight",e.IncreaseL1ValidatorBalance="increase_l1_validator_balance",e.DisableL1Validator="disable_l1_validator",e.AddSubnetValidator="add_subnet_validator",e.RemoveSubnetValidator="remove_subnet_validator",e.AddPermissionlessValidator="add_permissionless_validator",e.AddPermissionlessDelegator="add_permissionless_delegator",e.TransformSubnet="transform_subnet",e.TransferSubnetOwnership="transfer_subnet_ownership",e.Unknown="unknown",e))(e||{});function t(e){return"add_validator"===e.type}function r(e){return"add_delegator"===e.type}function n(e){return"export"===e.type}function a(e){return"import"===e.type}function o(e){return"base"===e.type}function i(e){return"convert_subnet_to_l1"===e.type}function d(e){return"register_l1_validator"===e.type}function s(e){return"set_l1_validator_weight"===e.type}function _(e){return"disable_l1_validator"===e.type}function u(e){return"increase_l1_validator_balance"===e.type}function l(e){return"create_subnet"===e.type}function c(e){return"create_chain"===e.type}function p(e){return"add_subnet_validator"===e.type}function b(e){return"remove_subnet_validator"===e.type}function f(e){return"add_permissionless_validator"===e.type}function v(e){return"add_permissionless_delegator"===e.type}function y(e){return"transform_subnet"===e.type}function m(e){return"transfer_subnet_ownership"===e.type}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/getAssetBalance.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/getAssetBalance.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAssetBalance": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _getUnixNow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getUnixNow.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/getUnixNow.js");
const{getUtxoInfo:a}=_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils;function o(t,o){const l=t.getAssetDict()[o],i={locked:BigInt(0),available:BigInt(0),multisig:BigInt(0),lockedStakeable:BigInt(0),total:BigInt(0)};if(!l)return i;const n=l.getUTXOs(),c=(0,_getUnixNow_js__WEBPACK_IMPORTED_MODULE_1__.getUnixNow)();return n.forEach((t=>{const e=a(t);i[e.threshold>1?"multisig":e.locktime>c?"locked":e.stakeableLocktime>c?"lockedStakeable":"available"]+=e.amount})),i.total=i.locked+i.lockedStakeable+i.multisig+i.available,i}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/isBech32Address.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/isBech32Address.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isBech32Address": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
function e(e,a=!0){try{if(a){const[a]=_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.parse(e);if(!["X","P","C"].includes(a))return!1}else _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.parseBech32(e);return!0}catch(r){return!1}}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parseAvalancheTx.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parseAvalancheTx.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "parseAvalancheTx": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
/* harmony import */ var _parsers_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/index.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/index.js");
const{getBurnedAmountByTx:r,getOutputAmounts:o,getInputAmounts:s,validateBurnedAmount:i}=_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils;async function u(e,u,x,{feeTolerance:g=50}={}){try{const n=u.getContext(),c=e.getTx(),p=(t=>{for(const e of Object.values(_parsers_index_js__WEBPACK_IMPORTED_MODULE_1__["default"])){const n=e(t);if(null!==n)return n}throw new Error("no parser found for tx")})(c),A=r(c,n),d=o(c),l=s(c).get(n.avaxAssetID)??BigInt(0),m=A.get(n.avaxAssetID)??BigInt(0),v=d.get(n.avaxAssetID)??BigInt(0);let I=BigInt(0);_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.evmSerial.isImportExportTx(c)?(I=await u.getApiC().getBaseFee()/BigInt(1e9),0n===I&&(I=1n)):"PVM"===c.vm&&(I=await u.getApiP().getFeeState().then((t=>t.price)).catch((()=>BigInt(0))));const{isValid:f,txFee:B}=i({unsignedTx:e,context:n,burnedAmount:m,baseFee:I,feeTolerance:g});return await p({feeData:{totalAvaxBurned:m,totalAvaxOutput:v,totalAvaxInput:l,isValidAvaxBurnedAmount:f,txFee:B},assetId:n.avaxAssetID,provider:u,currentAddress:x})}catch(t){return{type:_models_js__WEBPACK_IMPORTED_MODULE_2__.TxType.Unknown}}}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _parseCreateSubnetTx_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseCreateSubnetTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseCreateSubnetTx.js");
/* harmony import */ var _parseCreateChainTx_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parseCreateChainTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseCreateChainTx.js");
/* harmony import */ var _parseAddSubnetValidorTx_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parseAddSubnetValidorTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddSubnetValidorTx.js");
/* harmony import */ var _parseImportTx_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parseImportTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseImportTx.js");
/* harmony import */ var _parseExportTx_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parseExportTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseExportTx.js");
/* harmony import */ var _parseBaseTx_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parseBaseTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseBaseTx.js");
/* harmony import */ var _parseAddPermissionlessValidatorTx_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parseAddPermissionlessValidatorTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddPermissionlessValidatorTx.js");
/* harmony import */ var _parseAddPermissionlessDelegatorTx_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parseAddPermissionlessDelegatorTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddPermissionlessDelegatorTx.js");
/* harmony import */ var _parseRemoveSubnetValidatorTx_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parseRemoveSubnetValidatorTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseRemoveSubnetValidatorTx.js");
/* harmony import */ var _parseTransferSubnetOwnershipTx_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parseTransferSubnetOwnershipTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseTransferSubnetOwnershipTx.js");
/* harmony import */ var _parseConvertSubnetToL1Tx_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parseConvertSubnetToL1Tx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseConvertSubnetToL1Tx.js");
/* harmony import */ var _parseRegisterL1ValidatorTx_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parseRegisterL1ValidatorTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseRegisterL1ValidatorTx.js");
/* harmony import */ var _parseSetL1ValidatorWeightTx_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parseSetL1ValidatorWeightTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseSetL1ValidatorWeightTx.js");
/* harmony import */ var _parseDisableL1ValidatorTx_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./parseDisableL1ValidatorTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseDisableL1ValidatorTx.js");
/* harmony import */ var _parseIncreaseL1ValidatorBalanceTx_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./parseIncreaseL1ValidatorBalanceTx.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseIncreaseL1ValidatorBalanceTx.js");
var j={parseCreateSubnetTx:_parseCreateSubnetTx_js__WEBPACK_IMPORTED_MODULE_0__["default"],parseCreateChainTx:_parseCreateChainTx_js__WEBPACK_IMPORTED_MODULE_1__["default"],parseAddSubnetValidatorTx:_parseAddSubnetValidorTx_js__WEBPACK_IMPORTED_MODULE_2__["default"],parseRemoveSubnetValidatorTx:_parseRemoveSubnetValidatorTx_js__WEBPACK_IMPORTED_MODULE_3__["default"],parseImportTx:_parseImportTx_js__WEBPACK_IMPORTED_MODULE_4__["default"],parseExportTx:_parseExportTx_js__WEBPACK_IMPORTED_MODULE_5__["default"],parseBaseTx:_parseBaseTx_js__WEBPACK_IMPORTED_MODULE_6__["default"],parseAddPermissionlessValidatorTx:_parseAddPermissionlessValidatorTx_js__WEBPACK_IMPORTED_MODULE_7__["default"],parseAddPermissionlessDelegatorTx:_parseAddPermissionlessDelegatorTx_js__WEBPACK_IMPORTED_MODULE_8__["default"],parseTransferSubnetOwnershipTx:_parseTransferSubnetOwnershipTx_js__WEBPACK_IMPORTED_MODULE_9__["default"],parseConvertSubnetTx:_parseConvertSubnetToL1Tx_js__WEBPACK_IMPORTED_MODULE_10__["default"],parseRegisterL1ValidatorTx:_parseRegisterL1ValidatorTx_js__WEBPACK_IMPORTED_MODULE_11__["default"],parseIncreaseL1ValidatorBalanceTx:_parseIncreaseL1ValidatorBalanceTx_js__WEBPACK_IMPORTED_MODULE_12__["default"],parseSetL1ValidatorWeightTx:_parseSetL1ValidatorWeightTx_js__WEBPACK_IMPORTED_MODULE_13__["default"],parseDisableL1ValidatorTx:_parseDisableL1ValidatorTx_js__WEBPACK_IMPORTED_MODULE_14__["default"]};


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddPermissionlessDelegatorTx.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddPermissionlessDelegatorTx.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const t=t=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isAddPermissionlessDelegatorTx(t)?({feeData:e})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.AddPermissionlessDelegator,chain:t.getVM(),stake:t.subnetValidator.validator.weight.value(),nodeID:t.subnetValidator.validator.nodeId.value(),start:t.subnetValidator.validator.startTime.value().toString(),end:t.subnetValidator.validator.endTime.value().toString(),subnetID:t.subnetValidator.subnetId.value(),stakeOuts:t.stake,delegatorRewardsOwner:t.getDelegatorRewardsOwner(),...e}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddPermissionlessValidatorTx.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddPermissionlessValidatorTx.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const t=t=>{if(!_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isAddPermissionlessValidatorTx(t))return null;let s,i;return _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isSigner(t.signer)&&(i=_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.bufferToHex(t.signer.proof.publicKey),s=_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.bufferToHex(t.signer.proof.signature)),({feeData:e})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.AddPermissionlessValidator,chain:t.getVM(),stake:t.subnetValidator.validator.weight.value(),nodeID:t.subnetValidator.validator.nodeId.value(),start:t.subnetValidator.validator.startTime.value().toString(),end:t.subnetValidator.validator.endTime.value().toString(),subnetID:t.subnetValidator.subnetId.value(),delegationFee:t.shares.value(),stakeOuts:t.stake,rewardOwner:t.getValidatorRewardsOwner(),delegationRewardOwner:t.getDelegatorRewardsOwner(),signer:t.signer,publicKey:i,signature:s,...e})};


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddSubnetValidorTx.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseAddSubnetValidorTx.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const e=e=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isAddSubnetValidatorTx(e)?({feeData:a})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.AddSubnetValidator,chain:e.getVM(),stake:e.subnetValidator.validator.weight.value(),nodeID:e.subnetValidator.validator.nodeId.value(),start:e.subnetValidator.validator.startTime.value().toString(),end:e.subnetValidator.validator.endTime.value().toString(),subnetID:e.getSubnetID().value(),...a}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseBaseTx.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseBaseTx.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var xss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! xss */ "./node_modules/@avalabs/core-wallets-sdk/node_modules/xss/lib/index.js");
/* harmony import */ var xss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(xss__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
/* harmony import */ var _getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../getUnixNow.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/getUnixNow.js");
/* provided dependency */ var Buffer = __webpack_require__(/*! ./node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js */ "./node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js")["Buffer"];
const r=r=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_1__.avmSerial.isAvmBaseTx(r)||_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_1__.pvmSerial.isPvmBaseTx(r)?async({feeData:e,currentAddress:n,provider:i})=>{const p=r.baseTx,m=await(async(e,o)=>{const u=e.baseTx,a=new Set;if(u.outputs.forEach((t=>{a.add(t.assetId.value())})),_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_1__.avmSerial.isAvmBaseTx(e)){const t=await Promise.all([...a.values()].map((t=>o.getApiX().getAssetDescription(t))));return u.outputs.reduce(((e,u)=>{if(u.output instanceof _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_1__.TransferOutput){const s=u.assetId.value(),r=[...a.values()].indexOf(s),n=t[r],i=u.output.outputOwners.addrs.map((t=>`X-${t.toString(o.getContext().hrp)}`));return[...e,{assetId:s,amount:u.output.amount(),locktime:u.output.getLocktime(),threshold:BigInt(u.output.getThreshold()),assetDescription:n,owners:i,isAvax:o.getContext().avaxAssetID===s}]}return e}),[])}return u.outputs.reduce(((t,e)=>{if(e.output instanceof _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_1__.TransferOutput){const s=e.assetId.value(),u=e.output.outputOwners.addrs.map((t=>`P-${t.toString(o.getContext().hrp)}`));return[...t,{assetId:s,amount:e.output.amount(),locktime:e.output.getLocktime(),threshold:BigInt(e.output.getThreshold()),owners:u,isAvax:o.getContext().avaxAssetID===s}]}return t}),[])})(r,i),c=(0,_getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__.getUnixNow)(),d=m.filter((t=>!(1===t.owners.length&&t.owners[0]===n&&t.locktime<=c)));return{type:_models_js__WEBPACK_IMPORTED_MODULE_3__.TxType.Base,chain:r.getVM(),outputs:d,memo:xss__WEBPACK_IMPORTED_MODULE_0___default()(Buffer.from(p.memo.toBytes()).toString("utf-8",4)),...e}}:null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseConvertSubnetToL1Tx.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseConvertSubnetToL1Tx.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const r=r=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isConvertSubnetToL1Tx(r)?({feeData:e,provider:o})=>{const s=o.getHrp(),i=e=>`P-${e.toString(s)}`;return{type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.ConvertSubnetToL1,chain:r.getVM(),managerAddress:i(_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.Address.fromHex(r.address.toString("hex"))),validators:r.validators.map((e=>({nodeId:_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.NodeId.fromHex(e.nodeId.toString("hex")).toString(),stake:e.weight.value(),balance:e.balance.value(),remainingBalanceOwners:e.remainingBalanceOwner.addresses.map(i),deactivationOwners:e.deactivationOwner.addresses.map(i)}))),chainID:r.chainID.value(),subnetID:r.subnetID.value(),...e}}:null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseCreateChainTx.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseCreateChainTx.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const t=t=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isCreateChainTx(t)?({feeData:a})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.CreateChain,chain:t.getVM(),subnetID:t.getSubnetID().value(),chainName:t.chainName.value(),chainID:t.getBlockchainId(),vmID:t.vmID.value(),fxIDs:t.fxIds.map((a=>a.value())),genesisData:t.genesisData.toString(),...a}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseCreateSubnetTx.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseCreateSubnetTx.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const r=r=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isCreateSubnetTx(r)?({feeData:e,provider:a})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.CreateSubnet,chain:r.getVM(),threshold:r.getSubnetOwners().threshold.value(),controlKeys:r.getSubnetOwners().addrs.map((e=>`P-${e.toString(a.getHrp())}`)),...e}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseDisableL1ValidatorTx.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseDisableL1ValidatorTx.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const i=i=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isDisableL1ValidatorTx(i)?({feeData:a})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.DisableL1Validator,chain:i.getVM(),validationId:i.validationId.toString(),...a}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseExportTx.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseExportTx.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
/* harmony import */ var _utils_chainIdToVm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/chainIdToVm.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/chainIdToVm.js");
/* harmony import */ var _utils_getTransferableAmount_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/getTransferableAmount.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/getTransferableAmount.js");
const n=n=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isExportTx(n)||_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.avmSerial.isExportTx(n)||_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.evmSerial.isExportTx(n)?_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.evmSerial.isExportTx(n)?({feeData:t,assetId:o})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.Export,chain:n.getVM(),destination:(0,_utils_chainIdToVm_js__WEBPACK_IMPORTED_MODULE_2__["default"])(n.destinationChain.toString()),amount:(0,_utils_getTransferableAmount_js__WEBPACK_IMPORTED_MODULE_3__.getTransferableOutputAmount)(n.exportedOutputs,o),...t}):({feeData:t,assetId:o})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.Export,chain:n.getVM(),destination:(0,_utils_chainIdToVm_js__WEBPACK_IMPORTED_MODULE_2__["default"])(n.destination.value()),amount:(0,_utils_getTransferableAmount_js__WEBPACK_IMPORTED_MODULE_3__.getTransferableOutputAmount)(n.outs,o),...t}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseImportTx.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseImportTx.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
/* harmony import */ var _utils_chainIdToVm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/chainIdToVm.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/chainIdToVm.js");
/* harmony import */ var _utils_getTransferableAmount_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/getTransferableAmount.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/getTransferableAmount.js");
const m=m=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isImportTx(m)||_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.avmSerial.isImportTx(m)||_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.evmSerial.isImportTx(m)?_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.evmSerial.isImportTx(m)?({feeData:t,assetId:o})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.Import,chain:m.getVM(),source:(0,_utils_chainIdToVm_js__WEBPACK_IMPORTED_MODULE_2__["default"])(m.sourceChain.value()),amount:(0,_utils_getTransferableAmount_js__WEBPACK_IMPORTED_MODULE_3__.getTransferableInputAmount)(m.importedInputs,o),...t}):({feeData:t,assetId:o})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.Import,chain:m.getVM(),source:(0,_utils_chainIdToVm_js__WEBPACK_IMPORTED_MODULE_2__["default"])(m.sourceChain.value()),amount:(0,_utils_getTransferableAmount_js__WEBPACK_IMPORTED_MODULE_3__.getTransferableInputAmount)(m.ins,o),...t}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseIncreaseL1ValidatorBalanceTx.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseIncreaseL1ValidatorBalanceTx.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const l=l=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isIncreaseL1ValidatorBalanceTx(l)?({feeData:a})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.IncreaseL1ValidatorBalance,chain:l.getVM(),balance:l.balance.value(),validationId:l.validationId.toString(),...a}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseRegisterL1ValidatorTx.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseRegisterL1ValidatorTx.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const t=t=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isRegisterL1ValidatorTx(t)?({feeData:a})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.RegisterL1Validator,chain:t.getVM(),balance:t.balance.value(),...a}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseRemoveSubnetValidatorTx.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseRemoveSubnetValidatorTx.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const a=a=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isRemoveSubnetValidatorTx(a)?({feeData:e})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.RemoveSubnetValidator,chain:a.getVM(),nodeID:a.nodeId.toString(),subnetID:a.getSubnetID().value(),...e}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseSetL1ValidatorWeightTx.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseSetL1ValidatorWeightTx.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const e=e=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isSetL1ValidatorWeightTx(e)?({feeData:a})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.SetL1ValidatorWeight,chain:e.getVM(),...a}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseTransferSubnetOwnershipTx.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/parseTransferSubnetOwnershipTx.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/models.js");
const r=r=>_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.pvmSerial.isTransferSubnetOwnershipTx(r)?({feeData:e,provider:s})=>({type:_models_js__WEBPACK_IMPORTED_MODULE_1__.TxType.TransferSubnetOwnership,chain:r.getVM(),subnetID:r.subnetID.value(),threshold:r.getSubnetOwners().threshold.value(),controlKeys:r.getSubnetOwners().addrs.map((e=>`P-${e.toString(s.getHrp())}`)),...e}):null;


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/chainIdToVm.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/chainIdToVm.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _providers_constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../providers/constants.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/providers/constants.js");
const n=n=>{if([_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.MainnetContext.xBlockchainID,_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.FujiContext.xBlockchainID,_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.DevnetContext.xBlockchainID].includes(n))return"AVM";if([_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.MainnetContext.pBlockchainID,_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.FujiContext.pBlockchainID,_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.DevnetContext.pBlockchainID].includes(n))return"PVM";if([_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.MainnetContext.cBlockchainID,_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.FujiContext.cBlockchainID,_providers_constants_js__WEBPACK_IMPORTED_MODULE_0__.DevnetContext.cBlockchainID].includes(n))return"EVM";throw new Error("Unknown chain id. Failed to get alias.")};


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/getTransferableAmount.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/parsers/utils/getTransferableAmount.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTransferableInputAmount": () => (/* binding */ n),
/* harmony export */   "getTransferableOutputAmount": () => (/* binding */ t)
/* harmony export */ });
const t=(t,n)=>t.reduce(((t,e)=>e.assetId.toString()!==n?t:t+e.output.amount()),BigInt(0)),n=(t,n)=>t.reduce(((t,e)=>e.assetId.toString()!==n?t:t+e.input.amount()),BigInt(0));


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/txSizeLimits.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/txSizeLimits.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "P_CHAIN_TX_SIZE_LIMIT": () => (/* binding */ x),
/* harmony export */   "SizeSupportedTx": () => (/* binding */ a),
/* harmony export */   "getMaximumUtxoSet": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @avalabs/avalanchejs */ "./node_modules/@avalabs/avalanchejs/dist/es/index.js");
/* harmony import */ var _getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getUnixNow.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/getUnixNow.js");
/* harmony import */ var _utils_binarySearch_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/binarySearch.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/utils/binarySearch.js");
/* harmony import */ var _sortUTXOs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sortUTXOs.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/sortUTXOs.js");
/* provided dependency */ var Buffer = __webpack_require__(/*! ./node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js */ "./node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js")["Buffer"];
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
const{getUtxoInfo:d}=_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils;var a=(e=>(e.ExportP="ExportP",e.ImportP="ImportP",e.AddPermissionlessValidator="AddPermissionlessValidator",e.AddPermissionlessDelegator="AddPermissionlessDelegator",e.BaseP="BaseP",e.ConsolidateP="ConsolidateP",e))(a||{});const i="NodeID-8TArWpFgH3sazEH8qP4gUjtGtFMvjw1aR",u="11111111111111111111111111111111LpoYY",c=(e,t)=>e.reduce(((e,t)=>e+d(t).amount),BigInt(0))-t,l={BaseP:{sortFunction:_sortUTXOs_js__WEBPACK_IMPORTED_MODULE_1__.sortUTXOsByAmountDescending,unsignedTxBuilder:(t,o,s)=>{const r=t.getProvider().getContext();return t.baseTX({utxoSet:new _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.UtxoSet(o),chain:"P",toAddress:t.getCurrentAddress("P"),amountsPerAsset:{[r.avaxAssetID]:c(o,r.baseTxFee)},feeState:s})}},ConsolidateP:{sortFunction:_sortUTXOs_js__WEBPACK_IMPORTED_MODULE_1__.sortUTXOsByAmountAscending,unsignedTxBuilder:(t,o,s)=>{const r=t.getProvider().getContext();return t.consolidateP({utxoSet:new _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.UtxoSet(o),amount:c(o,r.baseTxFee),feeState:s})}},AddPermissionlessValidator:{sortFunction:_sortUTXOs_js__WEBPACK_IMPORTED_MODULE_1__.sortUTXOsStaking,unsignedTxBuilder:(o,s,r)=>o.addPermissionlessValidator({utxoSet:new _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.UtxoSet(s),nodeId:i,start:(0,_getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__.getUnixNow)(),end:(0,_getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__.getUnixNow)()+BigInt(1e3),weight:c(s,o.getProvider().getContext().baseTxFee),subnetId:u,shares:5,feeState:r,fromAddresses:void 0,rewardAddresses:void 0,delegatorRewardAddresses:void 0,publicKey:Buffer.from(_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.hexToBuffer("0x8f95423f7142d00a48e1014a3de8d28907d420dc33b3052a6dee03a3f2941a393c2351e354704ca66a3fc29870282e15")),signature:Buffer.from(_avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.hexToBuffer("0x86a3ab4c45cfe31cae34c1d06f212434ac71b1be6cfe046c80c162e057614a94a5bc9f1ded1a7029deb0ba4ca7c9b71411e293438691be79c2dbf19d1ca7c3eadb9c756246fc5de5b7b89511c7d7302ae051d9e03d7991138299b5ed6a570a98"))})},AddPermissionlessDelegator:{sortFunction:_sortUTXOs_js__WEBPACK_IMPORTED_MODULE_1__.sortUTXOsStaking,unsignedTxBuilder:(o,s,r)=>o.addPermissionlessDelegator({utxoSet:new _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.UtxoSet(s),nodeId:i,start:(0,_getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__.getUnixNow)(),end:(0,_getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__.getUnixNow)()+BigInt(1e3),weight:c(s,o.getProvider().getContext().baseTxFee),subnetId:u,feeState:r})},ExportP:{sortFunction:_sortUTXOs_js__WEBPACK_IMPORTED_MODULE_1__.sortUTXOsByAmountDescending,unsignedTxBuilder:(t,o,s)=>t.exportP({amount:c(o,t.getProvider().getContext().baseTxFee),utxoSet:new _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.UtxoSet(o),destination:"X",feeState:s})},ImportP:{sortFunction:_sortUTXOs_js__WEBPACK_IMPORTED_MODULE_1__.sortUTXOsByAmountDescending,unsignedTxBuilder:(t,o,s)=>t.importP({utxoSet:new _avalabs_avalanchejs__WEBPACK_IMPORTED_MODULE_0__.utils.UtxoSet(o),sourceChain:"X",feeState:s})}},x=65536;function f({wallet:e,utxos:s,sizeSupportedTx:r,limit:n=65536,feeState:a}){const{sortFunction:i,unsignedTxBuilder:u}=l[r],c=(0,_getUnixNow_js__WEBPACK_IMPORTED_MODULE_2__.getUnixNow)(),x=i(s.filter((e=>{const{locktime:t,stakeableLocktime:o}=d(e);return t<c&&(o<c||("AddPermissionlessDelegator"===r||"AddPermissionlessValidator"===r))}))),f=(0,_utils_binarySearch_js__WEBPACK_IMPORTED_MODULE_3__.binarySearch)(x,(t=>{try{return function(e){const t=e.getInputUtxos().reduce(((e,t)=>e+(8+65*d(t).threshold)),0);return 6+e.toBytes().length+t}(u(e,t,a))}catch(e){return console.log("Unable to estimate size of utxos",{e:e,utxos:t.map(d)}),n+1}}),n);return-1===f?[]:x.slice(0,f+1)}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/wallets/AddressWallet.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/wallets/AddressWallet.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddressWallet": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _WalletAbstract_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./WalletAbstract.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/wallets/WalletAbstract.js");
/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ "./node_modules/ethers/lib.esm/address/checks.js");
/* harmony import */ var create_hash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! create-hash */ "./node_modules/create-hash/browser.js");
/* harmony import */ var create_hash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(create_hash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var bip32__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bip32 */ "./node_modules/bip32/src/index.js");
/* harmony import */ var bip39__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bip39 */ "./node_modules/@avalabs/core-wallets-sdk/node_modules/bip39/src/index.js");
/* harmony import */ var _utils_isBech32Address_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/isBech32Address.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/Avalanche/utils/isBech32Address.js");
/* harmony import */ var xss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! xss */ "./node_modules/@avalabs/core-wallets-sdk/node_modules/xss/lib/index.js");
/* harmony import */ var xss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(xss__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var bip32_path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bip32-path */ "./node_modules/bip32-path/index.js");
/* harmony import */ var bip32_path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bip32_path__WEBPACK_IMPORTED_MODULE_4__);
class t extends _WalletAbstract_js__WEBPACK_IMPORTED_MODULE_5__.WalletAbstract{constructor(s,t,a,d,i){if(super(i),this.addressC=s,this.addressCoreEth=t,this.xpAddresses=a,this.xpChangeAddress=d,a.length<1)throw new Error("Must have at least 1 xp address.");if(!(0,ethers__WEBPACK_IMPORTED_MODULE_6__.isAddress)(s))throw new Error("Not a valid C-Chain (EVM) address");if(a.some((s=>!(0,_utils_isBech32Address_js__WEBPACK_IMPORTED_MODULE_7__.isBech32Address)(s,!1))))throw new Error("Given addresses must be valid avalanche bech32 addresses without the chain alias prefix");if(!(0,_utils_isBech32Address_js__WEBPACK_IMPORTED_MODULE_7__.isBech32Address)(t,!1))throw new Error("Given CoreEth address must be valid avalanche bech32 addresses without the chain alias prefix");this.setChangeAddress(d)}setChangeAddress(s){if(!(0,_utils_isBech32Address_js__WEBPACK_IMPORTED_MODULE_7__.isBech32Address)(s,!1))throw new Error("Given address must be valid avalanche bech32 addresses without the chain alias prefix");this.xpChangeAddress=s}getAddressEVM(){return this.addressC}getAddresses(s){return("C"===s?[this.addressCoreEth]:this.xpAddresses).map((e=>this.provider.formatAddress(e,s)))}getChangeAddress(s){const e="C"===s?this.addressCoreEth:this.xpChangeAddress;return this.provider.formatAddress(e,s)}getCurrentAddress(s){const e="C"===s?this.addressCoreEth:this.xpAddresses[0];return this.provider.formatAddress(e,s)}}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/createPsbt.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/createPsbt.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createPsbt": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bitcoinjs-lib */ "./node_modules/bitcoinjs-lib/src/index.js");
/* provided dependency */ var Buffer = __webpack_require__(/*! ./node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js */ "./node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js")["Buffer"];
function t(t,r,a){const s=new bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_0__.Psbt({network:a});return t.forEach((e=>{s.addInput({hash:e.txHash,index:e.index,witnessUtxo:{script:Buffer.from(e.script,"hex"),value:e.value}})})),r.forEach((e=>{s.addOutput({value:e.value,address:e.address})})),s}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/createTransferTx.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/createTransferTx.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createTransferTx": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _createPsbt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./createPsbt.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/createPsbt.js");
/* harmony import */ var _selectUtxos_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectUtxos.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/selectUtxos.js");
/* harmony import */ var _filterDuplicateUTXOs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filterDuplicateUTXOs.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/filterDuplicateUTXOs.js");
/* provided dependency */ var console = __webpack_require__(/*! ./node_modules/console-browserify/index.js */ "./node_modules/console-browserify/index.js");
function s(s,r,n,c,i,p){const u=(0,_filterDuplicateUTXOs_js__WEBPACK_IMPORTED_MODULE_0__.filterDuplicateUTXOs)(i),f=(0,_selectUtxos_js__WEBPACK_IMPORTED_MODULE_1__.selectUtxos)(s,r,n,c,u);return f.inputs?{...f,psbt:(0,_createPsbt_js__WEBPACK_IMPORTED_MODULE_2__.createPsbt)(f.inputs,f.outputs,p)}:(console.log("Unable to construct transaction, fee needed: ",f.fee),f)}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/filterDuplicateUTXOs.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/filterDuplicateUTXOs.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterDuplicateUTXOs": () => (/* binding */ t)
/* harmony export */ });
function t(t){const n=[];return t.filter((t=>{const r=t.txHash+t.index.toString();return!n.includes(r)&&(n.push(r),!0)}))}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/getMaxTransferAmount.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/getMaxTransferAmount.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getMaxTransferAmount": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _selectUtxos_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectUtxos.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/selectUtxos.js");
/* harmony import */ var _sumUTXOs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sumUTXOs.js */ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/sumUTXOs.js");
function r(r,s,e,n){const f=(0,_sumUTXOs_js__WEBPACK_IMPORTED_MODULE_0__.sumUTXOs)(r);if(!f)return 0;const{fee:m}=(0,_selectUtxos_js__WEBPACK_IMPORTED_MODULE_1__.selectUtxos)(s,e,f,n,r);return f-m}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/selectUtxos.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/BitcoinVM/utils/selectUtxos.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "selectUtxos": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var coinselect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! coinselect */ "./node_modules/coinselect/index.js");
/* harmony import */ var coinselect__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(coinselect__WEBPACK_IMPORTED_MODULE_0__);
function t(t,u,s,n,o){const r=[{address:t,value:s}],{inputs:p,outputs:f,fee:i}=coinselect__WEBPACK_IMPORTED_MODULE_0___default()(o,r,n);if(!p||!f)return{fee:i};const a=[f[0]],c=f[1];return c&&a.push({address:u,value:c.value}),{inputs:p,outputs:a,fee:i}}


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/compileSolanaTx.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/compileSolanaTx.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "compileSolanaTx": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/transactions/dist/index.browser.mjs");
const t=t=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.compileTransaction)(t);


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/serializeSolanaTx.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/serializeSolanaTx.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "serializeSolanaTx": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/transactions/dist/index.browser.mjs");
const t=t=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getBase64EncodedWireTransaction)(t);


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/transferSol.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/transferSol.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "transferSol": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/signers/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/addresses/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/functional/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/transaction-messages/dist/index.browser.mjs");
/* harmony import */ var _solana_program_system__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana-program/system */ "./node_modules/@solana-program/system/dist/src/index.mjs");
const i=async({from:i,to:c,amount:p,provider:u})=>{const{value:l}=await u.getLatestBlockhash().send(),d=[(0,_solana_program_system__WEBPACK_IMPORTED_MODULE_0__.getTransferSolInstruction)({source:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.createNoopSigner)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.address)(i)),destination:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.address)(c),amount:p})];return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.pipe)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.createTransactionMessage)({version:0}),(o=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.setTransactionMessageLifetimeUsingBlockhash)(l,o)),(o=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.setTransactionMessageFeePayer)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.address)(i),o)),(o=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.appendTransactionMessageInstructions)(d,o)))};


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/transferToken.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/SolanaVM/utils/transferToken.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "transferToken": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/addresses/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/signers/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/functional/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/transaction-messages/dist/index.browser.mjs");
/* harmony import */ var _solana_program_token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana-program/token */ "./node_modules/@solana-program/token/dist/src/index.mjs");
const u=async({from:u,to:c,mint:k,amount:g,provider:l})=>{const[d]=await (0,_solana_program_token__WEBPACK_IMPORTED_MODULE_0__.findAssociatedTokenPda)({mint:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(k),owner:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(u),tokenProgram:_solana_program_token__WEBPACK_IMPORTED_MODULE_0__.TOKEN_PROGRAM_ADDRESS}),[f]=await (0,_solana_program_token__WEBPACK_IMPORTED_MODULE_0__.findAssociatedTokenPda)({mint:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(k),owner:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(c),tokenProgram:_solana_program_token__WEBPACK_IMPORTED_MODULE_0__.TOKEN_PROGRAM_ADDRESS}),h=await (0,_solana_program_token__WEBPACK_IMPORTED_MODULE_0__.getCreateAssociatedTokenIdempotentInstruction)({payer:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.createNoopSigner)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(u)),mint:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(k),owner:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(c),ata:f}),v=(0,_solana_program_token__WEBPACK_IMPORTED_MODULE_0__.getTransferInstruction)({amount:g,source:d,destination:f,authority:(0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.createNoopSigner)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(u))}),{value:y}=await l.getLatestBlockhash().send();return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.pipe)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.createTransactionMessage)({version:0}),(t=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.setTransactionMessageLifetimeUsingBlockhash)(y,t)),(o=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.setTransactionMessageFeePayer)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.address)(u),o)),(t=>(0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.appendTransactionMessageInstructions)([h,v],t)))};


/***/ }),

/***/ "./node_modules/@avalabs/core-wallets-sdk/esm/utils/binarySearch.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@avalabs/core-wallets-sdk/esm/utils/binarySearch.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "binarySearch": () => (/* binding */ t)
/* harmony export */ });
function t(t,e,r){let n=0,o=t.length-1;if(e(t)<=r)return o;let l=-1;for(;n<=o;){const f=Math.floor((n+o)/2);e(t.slice(0,f+1))<=r?(l=f,n=f+1):o=f-1}return l}


/***/ }),

/***/ "./node_modules/@solana-program/system/dist/src/index.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@solana-program/system/dist/src/index.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ADVANCE_NONCE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ ADVANCE_NONCE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "ALLOCATE_DISCRIMINATOR": () => (/* binding */ ALLOCATE_DISCRIMINATOR),
/* harmony export */   "ALLOCATE_WITH_SEED_DISCRIMINATOR": () => (/* binding */ ALLOCATE_WITH_SEED_DISCRIMINATOR),
/* harmony export */   "ASSIGN_DISCRIMINATOR": () => (/* binding */ ASSIGN_DISCRIMINATOR),
/* harmony export */   "ASSIGN_WITH_SEED_DISCRIMINATOR": () => (/* binding */ ASSIGN_WITH_SEED_DISCRIMINATOR),
/* harmony export */   "AUTHORIZE_NONCE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ AUTHORIZE_NONCE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "CREATE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ CREATE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "CREATE_ACCOUNT_WITH_SEED_DISCRIMINATOR": () => (/* binding */ CREATE_ACCOUNT_WITH_SEED_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_NONCE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ INITIALIZE_NONCE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "NonceState": () => (/* binding */ NonceState),
/* harmony export */   "NonceVersion": () => (/* binding */ NonceVersion),
/* harmony export */   "SYSTEM_ERROR__ACCOUNT_ALREADY_IN_USE": () => (/* binding */ SYSTEM_ERROR__ACCOUNT_ALREADY_IN_USE),
/* harmony export */   "SYSTEM_ERROR__ADDRESS_WITH_SEED_MISMATCH": () => (/* binding */ SYSTEM_ERROR__ADDRESS_WITH_SEED_MISMATCH),
/* harmony export */   "SYSTEM_ERROR__INVALID_ACCOUNT_DATA_LENGTH": () => (/* binding */ SYSTEM_ERROR__INVALID_ACCOUNT_DATA_LENGTH),
/* harmony export */   "SYSTEM_ERROR__INVALID_PROGRAM_ID": () => (/* binding */ SYSTEM_ERROR__INVALID_PROGRAM_ID),
/* harmony export */   "SYSTEM_ERROR__MAX_SEED_LENGTH_EXCEEDED": () => (/* binding */ SYSTEM_ERROR__MAX_SEED_LENGTH_EXCEEDED),
/* harmony export */   "SYSTEM_ERROR__NONCE_BLOCKHASH_NOT_EXPIRED": () => (/* binding */ SYSTEM_ERROR__NONCE_BLOCKHASH_NOT_EXPIRED),
/* harmony export */   "SYSTEM_ERROR__NONCE_NO_RECENT_BLOCKHASHES": () => (/* binding */ SYSTEM_ERROR__NONCE_NO_RECENT_BLOCKHASHES),
/* harmony export */   "SYSTEM_ERROR__NONCE_UNEXPECTED_BLOCKHASH_VALUE": () => (/* binding */ SYSTEM_ERROR__NONCE_UNEXPECTED_BLOCKHASH_VALUE),
/* harmony export */   "SYSTEM_ERROR__RESULT_WITH_NEGATIVE_LAMPORTS": () => (/* binding */ SYSTEM_ERROR__RESULT_WITH_NEGATIVE_LAMPORTS),
/* harmony export */   "SYSTEM_PROGRAM_ADDRESS": () => (/* binding */ SYSTEM_PROGRAM_ADDRESS),
/* harmony export */   "SystemAccount": () => (/* binding */ SystemAccount),
/* harmony export */   "SystemInstruction": () => (/* binding */ SystemInstruction),
/* harmony export */   "TRANSFER_SOL_DISCRIMINATOR": () => (/* binding */ TRANSFER_SOL_DISCRIMINATOR),
/* harmony export */   "TRANSFER_SOL_WITH_SEED_DISCRIMINATOR": () => (/* binding */ TRANSFER_SOL_WITH_SEED_DISCRIMINATOR),
/* harmony export */   "UPGRADE_NONCE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ UPGRADE_NONCE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "WITHDRAW_NONCE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ WITHDRAW_NONCE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "decodeNonce": () => (/* binding */ decodeNonce),
/* harmony export */   "fetchAllMaybeNonce": () => (/* binding */ fetchAllMaybeNonce),
/* harmony export */   "fetchAllNonce": () => (/* binding */ fetchAllNonce),
/* harmony export */   "fetchMaybeNonce": () => (/* binding */ fetchMaybeNonce),
/* harmony export */   "fetchNonce": () => (/* binding */ fetchNonce),
/* harmony export */   "getAdvanceNonceAccountDiscriminatorBytes": () => (/* binding */ getAdvanceNonceAccountDiscriminatorBytes),
/* harmony export */   "getAdvanceNonceAccountInstruction": () => (/* binding */ getAdvanceNonceAccountInstruction),
/* harmony export */   "getAdvanceNonceAccountInstructionDataCodec": () => (/* binding */ getAdvanceNonceAccountInstructionDataCodec),
/* harmony export */   "getAdvanceNonceAccountInstructionDataDecoder": () => (/* binding */ getAdvanceNonceAccountInstructionDataDecoder),
/* harmony export */   "getAdvanceNonceAccountInstructionDataEncoder": () => (/* binding */ getAdvanceNonceAccountInstructionDataEncoder),
/* harmony export */   "getAllocateDiscriminatorBytes": () => (/* binding */ getAllocateDiscriminatorBytes),
/* harmony export */   "getAllocateInstruction": () => (/* binding */ getAllocateInstruction),
/* harmony export */   "getAllocateInstructionDataCodec": () => (/* binding */ getAllocateInstructionDataCodec),
/* harmony export */   "getAllocateInstructionDataDecoder": () => (/* binding */ getAllocateInstructionDataDecoder),
/* harmony export */   "getAllocateInstructionDataEncoder": () => (/* binding */ getAllocateInstructionDataEncoder),
/* harmony export */   "getAllocateWithSeedDiscriminatorBytes": () => (/* binding */ getAllocateWithSeedDiscriminatorBytes),
/* harmony export */   "getAllocateWithSeedInstruction": () => (/* binding */ getAllocateWithSeedInstruction),
/* harmony export */   "getAllocateWithSeedInstructionDataCodec": () => (/* binding */ getAllocateWithSeedInstructionDataCodec),
/* harmony export */   "getAllocateWithSeedInstructionDataDecoder": () => (/* binding */ getAllocateWithSeedInstructionDataDecoder),
/* harmony export */   "getAllocateWithSeedInstructionDataEncoder": () => (/* binding */ getAllocateWithSeedInstructionDataEncoder),
/* harmony export */   "getAssignDiscriminatorBytes": () => (/* binding */ getAssignDiscriminatorBytes),
/* harmony export */   "getAssignInstruction": () => (/* binding */ getAssignInstruction),
/* harmony export */   "getAssignInstructionDataCodec": () => (/* binding */ getAssignInstructionDataCodec),
/* harmony export */   "getAssignInstructionDataDecoder": () => (/* binding */ getAssignInstructionDataDecoder),
/* harmony export */   "getAssignInstructionDataEncoder": () => (/* binding */ getAssignInstructionDataEncoder),
/* harmony export */   "getAssignWithSeedDiscriminatorBytes": () => (/* binding */ getAssignWithSeedDiscriminatorBytes),
/* harmony export */   "getAssignWithSeedInstruction": () => (/* binding */ getAssignWithSeedInstruction),
/* harmony export */   "getAssignWithSeedInstructionDataCodec": () => (/* binding */ getAssignWithSeedInstructionDataCodec),
/* harmony export */   "getAssignWithSeedInstructionDataDecoder": () => (/* binding */ getAssignWithSeedInstructionDataDecoder),
/* harmony export */   "getAssignWithSeedInstructionDataEncoder": () => (/* binding */ getAssignWithSeedInstructionDataEncoder),
/* harmony export */   "getAuthorizeNonceAccountDiscriminatorBytes": () => (/* binding */ getAuthorizeNonceAccountDiscriminatorBytes),
/* harmony export */   "getAuthorizeNonceAccountInstruction": () => (/* binding */ getAuthorizeNonceAccountInstruction),
/* harmony export */   "getAuthorizeNonceAccountInstructionDataCodec": () => (/* binding */ getAuthorizeNonceAccountInstructionDataCodec),
/* harmony export */   "getAuthorizeNonceAccountInstructionDataDecoder": () => (/* binding */ getAuthorizeNonceAccountInstructionDataDecoder),
/* harmony export */   "getAuthorizeNonceAccountInstructionDataEncoder": () => (/* binding */ getAuthorizeNonceAccountInstructionDataEncoder),
/* harmony export */   "getCreateAccountDiscriminatorBytes": () => (/* binding */ getCreateAccountDiscriminatorBytes),
/* harmony export */   "getCreateAccountInstruction": () => (/* binding */ getCreateAccountInstruction),
/* harmony export */   "getCreateAccountInstructionDataCodec": () => (/* binding */ getCreateAccountInstructionDataCodec),
/* harmony export */   "getCreateAccountInstructionDataDecoder": () => (/* binding */ getCreateAccountInstructionDataDecoder),
/* harmony export */   "getCreateAccountInstructionDataEncoder": () => (/* binding */ getCreateAccountInstructionDataEncoder),
/* harmony export */   "getCreateAccountWithSeedDiscriminatorBytes": () => (/* binding */ getCreateAccountWithSeedDiscriminatorBytes),
/* harmony export */   "getCreateAccountWithSeedInstruction": () => (/* binding */ getCreateAccountWithSeedInstruction),
/* harmony export */   "getCreateAccountWithSeedInstructionDataCodec": () => (/* binding */ getCreateAccountWithSeedInstructionDataCodec),
/* harmony export */   "getCreateAccountWithSeedInstructionDataDecoder": () => (/* binding */ getCreateAccountWithSeedInstructionDataDecoder),
/* harmony export */   "getCreateAccountWithSeedInstructionDataEncoder": () => (/* binding */ getCreateAccountWithSeedInstructionDataEncoder),
/* harmony export */   "getInitializeNonceAccountDiscriminatorBytes": () => (/* binding */ getInitializeNonceAccountDiscriminatorBytes),
/* harmony export */   "getInitializeNonceAccountInstruction": () => (/* binding */ getInitializeNonceAccountInstruction),
/* harmony export */   "getInitializeNonceAccountInstructionDataCodec": () => (/* binding */ getInitializeNonceAccountInstructionDataCodec),
/* harmony export */   "getInitializeNonceAccountInstructionDataDecoder": () => (/* binding */ getInitializeNonceAccountInstructionDataDecoder),
/* harmony export */   "getInitializeNonceAccountInstructionDataEncoder": () => (/* binding */ getInitializeNonceAccountInstructionDataEncoder),
/* harmony export */   "getNonceCodec": () => (/* binding */ getNonceCodec),
/* harmony export */   "getNonceDecoder": () => (/* binding */ getNonceDecoder),
/* harmony export */   "getNonceEncoder": () => (/* binding */ getNonceEncoder),
/* harmony export */   "getNonceSize": () => (/* binding */ getNonceSize),
/* harmony export */   "getNonceStateCodec": () => (/* binding */ getNonceStateCodec),
/* harmony export */   "getNonceStateDecoder": () => (/* binding */ getNonceStateDecoder),
/* harmony export */   "getNonceStateEncoder": () => (/* binding */ getNonceStateEncoder),
/* harmony export */   "getNonceVersionCodec": () => (/* binding */ getNonceVersionCodec),
/* harmony export */   "getNonceVersionDecoder": () => (/* binding */ getNonceVersionDecoder),
/* harmony export */   "getNonceVersionEncoder": () => (/* binding */ getNonceVersionEncoder),
/* harmony export */   "getSystemErrorMessage": () => (/* binding */ getSystemErrorMessage),
/* harmony export */   "getTransferSolDiscriminatorBytes": () => (/* binding */ getTransferSolDiscriminatorBytes),
/* harmony export */   "getTransferSolInstruction": () => (/* binding */ getTransferSolInstruction),
/* harmony export */   "getTransferSolInstructionDataCodec": () => (/* binding */ getTransferSolInstructionDataCodec),
/* harmony export */   "getTransferSolInstructionDataDecoder": () => (/* binding */ getTransferSolInstructionDataDecoder),
/* harmony export */   "getTransferSolInstructionDataEncoder": () => (/* binding */ getTransferSolInstructionDataEncoder),
/* harmony export */   "getTransferSolWithSeedDiscriminatorBytes": () => (/* binding */ getTransferSolWithSeedDiscriminatorBytes),
/* harmony export */   "getTransferSolWithSeedInstruction": () => (/* binding */ getTransferSolWithSeedInstruction),
/* harmony export */   "getTransferSolWithSeedInstructionDataCodec": () => (/* binding */ getTransferSolWithSeedInstructionDataCodec),
/* harmony export */   "getTransferSolWithSeedInstructionDataDecoder": () => (/* binding */ getTransferSolWithSeedInstructionDataDecoder),
/* harmony export */   "getTransferSolWithSeedInstructionDataEncoder": () => (/* binding */ getTransferSolWithSeedInstructionDataEncoder),
/* harmony export */   "getUpgradeNonceAccountDiscriminatorBytes": () => (/* binding */ getUpgradeNonceAccountDiscriminatorBytes),
/* harmony export */   "getUpgradeNonceAccountInstruction": () => (/* binding */ getUpgradeNonceAccountInstruction),
/* harmony export */   "getUpgradeNonceAccountInstructionDataCodec": () => (/* binding */ getUpgradeNonceAccountInstructionDataCodec),
/* harmony export */   "getUpgradeNonceAccountInstructionDataDecoder": () => (/* binding */ getUpgradeNonceAccountInstructionDataDecoder),
/* harmony export */   "getUpgradeNonceAccountInstructionDataEncoder": () => (/* binding */ getUpgradeNonceAccountInstructionDataEncoder),
/* harmony export */   "getWithdrawNonceAccountDiscriminatorBytes": () => (/* binding */ getWithdrawNonceAccountDiscriminatorBytes),
/* harmony export */   "getWithdrawNonceAccountInstruction": () => (/* binding */ getWithdrawNonceAccountInstruction),
/* harmony export */   "getWithdrawNonceAccountInstructionDataCodec": () => (/* binding */ getWithdrawNonceAccountInstructionDataCodec),
/* harmony export */   "getWithdrawNonceAccountInstructionDataDecoder": () => (/* binding */ getWithdrawNonceAccountInstructionDataDecoder),
/* harmony export */   "getWithdrawNonceAccountInstructionDataEncoder": () => (/* binding */ getWithdrawNonceAccountInstructionDataEncoder),
/* harmony export */   "identifySystemInstruction": () => (/* binding */ identifySystemInstruction),
/* harmony export */   "isSystemError": () => (/* binding */ isSystemError),
/* harmony export */   "parseAdvanceNonceAccountInstruction": () => (/* binding */ parseAdvanceNonceAccountInstruction),
/* harmony export */   "parseAllocateInstruction": () => (/* binding */ parseAllocateInstruction),
/* harmony export */   "parseAllocateWithSeedInstruction": () => (/* binding */ parseAllocateWithSeedInstruction),
/* harmony export */   "parseAssignInstruction": () => (/* binding */ parseAssignInstruction),
/* harmony export */   "parseAssignWithSeedInstruction": () => (/* binding */ parseAssignWithSeedInstruction),
/* harmony export */   "parseAuthorizeNonceAccountInstruction": () => (/* binding */ parseAuthorizeNonceAccountInstruction),
/* harmony export */   "parseCreateAccountInstruction": () => (/* binding */ parseCreateAccountInstruction),
/* harmony export */   "parseCreateAccountWithSeedInstruction": () => (/* binding */ parseCreateAccountWithSeedInstruction),
/* harmony export */   "parseInitializeNonceAccountInstruction": () => (/* binding */ parseInitializeNonceAccountInstruction),
/* harmony export */   "parseTransferSolInstruction": () => (/* binding */ parseTransferSolInstruction),
/* harmony export */   "parseTransferSolWithSeedInstruction": () => (/* binding */ parseTransferSolWithSeedInstruction),
/* harmony export */   "parseUpgradeNonceAccountInstruction": () => (/* binding */ parseUpgradeNonceAccountInstruction),
/* harmony export */   "parseWithdrawNonceAccountInstruction": () => (/* binding */ parseWithdrawNonceAccountInstruction)
/* harmony export */ });
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-data-structures/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-numbers/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-core/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/addresses/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/accounts/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/programs/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/instructions/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/signers/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-strings/dist/index.browser.mjs");


// src/generated/accounts/nonce.ts
var NonceState = /* @__PURE__ */ ((NonceState2) => {
  NonceState2[NonceState2["Uninitialized"] = 0] = "Uninitialized";
  NonceState2[NonceState2["Initialized"] = 1] = "Initialized";
  return NonceState2;
})(NonceState || {});
function getNonceStateEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumEncoder)(NonceState, { size: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)() });
}
function getNonceStateDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumDecoder)(NonceState, { size: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)() });
}
function getNonceStateCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(getNonceStateEncoder(), getNonceStateDecoder());
}
var NonceVersion = /* @__PURE__ */ ((NonceVersion2) => {
  NonceVersion2[NonceVersion2["Legacy"] = 0] = "Legacy";
  NonceVersion2[NonceVersion2["Current"] = 1] = "Current";
  return NonceVersion2;
})(NonceVersion || {});
function getNonceVersionEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumEncoder)(NonceVersion, { size: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)() });
}
function getNonceVersionDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumDecoder)(NonceVersion, { size: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)() });
}
function getNonceVersionCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(getNonceVersionEncoder(), getNonceVersionDecoder());
}

// src/generated/accounts/nonce.ts
function getNonceEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
    ["version", getNonceVersionEncoder()],
    ["state", getNonceStateEncoder()],
    ["authority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()],
    ["blockhash", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()],
    ["lamportsPerSignature", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()]
  ]);
}
function getNonceDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["version", getNonceVersionDecoder()],
    ["state", getNonceStateDecoder()],
    ["authority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()],
    ["blockhash", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()],
    ["lamportsPerSignature", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()]
  ]);
}
function getNonceCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(getNonceEncoder(), getNonceDecoder());
}
function decodeNonce(encodedAccount) {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.decodeAccount)(
    encodedAccount,
    getNonceDecoder()
  );
}
async function fetchNonce(rpc, address, config) {
  const maybeAccount = await fetchMaybeNonce(rpc, address, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.assertAccountExists)(maybeAccount);
  return maybeAccount;
}
async function fetchMaybeNonce(rpc, address, config) {
  const maybeAccount = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.fetchEncodedAccount)(rpc, address, config);
  return decodeNonce(maybeAccount);
}
async function fetchAllNonce(rpc, addresses, config) {
  const maybeAccounts = await fetchAllMaybeNonce(rpc, addresses, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.assertAccountsExist)(maybeAccounts);
  return maybeAccounts;
}
async function fetchAllMaybeNonce(rpc, addresses, config) {
  const maybeAccounts = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.fetchEncodedAccounts)(rpc, addresses, config);
  return maybeAccounts.map((maybeAccount) => decodeNonce(maybeAccount));
}
function getNonceSize() {
  return 80;
}
var SYSTEM_PROGRAM_ADDRESS = "11111111111111111111111111111111";
var SystemAccount = /* @__PURE__ */ ((SystemAccount2) => {
  SystemAccount2[SystemAccount2["Nonce"] = 0] = "Nonce";
  return SystemAccount2;
})(SystemAccount || {});
var SystemInstruction = /* @__PURE__ */ ((SystemInstruction2) => {
  SystemInstruction2[SystemInstruction2["CreateAccount"] = 0] = "CreateAccount";
  SystemInstruction2[SystemInstruction2["Assign"] = 1] = "Assign";
  SystemInstruction2[SystemInstruction2["TransferSol"] = 2] = "TransferSol";
  SystemInstruction2[SystemInstruction2["CreateAccountWithSeed"] = 3] = "CreateAccountWithSeed";
  SystemInstruction2[SystemInstruction2["AdvanceNonceAccount"] = 4] = "AdvanceNonceAccount";
  SystemInstruction2[SystemInstruction2["WithdrawNonceAccount"] = 5] = "WithdrawNonceAccount";
  SystemInstruction2[SystemInstruction2["InitializeNonceAccount"] = 6] = "InitializeNonceAccount";
  SystemInstruction2[SystemInstruction2["AuthorizeNonceAccount"] = 7] = "AuthorizeNonceAccount";
  SystemInstruction2[SystemInstruction2["Allocate"] = 8] = "Allocate";
  SystemInstruction2[SystemInstruction2["AllocateWithSeed"] = 9] = "AllocateWithSeed";
  SystemInstruction2[SystemInstruction2["AssignWithSeed"] = 10] = "AssignWithSeed";
  SystemInstruction2[SystemInstruction2["TransferSolWithSeed"] = 11] = "TransferSolWithSeed";
  SystemInstruction2[SystemInstruction2["UpgradeNonceAccount"] = 12] = "UpgradeNonceAccount";
  return SystemInstruction2;
})(SystemInstruction || {});
function identifySystemInstruction(instruction) {
  const data = "data" in instruction ? instruction.data : instruction;
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(0), 0)) {
    return 0 /* CreateAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(1), 0)) {
    return 1 /* Assign */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(2), 0)) {
    return 2 /* TransferSol */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(3), 0)) {
    return 3 /* CreateAccountWithSeed */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(4), 0)) {
    return 4 /* AdvanceNonceAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(5), 0)) {
    return 5 /* WithdrawNonceAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(6), 0)) {
    return 6 /* InitializeNonceAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(7), 0)) {
    return 7 /* AuthorizeNonceAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(8), 0)) {
    return 8 /* Allocate */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(9), 0)) {
    return 9 /* AllocateWithSeed */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(10), 0)) {
    return 10 /* AssignWithSeed */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(11), 0)) {
    return 11 /* TransferSolWithSeed */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(12), 0)) {
    return 12 /* UpgradeNonceAccount */;
  }
  throw new Error(
    "The provided instruction could not be identified as a system instruction."
  );
}

// src/generated/errors/system.ts
var SYSTEM_ERROR__ACCOUNT_ALREADY_IN_USE = 0;
var SYSTEM_ERROR__RESULT_WITH_NEGATIVE_LAMPORTS = 1;
var SYSTEM_ERROR__INVALID_PROGRAM_ID = 2;
var SYSTEM_ERROR__INVALID_ACCOUNT_DATA_LENGTH = 3;
var SYSTEM_ERROR__MAX_SEED_LENGTH_EXCEEDED = 4;
var SYSTEM_ERROR__ADDRESS_WITH_SEED_MISMATCH = 5;
var SYSTEM_ERROR__NONCE_NO_RECENT_BLOCKHASHES = 6;
var SYSTEM_ERROR__NONCE_BLOCKHASH_NOT_EXPIRED = 7;
var SYSTEM_ERROR__NONCE_UNEXPECTED_BLOCKHASH_VALUE = 8;
var systemErrorMessages;
if (true) {
  systemErrorMessages = {
    [SYSTEM_ERROR__ACCOUNT_ALREADY_IN_USE]: `an account with the same address already exists`,
    [SYSTEM_ERROR__ADDRESS_WITH_SEED_MISMATCH]: `provided address does not match addressed derived from seed`,
    [SYSTEM_ERROR__INVALID_ACCOUNT_DATA_LENGTH]: `cannot allocate account data of this length`,
    [SYSTEM_ERROR__INVALID_PROGRAM_ID]: `cannot assign account to this program id`,
    [SYSTEM_ERROR__MAX_SEED_LENGTH_EXCEEDED]: `length of requested seed is too long`,
    [SYSTEM_ERROR__NONCE_BLOCKHASH_NOT_EXPIRED]: `stored nonce is still in recent_blockhashes`,
    [SYSTEM_ERROR__NONCE_NO_RECENT_BLOCKHASHES]: `advancing stored nonce requires a populated RecentBlockhashes sysvar`,
    [SYSTEM_ERROR__NONCE_UNEXPECTED_BLOCKHASH_VALUE]: `specified nonce does not match stored nonce`,
    [SYSTEM_ERROR__RESULT_WITH_NEGATIVE_LAMPORTS]: `account does not have enough SOL to perform the operation`
  };
}
function getSystemErrorMessage(code) {
  if (true) {
    return systemErrorMessages[code];
  }
  return "Error message not available in production bundles.";
}
function isSystemError(error, transactionMessage, code) {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.isProgramError)(
    error,
    transactionMessage,
    SYSTEM_PROGRAM_ADDRESS,
    code
  );
}
function expectAddress(value) {
  if (!value) {
    throw new Error("Expected a Address.");
  }
  if (typeof value === "object" && "address" in value) {
    return value.address;
  }
  if (Array.isArray(value)) {
    return value[0];
  }
  return value;
}
function getAccountMetaFactory(programAddress, optionalAccountStrategy) {
  return (account) => {
    if (!account.value) {
      return Object.freeze({
        address: programAddress,
        role: _solana_kit__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY
      });
    }
    const writableRole = account.isWritable ? _solana_kit__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE : _solana_kit__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY;
    return Object.freeze({
      address: expectAddress(account.value),
      role: isTransactionSigner(account.value) ? (0,_solana_kit__WEBPACK_IMPORTED_MODULE_6__.upgradeRoleToSigner)(writableRole) : writableRole,
      ...isTransactionSigner(account.value) ? { signer: account.value } : {}
    });
  };
}
function isTransactionSigner(value) {
  return !!value && typeof value === "object" && "address" in value && (0,_solana_kit__WEBPACK_IMPORTED_MODULE_7__.isTransactionSigner)(value);
}

// src/generated/instructions/advanceNonceAccount.ts
var ADVANCE_NONCE_ACCOUNT_DISCRIMINATOR = 4;
function getAdvanceNonceAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(ADVANCE_NONCE_ACCOUNT_DISCRIMINATOR);
}
function getAdvanceNonceAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()]]),
    (value) => ({
      ...value,
      discriminator: ADVANCE_NONCE_ACCOUNT_DISCRIMINATOR
    })
  );
}
function getAdvanceNonceAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()]]);
}
function getAdvanceNonceAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getAdvanceNonceAccountInstructionDataEncoder(),
    getAdvanceNonceAccountInstructionDataDecoder()
  );
}
function getAdvanceNonceAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    nonceAccount: { value: input.nonceAccount ?? null, isWritable: true },
    recentBlockhashesSysvar: {
      value: input.recentBlockhashesSysvar ?? null,
      isWritable: false
    },
    nonceAuthority: { value: input.nonceAuthority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.recentBlockhashesSysvar.value) {
    accounts.recentBlockhashesSysvar.value = "SysvarRecentB1ockHashes11111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.nonceAccount),
      getAccountMeta(accounts.recentBlockhashesSysvar),
      getAccountMeta(accounts.nonceAuthority)
    ],
    programAddress,
    data: getAdvanceNonceAccountInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseAdvanceNonceAccountInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      nonceAccount: getNextAccount(),
      recentBlockhashesSysvar: getNextAccount(),
      nonceAuthority: getNextAccount()
    },
    data: getAdvanceNonceAccountInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var ALLOCATE_DISCRIMINATOR = 8;
function getAllocateDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(ALLOCATE_DISCRIMINATOR);
}
function getAllocateInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: ALLOCATE_DISCRIMINATOR })
  );
}
function getAllocateInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()]
  ]);
}
function getAllocateInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getAllocateInstructionDataEncoder(),
    getAllocateInstructionDataDecoder()
  );
}
function getAllocateInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    newAccount: { value: input.newAccount ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.newAccount)],
    programAddress,
    data: getAllocateInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseAllocateInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      newAccount: getNextAccount()
    },
    data: getAllocateInstructionDataDecoder().decode(instruction.data)
  };
}
var ALLOCATE_WITH_SEED_DISCRIMINATOR = 9;
function getAllocateWithSeedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(ALLOCATE_WITH_SEED_DISCRIMINATOR);
}
function getAllocateWithSeedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["base", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()],
      ["seed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addEncoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Encoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)())],
      ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()],
      ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({ ...value, discriminator: ALLOCATE_WITH_SEED_DISCRIMINATOR })
  );
}
function getAllocateWithSeedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["base", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()],
    ["seed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addDecoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Decoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)())],
    ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()],
    ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getAllocateWithSeedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getAllocateWithSeedInstructionDataEncoder(),
    getAllocateWithSeedInstructionDataDecoder()
  );
}
function getAllocateWithSeedInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    newAccount: { value: input.newAccount ?? null, isWritable: true },
    baseAccount: { value: input.baseAccount ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.newAccount),
      getAccountMeta(accounts.baseAccount)
    ],
    programAddress,
    data: getAllocateWithSeedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseAllocateWithSeedInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      newAccount: getNextAccount(),
      baseAccount: getNextAccount()
    },
    data: getAllocateWithSeedInstructionDataDecoder().decode(instruction.data)
  };
}
var ASSIGN_DISCRIMINATOR = 1;
function getAssignDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(ASSIGN_DISCRIMINATOR);
}
function getAssignInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({ ...value, discriminator: ASSIGN_DISCRIMINATOR })
  );
}
function getAssignInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getAssignInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getAssignInstructionDataEncoder(),
    getAssignInstructionDataDecoder()
  );
}
function getAssignInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.account)],
    programAddress,
    data: getAssignInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseAssignInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount()
    },
    data: getAssignInstructionDataDecoder().decode(instruction.data)
  };
}
var ASSIGN_WITH_SEED_DISCRIMINATOR = 10;
function getAssignWithSeedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(ASSIGN_WITH_SEED_DISCRIMINATOR);
}
function getAssignWithSeedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["base", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()],
      ["seed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addEncoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Encoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)())],
      ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({ ...value, discriminator: ASSIGN_WITH_SEED_DISCRIMINATOR })
  );
}
function getAssignWithSeedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["base", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()],
    ["seed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addDecoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Decoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)())],
    ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getAssignWithSeedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getAssignWithSeedInstructionDataEncoder(),
    getAssignWithSeedInstructionDataDecoder()
  );
}
function getAssignWithSeedInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    baseAccount: { value: input.baseAccount ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.baseAccount)
    ],
    programAddress,
    data: getAssignWithSeedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseAssignWithSeedInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      baseAccount: getNextAccount()
    },
    data: getAssignWithSeedInstructionDataDecoder().decode(instruction.data)
  };
}
var AUTHORIZE_NONCE_ACCOUNT_DISCRIMINATOR = 7;
function getAuthorizeNonceAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(AUTHORIZE_NONCE_ACCOUNT_DISCRIMINATOR);
}
function getAuthorizeNonceAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["newNonceAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({
      ...value,
      discriminator: AUTHORIZE_NONCE_ACCOUNT_DISCRIMINATOR
    })
  );
}
function getAuthorizeNonceAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["newNonceAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getAuthorizeNonceAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getAuthorizeNonceAccountInstructionDataEncoder(),
    getAuthorizeNonceAccountInstructionDataDecoder()
  );
}
function getAuthorizeNonceAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    nonceAccount: { value: input.nonceAccount ?? null, isWritable: true },
    nonceAuthority: { value: input.nonceAuthority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.nonceAccount),
      getAccountMeta(accounts.nonceAuthority)
    ],
    programAddress,
    data: getAuthorizeNonceAccountInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseAuthorizeNonceAccountInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      nonceAccount: getNextAccount(),
      nonceAuthority: getNextAccount()
    },
    data: getAuthorizeNonceAccountInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var CREATE_ACCOUNT_DISCRIMINATOR = 0;
function getCreateAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(CREATE_ACCOUNT_DISCRIMINATOR);
}
function getCreateAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["lamports", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()],
      ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()],
      ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({ ...value, discriminator: CREATE_ACCOUNT_DISCRIMINATOR })
  );
}
function getCreateAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["lamports", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()],
    ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()],
    ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getCreateAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getCreateAccountInstructionDataEncoder(),
    getCreateAccountInstructionDataDecoder()
  );
}
function getCreateAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    payer: { value: input.payer ?? null, isWritable: true },
    newAccount: { value: input.newAccount ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const byteDelta = [Number(args.space) + _solana_kit__WEBPACK_IMPORTED_MODULE_4__.BASE_ACCOUNT_SIZE].reduce(
    (a, b) => a + b,
    0
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.payer),
      getAccountMeta(accounts.newAccount)
    ],
    programAddress,
    data: getCreateAccountInstructionDataEncoder().encode(
      args
    )
  };
  return Object.freeze({ ...instruction, byteDelta });
}
function parseCreateAccountInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      payer: getNextAccount(),
      newAccount: getNextAccount()
    },
    data: getCreateAccountInstructionDataDecoder().decode(instruction.data)
  };
}
var CREATE_ACCOUNT_WITH_SEED_DISCRIMINATOR = 3;
function getCreateAccountWithSeedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(CREATE_ACCOUNT_WITH_SEED_DISCRIMINATOR);
}
function getCreateAccountWithSeedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["base", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()],
      ["seed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addEncoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Encoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)())],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()],
      ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()],
      ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({
      ...value,
      discriminator: CREATE_ACCOUNT_WITH_SEED_DISCRIMINATOR
    })
  );
}
function getCreateAccountWithSeedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["base", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()],
    ["seed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addDecoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Decoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)())],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()],
    ["space", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()],
    ["programAddress", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getCreateAccountWithSeedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getCreateAccountWithSeedInstructionDataEncoder(),
    getCreateAccountWithSeedInstructionDataDecoder()
  );
}
function getCreateAccountWithSeedInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    payer: { value: input.payer ?? null, isWritable: true },
    newAccount: { value: input.newAccount ?? null, isWritable: true },
    baseAccount: { value: input.baseAccount ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.payer),
      getAccountMeta(accounts.newAccount),
      getAccountMeta(accounts.baseAccount)
    ],
    programAddress,
    data: getCreateAccountWithSeedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseCreateAccountWithSeedInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      payer: getNextAccount(),
      newAccount: getNextAccount(),
      baseAccount: getNextAccount()
    },
    data: getCreateAccountWithSeedInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var INITIALIZE_NONCE_ACCOUNT_DISCRIMINATOR = 6;
function getInitializeNonceAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(INITIALIZE_NONCE_ACCOUNT_DISCRIMINATOR);
}
function getInitializeNonceAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["nonceAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({
      ...value,
      discriminator: INITIALIZE_NONCE_ACCOUNT_DISCRIMINATOR
    })
  );
}
function getInitializeNonceAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["nonceAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getInitializeNonceAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getInitializeNonceAccountInstructionDataEncoder(),
    getInitializeNonceAccountInstructionDataDecoder()
  );
}
function getInitializeNonceAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    nonceAccount: { value: input.nonceAccount ?? null, isWritable: true },
    recentBlockhashesSysvar: {
      value: input.recentBlockhashesSysvar ?? null,
      isWritable: false
    },
    rentSysvar: { value: input.rentSysvar ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  if (!accounts.recentBlockhashesSysvar.value) {
    accounts.recentBlockhashesSysvar.value = "SysvarRecentB1ockHashes11111111111111111111";
  }
  if (!accounts.rentSysvar.value) {
    accounts.rentSysvar.value = "SysvarRent111111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.nonceAccount),
      getAccountMeta(accounts.recentBlockhashesSysvar),
      getAccountMeta(accounts.rentSysvar)
    ],
    programAddress,
    data: getInitializeNonceAccountInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseInitializeNonceAccountInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      nonceAccount: getNextAccount(),
      recentBlockhashesSysvar: getNextAccount(),
      rentSysvar: getNextAccount()
    },
    data: getInitializeNonceAccountInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var TRANSFER_SOL_DISCRIMINATOR = 2;
function getTransferSolDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(TRANSFER_SOL_DISCRIMINATOR);
}
function getTransferSolInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: TRANSFER_SOL_DISCRIMINATOR })
  );
}
function getTransferSolInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()]
  ]);
}
function getTransferSolInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getTransferSolInstructionDataEncoder(),
    getTransferSolInstructionDataDecoder()
  );
}
function getTransferSolInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    source: { value: input.source ?? null, isWritable: true },
    destination: { value: input.destination ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.source),
      getAccountMeta(accounts.destination)
    ],
    programAddress,
    data: getTransferSolInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseTransferSolInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      source: getNextAccount(),
      destination: getNextAccount()
    },
    data: getTransferSolInstructionDataDecoder().decode(instruction.data)
  };
}
var TRANSFER_SOL_WITH_SEED_DISCRIMINATOR = 11;
function getTransferSolWithSeedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(TRANSFER_SOL_WITH_SEED_DISCRIMINATOR);
}
function getTransferSolWithSeedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()],
      ["fromSeed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addEncoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Encoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)())],
      ["fromOwner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressEncoder)()]
    ]),
    (value) => ({
      ...value,
      discriminator: TRANSFER_SOL_WITH_SEED_DISCRIMINATOR
    })
  );
}
function getTransferSolWithSeedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()],
    ["fromSeed", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.addDecoderSizePrefix)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.getUtf8Decoder)(), (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)())],
    ["fromOwner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getAddressDecoder)()]
  ]);
}
function getTransferSolWithSeedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getTransferSolWithSeedInstructionDataEncoder(),
    getTransferSolWithSeedInstructionDataDecoder()
  );
}
function getTransferSolWithSeedInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    source: { value: input.source ?? null, isWritable: true },
    baseAccount: { value: input.baseAccount ?? null, isWritable: false },
    destination: { value: input.destination ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.source),
      getAccountMeta(accounts.baseAccount),
      getAccountMeta(accounts.destination)
    ],
    programAddress,
    data: getTransferSolWithSeedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseTransferSolWithSeedInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      source: getNextAccount(),
      baseAccount: getNextAccount(),
      destination: getNextAccount()
    },
    data: getTransferSolWithSeedInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var UPGRADE_NONCE_ACCOUNT_DISCRIMINATOR = 12;
function getUpgradeNonceAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(UPGRADE_NONCE_ACCOUNT_DISCRIMINATOR);
}
function getUpgradeNonceAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()]]),
    (value) => ({
      ...value,
      discriminator: UPGRADE_NONCE_ACCOUNT_DISCRIMINATOR
    })
  );
}
function getUpgradeNonceAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()]]);
}
function getUpgradeNonceAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getUpgradeNonceAccountInstructionDataEncoder(),
    getUpgradeNonceAccountInstructionDataDecoder()
  );
}
function getUpgradeNonceAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    nonceAccount: { value: input.nonceAccount ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.nonceAccount)],
    programAddress,
    data: getUpgradeNonceAccountInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseUpgradeNonceAccountInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      nonceAccount: getNextAccount()
    },
    data: getUpgradeNonceAccountInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var WITHDRAW_NONCE_ACCOUNT_DISCRIMINATOR = 5;
function getWithdrawNonceAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)().encode(WITHDRAW_NONCE_ACCOUNT_DISCRIMINATOR);
}
function getWithdrawNonceAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Encoder)()],
      ["withdrawAmount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Encoder)()]
    ]),
    (value) => ({
      ...value,
      discriminator: WITHDRAW_NONCE_ACCOUNT_DISCRIMINATOR
    })
  );
}
function getWithdrawNonceAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU32Decoder)()],
    ["withdrawAmount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getU64Decoder)()]
  ]);
}
function getWithdrawNonceAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(
    getWithdrawNonceAccountInstructionDataEncoder(),
    getWithdrawNonceAccountInstructionDataDecoder()
  );
}
function getWithdrawNonceAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? SYSTEM_PROGRAM_ADDRESS;
  const originalAccounts = {
    nonceAccount: { value: input.nonceAccount ?? null, isWritable: true },
    recipientAccount: {
      value: input.recipientAccount ?? null,
      isWritable: true
    },
    recentBlockhashesSysvar: {
      value: input.recentBlockhashesSysvar ?? null,
      isWritable: false
    },
    rentSysvar: { value: input.rentSysvar ?? null, isWritable: false },
    nonceAuthority: { value: input.nonceAuthority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  if (!accounts.recentBlockhashesSysvar.value) {
    accounts.recentBlockhashesSysvar.value = "SysvarRecentB1ockHashes11111111111111111111";
  }
  if (!accounts.rentSysvar.value) {
    accounts.rentSysvar.value = "SysvarRent111111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.nonceAccount),
      getAccountMeta(accounts.recipientAccount),
      getAccountMeta(accounts.recentBlockhashesSysvar),
      getAccountMeta(accounts.rentSysvar),
      getAccountMeta(accounts.nonceAuthority)
    ],
    programAddress,
    data: getWithdrawNonceAccountInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseWithdrawNonceAccountInstruction(instruction) {
  if (instruction.accounts.length < 5) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      nonceAccount: getNextAccount(),
      recipientAccount: getNextAccount(),
      recentBlockhashesSysvar: getNextAccount(),
      rentSysvar: getNextAccount(),
      nonceAuthority: getNextAccount()
    },
    data: getWithdrawNonceAccountInstructionDataDecoder().decode(
      instruction.data
    )
  };
}


//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map

/***/ }),

/***/ "./node_modules/@solana-program/token/dist/src/index.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@solana-program/token/dist/src/index.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AMOUNT_TO_UI_AMOUNT_DISCRIMINATOR": () => (/* binding */ AMOUNT_TO_UI_AMOUNT_DISCRIMINATOR),
/* harmony export */   "APPROVE_CHECKED_DISCRIMINATOR": () => (/* binding */ APPROVE_CHECKED_DISCRIMINATOR),
/* harmony export */   "APPROVE_DISCRIMINATOR": () => (/* binding */ APPROVE_DISCRIMINATOR),
/* harmony export */   "ASSOCIATED_TOKEN_ERROR__INVALID_OWNER": () => (/* binding */ ASSOCIATED_TOKEN_ERROR__INVALID_OWNER),
/* harmony export */   "ASSOCIATED_TOKEN_PROGRAM_ADDRESS": () => (/* binding */ ASSOCIATED_TOKEN_PROGRAM_ADDRESS),
/* harmony export */   "AccountState": () => (/* binding */ AccountState),
/* harmony export */   "AssociatedTokenInstruction": () => (/* binding */ AssociatedTokenInstruction),
/* harmony export */   "AuthorityType": () => (/* binding */ AuthorityType),
/* harmony export */   "BURN_CHECKED_DISCRIMINATOR": () => (/* binding */ BURN_CHECKED_DISCRIMINATOR),
/* harmony export */   "BURN_DISCRIMINATOR": () => (/* binding */ BURN_DISCRIMINATOR),
/* harmony export */   "CLOSE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ CLOSE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR": () => (/* binding */ CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR),
/* harmony export */   "CREATE_ASSOCIATED_TOKEN_IDEMPOTENT_DISCRIMINATOR": () => (/* binding */ CREATE_ASSOCIATED_TOKEN_IDEMPOTENT_DISCRIMINATOR),
/* harmony export */   "FREEZE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ FREEZE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "GET_ACCOUNT_DATA_SIZE_DISCRIMINATOR": () => (/* binding */ GET_ACCOUNT_DATA_SIZE_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_ACCOUNT2_DISCRIMINATOR": () => (/* binding */ INITIALIZE_ACCOUNT2_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_ACCOUNT3_DISCRIMINATOR": () => (/* binding */ INITIALIZE_ACCOUNT3_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_ACCOUNT_DISCRIMINATOR": () => (/* binding */ INITIALIZE_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_IMMUTABLE_OWNER_DISCRIMINATOR": () => (/* binding */ INITIALIZE_IMMUTABLE_OWNER_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_MINT2_DISCRIMINATOR": () => (/* binding */ INITIALIZE_MINT2_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_MINT_DISCRIMINATOR": () => (/* binding */ INITIALIZE_MINT_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_MULTISIG2_DISCRIMINATOR": () => (/* binding */ INITIALIZE_MULTISIG2_DISCRIMINATOR),
/* harmony export */   "INITIALIZE_MULTISIG_DISCRIMINATOR": () => (/* binding */ INITIALIZE_MULTISIG_DISCRIMINATOR),
/* harmony export */   "MINT_TO_CHECKED_DISCRIMINATOR": () => (/* binding */ MINT_TO_CHECKED_DISCRIMINATOR),
/* harmony export */   "MINT_TO_DISCRIMINATOR": () => (/* binding */ MINT_TO_DISCRIMINATOR),
/* harmony export */   "RECOVER_NESTED_ASSOCIATED_TOKEN_DISCRIMINATOR": () => (/* binding */ RECOVER_NESTED_ASSOCIATED_TOKEN_DISCRIMINATOR),
/* harmony export */   "REVOKE_DISCRIMINATOR": () => (/* binding */ REVOKE_DISCRIMINATOR),
/* harmony export */   "SET_AUTHORITY_DISCRIMINATOR": () => (/* binding */ SET_AUTHORITY_DISCRIMINATOR),
/* harmony export */   "SYNC_NATIVE_DISCRIMINATOR": () => (/* binding */ SYNC_NATIVE_DISCRIMINATOR),
/* harmony export */   "THAW_ACCOUNT_DISCRIMINATOR": () => (/* binding */ THAW_ACCOUNT_DISCRIMINATOR),
/* harmony export */   "TOKEN_ERROR__ACCOUNT_FROZEN": () => (/* binding */ TOKEN_ERROR__ACCOUNT_FROZEN),
/* harmony export */   "TOKEN_ERROR__ALREADY_IN_USE": () => (/* binding */ TOKEN_ERROR__ALREADY_IN_USE),
/* harmony export */   "TOKEN_ERROR__AUTHORITY_TYPE_NOT_SUPPORTED": () => (/* binding */ TOKEN_ERROR__AUTHORITY_TYPE_NOT_SUPPORTED),
/* harmony export */   "TOKEN_ERROR__FIXED_SUPPLY": () => (/* binding */ TOKEN_ERROR__FIXED_SUPPLY),
/* harmony export */   "TOKEN_ERROR__INSUFFICIENT_FUNDS": () => (/* binding */ TOKEN_ERROR__INSUFFICIENT_FUNDS),
/* harmony export */   "TOKEN_ERROR__INVALID_INSTRUCTION": () => (/* binding */ TOKEN_ERROR__INVALID_INSTRUCTION),
/* harmony export */   "TOKEN_ERROR__INVALID_MINT": () => (/* binding */ TOKEN_ERROR__INVALID_MINT),
/* harmony export */   "TOKEN_ERROR__INVALID_NUMBER_OF_PROVIDED_SIGNERS": () => (/* binding */ TOKEN_ERROR__INVALID_NUMBER_OF_PROVIDED_SIGNERS),
/* harmony export */   "TOKEN_ERROR__INVALID_NUMBER_OF_REQUIRED_SIGNERS": () => (/* binding */ TOKEN_ERROR__INVALID_NUMBER_OF_REQUIRED_SIGNERS),
/* harmony export */   "TOKEN_ERROR__INVALID_STATE": () => (/* binding */ TOKEN_ERROR__INVALID_STATE),
/* harmony export */   "TOKEN_ERROR__MINT_CANNOT_FREEZE": () => (/* binding */ TOKEN_ERROR__MINT_CANNOT_FREEZE),
/* harmony export */   "TOKEN_ERROR__MINT_DECIMALS_MISMATCH": () => (/* binding */ TOKEN_ERROR__MINT_DECIMALS_MISMATCH),
/* harmony export */   "TOKEN_ERROR__MINT_MISMATCH": () => (/* binding */ TOKEN_ERROR__MINT_MISMATCH),
/* harmony export */   "TOKEN_ERROR__NATIVE_NOT_SUPPORTED": () => (/* binding */ TOKEN_ERROR__NATIVE_NOT_SUPPORTED),
/* harmony export */   "TOKEN_ERROR__NON_NATIVE_HAS_BALANCE": () => (/* binding */ TOKEN_ERROR__NON_NATIVE_HAS_BALANCE),
/* harmony export */   "TOKEN_ERROR__NON_NATIVE_NOT_SUPPORTED": () => (/* binding */ TOKEN_ERROR__NON_NATIVE_NOT_SUPPORTED),
/* harmony export */   "TOKEN_ERROR__NOT_RENT_EXEMPT": () => (/* binding */ TOKEN_ERROR__NOT_RENT_EXEMPT),
/* harmony export */   "TOKEN_ERROR__OVERFLOW": () => (/* binding */ TOKEN_ERROR__OVERFLOW),
/* harmony export */   "TOKEN_ERROR__OWNER_MISMATCH": () => (/* binding */ TOKEN_ERROR__OWNER_MISMATCH),
/* harmony export */   "TOKEN_ERROR__UNINITIALIZED_STATE": () => (/* binding */ TOKEN_ERROR__UNINITIALIZED_STATE),
/* harmony export */   "TOKEN_PROGRAM_ADDRESS": () => (/* binding */ TOKEN_PROGRAM_ADDRESS),
/* harmony export */   "TRANSFER_CHECKED_DISCRIMINATOR": () => (/* binding */ TRANSFER_CHECKED_DISCRIMINATOR),
/* harmony export */   "TRANSFER_DISCRIMINATOR": () => (/* binding */ TRANSFER_DISCRIMINATOR),
/* harmony export */   "TokenAccount": () => (/* binding */ TokenAccount),
/* harmony export */   "TokenInstruction": () => (/* binding */ TokenInstruction),
/* harmony export */   "UI_AMOUNT_TO_AMOUNT_DISCRIMINATOR": () => (/* binding */ UI_AMOUNT_TO_AMOUNT_DISCRIMINATOR),
/* harmony export */   "decodeMint": () => (/* binding */ decodeMint),
/* harmony export */   "decodeMultisig": () => (/* binding */ decodeMultisig),
/* harmony export */   "decodeToken": () => (/* binding */ decodeToken),
/* harmony export */   "fetchAllMaybeMint": () => (/* binding */ fetchAllMaybeMint),
/* harmony export */   "fetchAllMaybeMultisig": () => (/* binding */ fetchAllMaybeMultisig),
/* harmony export */   "fetchAllMaybeToken": () => (/* binding */ fetchAllMaybeToken),
/* harmony export */   "fetchAllMint": () => (/* binding */ fetchAllMint),
/* harmony export */   "fetchAllMultisig": () => (/* binding */ fetchAllMultisig),
/* harmony export */   "fetchAllToken": () => (/* binding */ fetchAllToken),
/* harmony export */   "fetchMaybeMint": () => (/* binding */ fetchMaybeMint),
/* harmony export */   "fetchMaybeMultisig": () => (/* binding */ fetchMaybeMultisig),
/* harmony export */   "fetchMaybeToken": () => (/* binding */ fetchMaybeToken),
/* harmony export */   "fetchMint": () => (/* binding */ fetchMint),
/* harmony export */   "fetchMultisig": () => (/* binding */ fetchMultisig),
/* harmony export */   "fetchToken": () => (/* binding */ fetchToken),
/* harmony export */   "findAssociatedTokenPda": () => (/* binding */ findAssociatedTokenPda),
/* harmony export */   "getAccountStateCodec": () => (/* binding */ getAccountStateCodec),
/* harmony export */   "getAccountStateDecoder": () => (/* binding */ getAccountStateDecoder),
/* harmony export */   "getAccountStateEncoder": () => (/* binding */ getAccountStateEncoder),
/* harmony export */   "getAmountToUiAmountDiscriminatorBytes": () => (/* binding */ getAmountToUiAmountDiscriminatorBytes),
/* harmony export */   "getAmountToUiAmountInstruction": () => (/* binding */ getAmountToUiAmountInstruction),
/* harmony export */   "getAmountToUiAmountInstructionDataCodec": () => (/* binding */ getAmountToUiAmountInstructionDataCodec),
/* harmony export */   "getAmountToUiAmountInstructionDataDecoder": () => (/* binding */ getAmountToUiAmountInstructionDataDecoder),
/* harmony export */   "getAmountToUiAmountInstructionDataEncoder": () => (/* binding */ getAmountToUiAmountInstructionDataEncoder),
/* harmony export */   "getApproveCheckedDiscriminatorBytes": () => (/* binding */ getApproveCheckedDiscriminatorBytes),
/* harmony export */   "getApproveCheckedInstruction": () => (/* binding */ getApproveCheckedInstruction),
/* harmony export */   "getApproveCheckedInstructionDataCodec": () => (/* binding */ getApproveCheckedInstructionDataCodec),
/* harmony export */   "getApproveCheckedInstructionDataDecoder": () => (/* binding */ getApproveCheckedInstructionDataDecoder),
/* harmony export */   "getApproveCheckedInstructionDataEncoder": () => (/* binding */ getApproveCheckedInstructionDataEncoder),
/* harmony export */   "getApproveDiscriminatorBytes": () => (/* binding */ getApproveDiscriminatorBytes),
/* harmony export */   "getApproveInstruction": () => (/* binding */ getApproveInstruction),
/* harmony export */   "getApproveInstructionDataCodec": () => (/* binding */ getApproveInstructionDataCodec),
/* harmony export */   "getApproveInstructionDataDecoder": () => (/* binding */ getApproveInstructionDataDecoder),
/* harmony export */   "getApproveInstructionDataEncoder": () => (/* binding */ getApproveInstructionDataEncoder),
/* harmony export */   "getAssociatedTokenErrorMessage": () => (/* binding */ getAssociatedTokenErrorMessage),
/* harmony export */   "getAuthorityTypeCodec": () => (/* binding */ getAuthorityTypeCodec),
/* harmony export */   "getAuthorityTypeDecoder": () => (/* binding */ getAuthorityTypeDecoder),
/* harmony export */   "getAuthorityTypeEncoder": () => (/* binding */ getAuthorityTypeEncoder),
/* harmony export */   "getBurnCheckedDiscriminatorBytes": () => (/* binding */ getBurnCheckedDiscriminatorBytes),
/* harmony export */   "getBurnCheckedInstruction": () => (/* binding */ getBurnCheckedInstruction),
/* harmony export */   "getBurnCheckedInstructionDataCodec": () => (/* binding */ getBurnCheckedInstructionDataCodec),
/* harmony export */   "getBurnCheckedInstructionDataDecoder": () => (/* binding */ getBurnCheckedInstructionDataDecoder),
/* harmony export */   "getBurnCheckedInstructionDataEncoder": () => (/* binding */ getBurnCheckedInstructionDataEncoder),
/* harmony export */   "getBurnDiscriminatorBytes": () => (/* binding */ getBurnDiscriminatorBytes),
/* harmony export */   "getBurnInstruction": () => (/* binding */ getBurnInstruction),
/* harmony export */   "getBurnInstructionDataCodec": () => (/* binding */ getBurnInstructionDataCodec),
/* harmony export */   "getBurnInstructionDataDecoder": () => (/* binding */ getBurnInstructionDataDecoder),
/* harmony export */   "getBurnInstructionDataEncoder": () => (/* binding */ getBurnInstructionDataEncoder),
/* harmony export */   "getCloseAccountDiscriminatorBytes": () => (/* binding */ getCloseAccountDiscriminatorBytes),
/* harmony export */   "getCloseAccountInstruction": () => (/* binding */ getCloseAccountInstruction),
/* harmony export */   "getCloseAccountInstructionDataCodec": () => (/* binding */ getCloseAccountInstructionDataCodec),
/* harmony export */   "getCloseAccountInstructionDataDecoder": () => (/* binding */ getCloseAccountInstructionDataDecoder),
/* harmony export */   "getCloseAccountInstructionDataEncoder": () => (/* binding */ getCloseAccountInstructionDataEncoder),
/* harmony export */   "getCreateAssociatedTokenDiscriminatorBytes": () => (/* binding */ getCreateAssociatedTokenDiscriminatorBytes),
/* harmony export */   "getCreateAssociatedTokenIdempotentDiscriminatorBytes": () => (/* binding */ getCreateAssociatedTokenIdempotentDiscriminatorBytes),
/* harmony export */   "getCreateAssociatedTokenIdempotentInstruction": () => (/* binding */ getCreateAssociatedTokenIdempotentInstruction),
/* harmony export */   "getCreateAssociatedTokenIdempotentInstructionAsync": () => (/* binding */ getCreateAssociatedTokenIdempotentInstructionAsync),
/* harmony export */   "getCreateAssociatedTokenIdempotentInstructionDataCodec": () => (/* binding */ getCreateAssociatedTokenIdempotentInstructionDataCodec),
/* harmony export */   "getCreateAssociatedTokenIdempotentInstructionDataDecoder": () => (/* binding */ getCreateAssociatedTokenIdempotentInstructionDataDecoder),
/* harmony export */   "getCreateAssociatedTokenIdempotentInstructionDataEncoder": () => (/* binding */ getCreateAssociatedTokenIdempotentInstructionDataEncoder),
/* harmony export */   "getCreateAssociatedTokenInstruction": () => (/* binding */ getCreateAssociatedTokenInstruction),
/* harmony export */   "getCreateAssociatedTokenInstructionAsync": () => (/* binding */ getCreateAssociatedTokenInstructionAsync),
/* harmony export */   "getCreateAssociatedTokenInstructionDataCodec": () => (/* binding */ getCreateAssociatedTokenInstructionDataCodec),
/* harmony export */   "getCreateAssociatedTokenInstructionDataDecoder": () => (/* binding */ getCreateAssociatedTokenInstructionDataDecoder),
/* harmony export */   "getCreateAssociatedTokenInstructionDataEncoder": () => (/* binding */ getCreateAssociatedTokenInstructionDataEncoder),
/* harmony export */   "getFreezeAccountDiscriminatorBytes": () => (/* binding */ getFreezeAccountDiscriminatorBytes),
/* harmony export */   "getFreezeAccountInstruction": () => (/* binding */ getFreezeAccountInstruction),
/* harmony export */   "getFreezeAccountInstructionDataCodec": () => (/* binding */ getFreezeAccountInstructionDataCodec),
/* harmony export */   "getFreezeAccountInstructionDataDecoder": () => (/* binding */ getFreezeAccountInstructionDataDecoder),
/* harmony export */   "getFreezeAccountInstructionDataEncoder": () => (/* binding */ getFreezeAccountInstructionDataEncoder),
/* harmony export */   "getGetAccountDataSizeDiscriminatorBytes": () => (/* binding */ getGetAccountDataSizeDiscriminatorBytes),
/* harmony export */   "getGetAccountDataSizeInstruction": () => (/* binding */ getGetAccountDataSizeInstruction),
/* harmony export */   "getGetAccountDataSizeInstructionDataCodec": () => (/* binding */ getGetAccountDataSizeInstructionDataCodec),
/* harmony export */   "getGetAccountDataSizeInstructionDataDecoder": () => (/* binding */ getGetAccountDataSizeInstructionDataDecoder),
/* harmony export */   "getGetAccountDataSizeInstructionDataEncoder": () => (/* binding */ getGetAccountDataSizeInstructionDataEncoder),
/* harmony export */   "getInitializeAccount2DiscriminatorBytes": () => (/* binding */ getInitializeAccount2DiscriminatorBytes),
/* harmony export */   "getInitializeAccount2Instruction": () => (/* binding */ getInitializeAccount2Instruction),
/* harmony export */   "getInitializeAccount2InstructionDataCodec": () => (/* binding */ getInitializeAccount2InstructionDataCodec),
/* harmony export */   "getInitializeAccount2InstructionDataDecoder": () => (/* binding */ getInitializeAccount2InstructionDataDecoder),
/* harmony export */   "getInitializeAccount2InstructionDataEncoder": () => (/* binding */ getInitializeAccount2InstructionDataEncoder),
/* harmony export */   "getInitializeAccount3DiscriminatorBytes": () => (/* binding */ getInitializeAccount3DiscriminatorBytes),
/* harmony export */   "getInitializeAccount3Instruction": () => (/* binding */ getInitializeAccount3Instruction),
/* harmony export */   "getInitializeAccount3InstructionDataCodec": () => (/* binding */ getInitializeAccount3InstructionDataCodec),
/* harmony export */   "getInitializeAccount3InstructionDataDecoder": () => (/* binding */ getInitializeAccount3InstructionDataDecoder),
/* harmony export */   "getInitializeAccount3InstructionDataEncoder": () => (/* binding */ getInitializeAccount3InstructionDataEncoder),
/* harmony export */   "getInitializeAccountDiscriminatorBytes": () => (/* binding */ getInitializeAccountDiscriminatorBytes),
/* harmony export */   "getInitializeAccountInstruction": () => (/* binding */ getInitializeAccountInstruction),
/* harmony export */   "getInitializeAccountInstructionDataCodec": () => (/* binding */ getInitializeAccountInstructionDataCodec),
/* harmony export */   "getInitializeAccountInstructionDataDecoder": () => (/* binding */ getInitializeAccountInstructionDataDecoder),
/* harmony export */   "getInitializeAccountInstructionDataEncoder": () => (/* binding */ getInitializeAccountInstructionDataEncoder),
/* harmony export */   "getInitializeImmutableOwnerDiscriminatorBytes": () => (/* binding */ getInitializeImmutableOwnerDiscriminatorBytes),
/* harmony export */   "getInitializeImmutableOwnerInstruction": () => (/* binding */ getInitializeImmutableOwnerInstruction),
/* harmony export */   "getInitializeImmutableOwnerInstructionDataCodec": () => (/* binding */ getInitializeImmutableOwnerInstructionDataCodec),
/* harmony export */   "getInitializeImmutableOwnerInstructionDataDecoder": () => (/* binding */ getInitializeImmutableOwnerInstructionDataDecoder),
/* harmony export */   "getInitializeImmutableOwnerInstructionDataEncoder": () => (/* binding */ getInitializeImmutableOwnerInstructionDataEncoder),
/* harmony export */   "getInitializeMint2DiscriminatorBytes": () => (/* binding */ getInitializeMint2DiscriminatorBytes),
/* harmony export */   "getInitializeMint2Instruction": () => (/* binding */ getInitializeMint2Instruction),
/* harmony export */   "getInitializeMint2InstructionDataCodec": () => (/* binding */ getInitializeMint2InstructionDataCodec),
/* harmony export */   "getInitializeMint2InstructionDataDecoder": () => (/* binding */ getInitializeMint2InstructionDataDecoder),
/* harmony export */   "getInitializeMint2InstructionDataEncoder": () => (/* binding */ getInitializeMint2InstructionDataEncoder),
/* harmony export */   "getInitializeMintDiscriminatorBytes": () => (/* binding */ getInitializeMintDiscriminatorBytes),
/* harmony export */   "getInitializeMintInstruction": () => (/* binding */ getInitializeMintInstruction),
/* harmony export */   "getInitializeMintInstructionDataCodec": () => (/* binding */ getInitializeMintInstructionDataCodec),
/* harmony export */   "getInitializeMintInstructionDataDecoder": () => (/* binding */ getInitializeMintInstructionDataDecoder),
/* harmony export */   "getInitializeMintInstructionDataEncoder": () => (/* binding */ getInitializeMintInstructionDataEncoder),
/* harmony export */   "getInitializeMultisig2DiscriminatorBytes": () => (/* binding */ getInitializeMultisig2DiscriminatorBytes),
/* harmony export */   "getInitializeMultisig2Instruction": () => (/* binding */ getInitializeMultisig2Instruction),
/* harmony export */   "getInitializeMultisig2InstructionDataCodec": () => (/* binding */ getInitializeMultisig2InstructionDataCodec),
/* harmony export */   "getInitializeMultisig2InstructionDataDecoder": () => (/* binding */ getInitializeMultisig2InstructionDataDecoder),
/* harmony export */   "getInitializeMultisig2InstructionDataEncoder": () => (/* binding */ getInitializeMultisig2InstructionDataEncoder),
/* harmony export */   "getInitializeMultisigDiscriminatorBytes": () => (/* binding */ getInitializeMultisigDiscriminatorBytes),
/* harmony export */   "getInitializeMultisigInstruction": () => (/* binding */ getInitializeMultisigInstruction),
/* harmony export */   "getInitializeMultisigInstructionDataCodec": () => (/* binding */ getInitializeMultisigInstructionDataCodec),
/* harmony export */   "getInitializeMultisigInstructionDataDecoder": () => (/* binding */ getInitializeMultisigInstructionDataDecoder),
/* harmony export */   "getInitializeMultisigInstructionDataEncoder": () => (/* binding */ getInitializeMultisigInstructionDataEncoder),
/* harmony export */   "getMintCodec": () => (/* binding */ getMintCodec),
/* harmony export */   "getMintDecoder": () => (/* binding */ getMintDecoder),
/* harmony export */   "getMintEncoder": () => (/* binding */ getMintEncoder),
/* harmony export */   "getMintSize": () => (/* binding */ getMintSize),
/* harmony export */   "getMintToCheckedDiscriminatorBytes": () => (/* binding */ getMintToCheckedDiscriminatorBytes),
/* harmony export */   "getMintToCheckedInstruction": () => (/* binding */ getMintToCheckedInstruction),
/* harmony export */   "getMintToCheckedInstructionDataCodec": () => (/* binding */ getMintToCheckedInstructionDataCodec),
/* harmony export */   "getMintToCheckedInstructionDataDecoder": () => (/* binding */ getMintToCheckedInstructionDataDecoder),
/* harmony export */   "getMintToCheckedInstructionDataEncoder": () => (/* binding */ getMintToCheckedInstructionDataEncoder),
/* harmony export */   "getMintToDiscriminatorBytes": () => (/* binding */ getMintToDiscriminatorBytes),
/* harmony export */   "getMintToInstruction": () => (/* binding */ getMintToInstruction),
/* harmony export */   "getMintToInstructionDataCodec": () => (/* binding */ getMintToInstructionDataCodec),
/* harmony export */   "getMintToInstructionDataDecoder": () => (/* binding */ getMintToInstructionDataDecoder),
/* harmony export */   "getMintToInstructionDataEncoder": () => (/* binding */ getMintToInstructionDataEncoder),
/* harmony export */   "getMultisigCodec": () => (/* binding */ getMultisigCodec),
/* harmony export */   "getMultisigDecoder": () => (/* binding */ getMultisigDecoder),
/* harmony export */   "getMultisigEncoder": () => (/* binding */ getMultisigEncoder),
/* harmony export */   "getMultisigSize": () => (/* binding */ getMultisigSize),
/* harmony export */   "getRecoverNestedAssociatedTokenDiscriminatorBytes": () => (/* binding */ getRecoverNestedAssociatedTokenDiscriminatorBytes),
/* harmony export */   "getRecoverNestedAssociatedTokenInstruction": () => (/* binding */ getRecoverNestedAssociatedTokenInstruction),
/* harmony export */   "getRecoverNestedAssociatedTokenInstructionAsync": () => (/* binding */ getRecoverNestedAssociatedTokenInstructionAsync),
/* harmony export */   "getRecoverNestedAssociatedTokenInstructionDataCodec": () => (/* binding */ getRecoverNestedAssociatedTokenInstructionDataCodec),
/* harmony export */   "getRecoverNestedAssociatedTokenInstructionDataDecoder": () => (/* binding */ getRecoverNestedAssociatedTokenInstructionDataDecoder),
/* harmony export */   "getRecoverNestedAssociatedTokenInstructionDataEncoder": () => (/* binding */ getRecoverNestedAssociatedTokenInstructionDataEncoder),
/* harmony export */   "getRevokeDiscriminatorBytes": () => (/* binding */ getRevokeDiscriminatorBytes),
/* harmony export */   "getRevokeInstruction": () => (/* binding */ getRevokeInstruction),
/* harmony export */   "getRevokeInstructionDataCodec": () => (/* binding */ getRevokeInstructionDataCodec),
/* harmony export */   "getRevokeInstructionDataDecoder": () => (/* binding */ getRevokeInstructionDataDecoder),
/* harmony export */   "getRevokeInstructionDataEncoder": () => (/* binding */ getRevokeInstructionDataEncoder),
/* harmony export */   "getSetAuthorityDiscriminatorBytes": () => (/* binding */ getSetAuthorityDiscriminatorBytes),
/* harmony export */   "getSetAuthorityInstruction": () => (/* binding */ getSetAuthorityInstruction),
/* harmony export */   "getSetAuthorityInstructionDataCodec": () => (/* binding */ getSetAuthorityInstructionDataCodec),
/* harmony export */   "getSetAuthorityInstructionDataDecoder": () => (/* binding */ getSetAuthorityInstructionDataDecoder),
/* harmony export */   "getSetAuthorityInstructionDataEncoder": () => (/* binding */ getSetAuthorityInstructionDataEncoder),
/* harmony export */   "getSyncNativeDiscriminatorBytes": () => (/* binding */ getSyncNativeDiscriminatorBytes),
/* harmony export */   "getSyncNativeInstruction": () => (/* binding */ getSyncNativeInstruction),
/* harmony export */   "getSyncNativeInstructionDataCodec": () => (/* binding */ getSyncNativeInstructionDataCodec),
/* harmony export */   "getSyncNativeInstructionDataDecoder": () => (/* binding */ getSyncNativeInstructionDataDecoder),
/* harmony export */   "getSyncNativeInstructionDataEncoder": () => (/* binding */ getSyncNativeInstructionDataEncoder),
/* harmony export */   "getThawAccountDiscriminatorBytes": () => (/* binding */ getThawAccountDiscriminatorBytes),
/* harmony export */   "getThawAccountInstruction": () => (/* binding */ getThawAccountInstruction),
/* harmony export */   "getThawAccountInstructionDataCodec": () => (/* binding */ getThawAccountInstructionDataCodec),
/* harmony export */   "getThawAccountInstructionDataDecoder": () => (/* binding */ getThawAccountInstructionDataDecoder),
/* harmony export */   "getThawAccountInstructionDataEncoder": () => (/* binding */ getThawAccountInstructionDataEncoder),
/* harmony export */   "getTokenCodec": () => (/* binding */ getTokenCodec),
/* harmony export */   "getTokenDecoder": () => (/* binding */ getTokenDecoder),
/* harmony export */   "getTokenEncoder": () => (/* binding */ getTokenEncoder),
/* harmony export */   "getTokenErrorMessage": () => (/* binding */ getTokenErrorMessage),
/* harmony export */   "getTokenSize": () => (/* binding */ getTokenSize),
/* harmony export */   "getTransferCheckedDiscriminatorBytes": () => (/* binding */ getTransferCheckedDiscriminatorBytes),
/* harmony export */   "getTransferCheckedInstruction": () => (/* binding */ getTransferCheckedInstruction),
/* harmony export */   "getTransferCheckedInstructionDataCodec": () => (/* binding */ getTransferCheckedInstructionDataCodec),
/* harmony export */   "getTransferCheckedInstructionDataDecoder": () => (/* binding */ getTransferCheckedInstructionDataDecoder),
/* harmony export */   "getTransferCheckedInstructionDataEncoder": () => (/* binding */ getTransferCheckedInstructionDataEncoder),
/* harmony export */   "getTransferDiscriminatorBytes": () => (/* binding */ getTransferDiscriminatorBytes),
/* harmony export */   "getTransferInstruction": () => (/* binding */ getTransferInstruction),
/* harmony export */   "getTransferInstructionDataCodec": () => (/* binding */ getTransferInstructionDataCodec),
/* harmony export */   "getTransferInstructionDataDecoder": () => (/* binding */ getTransferInstructionDataDecoder),
/* harmony export */   "getTransferInstructionDataEncoder": () => (/* binding */ getTransferInstructionDataEncoder),
/* harmony export */   "getUiAmountToAmountDiscriminatorBytes": () => (/* binding */ getUiAmountToAmountDiscriminatorBytes),
/* harmony export */   "getUiAmountToAmountInstruction": () => (/* binding */ getUiAmountToAmountInstruction),
/* harmony export */   "getUiAmountToAmountInstructionDataCodec": () => (/* binding */ getUiAmountToAmountInstructionDataCodec),
/* harmony export */   "getUiAmountToAmountInstructionDataDecoder": () => (/* binding */ getUiAmountToAmountInstructionDataDecoder),
/* harmony export */   "getUiAmountToAmountInstructionDataEncoder": () => (/* binding */ getUiAmountToAmountInstructionDataEncoder),
/* harmony export */   "identifyAssociatedTokenInstruction": () => (/* binding */ identifyAssociatedTokenInstruction),
/* harmony export */   "identifyTokenAccount": () => (/* binding */ identifyTokenAccount),
/* harmony export */   "identifyTokenInstruction": () => (/* binding */ identifyTokenInstruction),
/* harmony export */   "isAssociatedTokenError": () => (/* binding */ isAssociatedTokenError),
/* harmony export */   "isTokenError": () => (/* binding */ isTokenError),
/* harmony export */   "parseAmountToUiAmountInstruction": () => (/* binding */ parseAmountToUiAmountInstruction),
/* harmony export */   "parseApproveCheckedInstruction": () => (/* binding */ parseApproveCheckedInstruction),
/* harmony export */   "parseApproveInstruction": () => (/* binding */ parseApproveInstruction),
/* harmony export */   "parseBurnCheckedInstruction": () => (/* binding */ parseBurnCheckedInstruction),
/* harmony export */   "parseBurnInstruction": () => (/* binding */ parseBurnInstruction),
/* harmony export */   "parseCloseAccountInstruction": () => (/* binding */ parseCloseAccountInstruction),
/* harmony export */   "parseCreateAssociatedTokenIdempotentInstruction": () => (/* binding */ parseCreateAssociatedTokenIdempotentInstruction),
/* harmony export */   "parseCreateAssociatedTokenInstruction": () => (/* binding */ parseCreateAssociatedTokenInstruction),
/* harmony export */   "parseFreezeAccountInstruction": () => (/* binding */ parseFreezeAccountInstruction),
/* harmony export */   "parseGetAccountDataSizeInstruction": () => (/* binding */ parseGetAccountDataSizeInstruction),
/* harmony export */   "parseInitializeAccount2Instruction": () => (/* binding */ parseInitializeAccount2Instruction),
/* harmony export */   "parseInitializeAccount3Instruction": () => (/* binding */ parseInitializeAccount3Instruction),
/* harmony export */   "parseInitializeAccountInstruction": () => (/* binding */ parseInitializeAccountInstruction),
/* harmony export */   "parseInitializeImmutableOwnerInstruction": () => (/* binding */ parseInitializeImmutableOwnerInstruction),
/* harmony export */   "parseInitializeMint2Instruction": () => (/* binding */ parseInitializeMint2Instruction),
/* harmony export */   "parseInitializeMintInstruction": () => (/* binding */ parseInitializeMintInstruction),
/* harmony export */   "parseInitializeMultisig2Instruction": () => (/* binding */ parseInitializeMultisig2Instruction),
/* harmony export */   "parseInitializeMultisigInstruction": () => (/* binding */ parseInitializeMultisigInstruction),
/* harmony export */   "parseMintToCheckedInstruction": () => (/* binding */ parseMintToCheckedInstruction),
/* harmony export */   "parseMintToInstruction": () => (/* binding */ parseMintToInstruction),
/* harmony export */   "parseRecoverNestedAssociatedTokenInstruction": () => (/* binding */ parseRecoverNestedAssociatedTokenInstruction),
/* harmony export */   "parseRevokeInstruction": () => (/* binding */ parseRevokeInstruction),
/* harmony export */   "parseSetAuthorityInstruction": () => (/* binding */ parseSetAuthorityInstruction),
/* harmony export */   "parseSyncNativeInstruction": () => (/* binding */ parseSyncNativeInstruction),
/* harmony export */   "parseThawAccountInstruction": () => (/* binding */ parseThawAccountInstruction),
/* harmony export */   "parseTransferCheckedInstruction": () => (/* binding */ parseTransferCheckedInstruction),
/* harmony export */   "parseTransferInstruction": () => (/* binding */ parseTransferInstruction),
/* harmony export */   "parseUiAmountToAmountInstruction": () => (/* binding */ parseUiAmountToAmountInstruction)
/* harmony export */ });
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-data-structures/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/options/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/addresses/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-numbers/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-core/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/accounts/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/programs/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/instructions/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/signers/dist/index.browser.mjs");
/* harmony import */ var _solana_kit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @solana/kit */ "./node_modules/@solana/codecs-strings/dist/index.browser.mjs");


// src/generated/accounts/mint.ts
function getMintEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
    [
      "mintAuthority",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Encoder)(),
        noneValue: "zeroes"
      })
    ],
    ["supply", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
    ["isInitialized", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getBooleanEncoder)()],
    [
      "freezeAuthority",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Encoder)(),
        noneValue: "zeroes"
      })
    ]
  ]);
}
function getMintDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    [
      "mintAuthority",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Decoder)(),
        noneValue: "zeroes"
      })
    ],
    ["supply", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["isInitialized", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getBooleanDecoder)()],
    [
      "freezeAuthority",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Decoder)(),
        noneValue: "zeroes"
      })
    ]
  ]);
}
function getMintCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(getMintEncoder(), getMintDecoder());
}
function decodeMint(encodedAccount) {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.decodeAccount)(
    encodedAccount,
    getMintDecoder()
  );
}
async function fetchMint(rpc, address, config) {
  const maybeAccount = await fetchMaybeMint(rpc, address, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.assertAccountExists)(maybeAccount);
  return maybeAccount;
}
async function fetchMaybeMint(rpc, address, config) {
  const maybeAccount = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.fetchEncodedAccount)(rpc, address, config);
  return decodeMint(maybeAccount);
}
async function fetchAllMint(rpc, addresses, config) {
  const maybeAccounts = await fetchAllMaybeMint(rpc, addresses, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.assertAccountsExist)(maybeAccounts);
  return maybeAccounts;
}
async function fetchAllMaybeMint(rpc, addresses, config) {
  const maybeAccounts = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.fetchEncodedAccounts)(rpc, addresses, config);
  return maybeAccounts.map((maybeAccount) => decodeMint(maybeAccount));
}
function getMintSize() {
  return 82;
}
function getMultisigEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
    ["m", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
    ["n", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
    ["isInitialized", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getBooleanEncoder)()],
    ["signers", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getArrayEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)(), { size: 11 })]
  ]);
}
function getMultisigDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["m", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["n", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["isInitialized", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getBooleanDecoder)()],
    ["signers", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getArrayDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)(), { size: 11 })]
  ]);
}
function getMultisigCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(getMultisigEncoder(), getMultisigDecoder());
}
function decodeMultisig(encodedAccount) {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.decodeAccount)(
    encodedAccount,
    getMultisigDecoder()
  );
}
async function fetchMultisig(rpc, address, config) {
  const maybeAccount = await fetchMaybeMultisig(rpc, address, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.assertAccountExists)(maybeAccount);
  return maybeAccount;
}
async function fetchMaybeMultisig(rpc, address, config) {
  const maybeAccount = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.fetchEncodedAccount)(rpc, address, config);
  return decodeMultisig(maybeAccount);
}
async function fetchAllMultisig(rpc, addresses, config) {
  const maybeAccounts = await fetchAllMaybeMultisig(rpc, addresses, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.assertAccountsExist)(maybeAccounts);
  return maybeAccounts;
}
async function fetchAllMaybeMultisig(rpc, addresses, config) {
  const maybeAccounts = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.fetchEncodedAccounts)(rpc, addresses, config);
  return maybeAccounts.map((maybeAccount) => decodeMultisig(maybeAccount));
}
function getMultisigSize() {
  return 355;
}
var AccountState = /* @__PURE__ */ ((AccountState2) => {
  AccountState2[AccountState2["Uninitialized"] = 0] = "Uninitialized";
  AccountState2[AccountState2["Initialized"] = 1] = "Initialized";
  AccountState2[AccountState2["Frozen"] = 2] = "Frozen";
  return AccountState2;
})(AccountState || {});
function getAccountStateEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumEncoder)(AccountState);
}
function getAccountStateDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumDecoder)(AccountState);
}
function getAccountStateCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(getAccountStateEncoder(), getAccountStateDecoder());
}
var AuthorityType = /* @__PURE__ */ ((AuthorityType2) => {
  AuthorityType2[AuthorityType2["MintTokens"] = 0] = "MintTokens";
  AuthorityType2[AuthorityType2["FreezeAccount"] = 1] = "FreezeAccount";
  AuthorityType2[AuthorityType2["AccountOwner"] = 2] = "AccountOwner";
  AuthorityType2[AuthorityType2["CloseAccount"] = 3] = "CloseAccount";
  return AuthorityType2;
})(AuthorityType || {});
function getAuthorityTypeEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumEncoder)(AuthorityType);
}
function getAuthorityTypeDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getEnumDecoder)(AuthorityType);
}
function getAuthorityTypeCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(getAuthorityTypeEncoder(), getAuthorityTypeDecoder());
}

// src/generated/accounts/token.ts
function getTokenEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
    ["mint", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)()],
    ["owner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()],
    [
      "delegate",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Encoder)(),
        noneValue: "zeroes"
      })
    ],
    ["state", getAccountStateEncoder()],
    [
      "isNative",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Encoder)(),
        noneValue: "zeroes"
      })
    ],
    ["delegatedAmount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()],
    [
      "closeAuthority",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Encoder)(),
        noneValue: "zeroes"
      })
    ]
  ]);
}
function getTokenDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["mint", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)()],
    ["owner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()],
    [
      "delegate",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Decoder)(),
        noneValue: "zeroes"
      })
    ],
    ["state", getAccountStateDecoder()],
    [
      "isNative",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Decoder)(),
        noneValue: "zeroes"
      })
    ],
    ["delegatedAmount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()],
    [
      "closeAuthority",
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)(), {
        prefix: (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU32Decoder)(),
        noneValue: "zeroes"
      })
    ]
  ]);
}
function getTokenCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(getTokenEncoder(), getTokenDecoder());
}
function decodeToken(encodedAccount) {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.decodeAccount)(
    encodedAccount,
    getTokenDecoder()
  );
}
async function fetchToken(rpc, address, config) {
  const maybeAccount = await fetchMaybeToken(rpc, address, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.assertAccountExists)(maybeAccount);
  return maybeAccount;
}
async function fetchMaybeToken(rpc, address, config) {
  const maybeAccount = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.fetchEncodedAccount)(rpc, address, config);
  return decodeToken(maybeAccount);
}
async function fetchAllToken(rpc, addresses, config) {
  const maybeAccounts = await fetchAllMaybeToken(rpc, addresses, config);
  (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.assertAccountsExist)(maybeAccounts);
  return maybeAccounts;
}
async function fetchAllMaybeToken(rpc, addresses, config) {
  const maybeAccounts = await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_5__.fetchEncodedAccounts)(rpc, addresses, config);
  return maybeAccounts.map((maybeAccount) => decodeToken(maybeAccount));
}
function getTokenSize() {
  return 165;
}
var ASSOCIATED_TOKEN_PROGRAM_ADDRESS = "ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";
var AssociatedTokenInstruction = /* @__PURE__ */ ((AssociatedTokenInstruction2) => {
  AssociatedTokenInstruction2[AssociatedTokenInstruction2["CreateAssociatedToken"] = 0] = "CreateAssociatedToken";
  AssociatedTokenInstruction2[AssociatedTokenInstruction2["CreateAssociatedTokenIdempotent"] = 1] = "CreateAssociatedTokenIdempotent";
  AssociatedTokenInstruction2[AssociatedTokenInstruction2["RecoverNestedAssociatedToken"] = 2] = "RecoverNestedAssociatedToken";
  return AssociatedTokenInstruction2;
})(AssociatedTokenInstruction || {});
function identifyAssociatedTokenInstruction(instruction) {
  const data = "data" in instruction ? instruction.data : instruction;
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(0), 0)) {
    return 0 /* CreateAssociatedToken */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(1), 0)) {
    return 1 /* CreateAssociatedTokenIdempotent */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(2), 0)) {
    return 2 /* RecoverNestedAssociatedToken */;
  }
  throw new Error(
    "The provided instruction could not be identified as a associatedToken instruction."
  );
}
var TOKEN_PROGRAM_ADDRESS = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
var TokenAccount = /* @__PURE__ */ ((TokenAccount2) => {
  TokenAccount2[TokenAccount2["Mint"] = 0] = "Mint";
  TokenAccount2[TokenAccount2["Token"] = 1] = "Token";
  TokenAccount2[TokenAccount2["Multisig"] = 2] = "Multisig";
  return TokenAccount2;
})(TokenAccount || {});
function identifyTokenAccount(account) {
  const data = "data" in account ? account.data : account;
  if (data.length === 82) {
    return 0 /* Mint */;
  }
  if (data.length === 165) {
    return 1 /* Token */;
  }
  if (data.length === 355) {
    return 2 /* Multisig */;
  }
  throw new Error(
    "The provided account could not be identified as a token account."
  );
}
var TokenInstruction = /* @__PURE__ */ ((TokenInstruction2) => {
  TokenInstruction2[TokenInstruction2["InitializeMint"] = 0] = "InitializeMint";
  TokenInstruction2[TokenInstruction2["InitializeAccount"] = 1] = "InitializeAccount";
  TokenInstruction2[TokenInstruction2["InitializeMultisig"] = 2] = "InitializeMultisig";
  TokenInstruction2[TokenInstruction2["Transfer"] = 3] = "Transfer";
  TokenInstruction2[TokenInstruction2["Approve"] = 4] = "Approve";
  TokenInstruction2[TokenInstruction2["Revoke"] = 5] = "Revoke";
  TokenInstruction2[TokenInstruction2["SetAuthority"] = 6] = "SetAuthority";
  TokenInstruction2[TokenInstruction2["MintTo"] = 7] = "MintTo";
  TokenInstruction2[TokenInstruction2["Burn"] = 8] = "Burn";
  TokenInstruction2[TokenInstruction2["CloseAccount"] = 9] = "CloseAccount";
  TokenInstruction2[TokenInstruction2["FreezeAccount"] = 10] = "FreezeAccount";
  TokenInstruction2[TokenInstruction2["ThawAccount"] = 11] = "ThawAccount";
  TokenInstruction2[TokenInstruction2["TransferChecked"] = 12] = "TransferChecked";
  TokenInstruction2[TokenInstruction2["ApproveChecked"] = 13] = "ApproveChecked";
  TokenInstruction2[TokenInstruction2["MintToChecked"] = 14] = "MintToChecked";
  TokenInstruction2[TokenInstruction2["BurnChecked"] = 15] = "BurnChecked";
  TokenInstruction2[TokenInstruction2["InitializeAccount2"] = 16] = "InitializeAccount2";
  TokenInstruction2[TokenInstruction2["SyncNative"] = 17] = "SyncNative";
  TokenInstruction2[TokenInstruction2["InitializeAccount3"] = 18] = "InitializeAccount3";
  TokenInstruction2[TokenInstruction2["InitializeMultisig2"] = 19] = "InitializeMultisig2";
  TokenInstruction2[TokenInstruction2["InitializeMint2"] = 20] = "InitializeMint2";
  TokenInstruction2[TokenInstruction2["GetAccountDataSize"] = 21] = "GetAccountDataSize";
  TokenInstruction2[TokenInstruction2["InitializeImmutableOwner"] = 22] = "InitializeImmutableOwner";
  TokenInstruction2[TokenInstruction2["AmountToUiAmount"] = 23] = "AmountToUiAmount";
  TokenInstruction2[TokenInstruction2["UiAmountToAmount"] = 24] = "UiAmountToAmount";
  return TokenInstruction2;
})(TokenInstruction || {});
function identifyTokenInstruction(instruction) {
  const data = "data" in instruction ? instruction.data : instruction;
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(0), 0)) {
    return 0 /* InitializeMint */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(1), 0)) {
    return 1 /* InitializeAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(2), 0)) {
    return 2 /* InitializeMultisig */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(3), 0)) {
    return 3 /* Transfer */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(4), 0)) {
    return 4 /* Approve */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(5), 0)) {
    return 5 /* Revoke */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(6), 0)) {
    return 6 /* SetAuthority */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(7), 0)) {
    return 7 /* MintTo */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(8), 0)) {
    return 8 /* Burn */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(9), 0)) {
    return 9 /* CloseAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(10), 0)) {
    return 10 /* FreezeAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(11), 0)) {
    return 11 /* ThawAccount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(12), 0)) {
    return 12 /* TransferChecked */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(13), 0)) {
    return 13 /* ApproveChecked */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(14), 0)) {
    return 14 /* MintToChecked */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(15), 0)) {
    return 15 /* BurnChecked */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(16), 0)) {
    return 16 /* InitializeAccount2 */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(17), 0)) {
    return 17 /* SyncNative */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(18), 0)) {
    return 18 /* InitializeAccount3 */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(19), 0)) {
    return 19 /* InitializeMultisig2 */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(20), 0)) {
    return 20 /* InitializeMint2 */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(21), 0)) {
    return 21 /* GetAccountDataSize */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(22), 0)) {
    return 22 /* InitializeImmutableOwner */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(23), 0)) {
    return 23 /* AmountToUiAmount */;
  }
  if ((0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.containsBytes)(data, (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(24), 0)) {
    return 24 /* UiAmountToAmount */;
  }
  throw new Error(
    "The provided instruction could not be identified as a token instruction."
  );
}

// src/generated/errors/associatedToken.ts
var ASSOCIATED_TOKEN_ERROR__INVALID_OWNER = 0;
var associatedTokenErrorMessages;
if (true) {
  associatedTokenErrorMessages = {
    [ASSOCIATED_TOKEN_ERROR__INVALID_OWNER]: `Associated token account owner does not match address derivation`
  };
}
function getAssociatedTokenErrorMessage(code) {
  if (true) {
    return associatedTokenErrorMessages[code];
  }
  return "Error message not available in production bundles.";
}
function isAssociatedTokenError(error, transactionMessage, code) {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_6__.isProgramError)(
    error,
    transactionMessage,
    ASSOCIATED_TOKEN_PROGRAM_ADDRESS,
    code
  );
}
var TOKEN_ERROR__NOT_RENT_EXEMPT = 0;
var TOKEN_ERROR__INSUFFICIENT_FUNDS = 1;
var TOKEN_ERROR__INVALID_MINT = 2;
var TOKEN_ERROR__MINT_MISMATCH = 3;
var TOKEN_ERROR__OWNER_MISMATCH = 4;
var TOKEN_ERROR__FIXED_SUPPLY = 5;
var TOKEN_ERROR__ALREADY_IN_USE = 6;
var TOKEN_ERROR__INVALID_NUMBER_OF_PROVIDED_SIGNERS = 7;
var TOKEN_ERROR__INVALID_NUMBER_OF_REQUIRED_SIGNERS = 8;
var TOKEN_ERROR__UNINITIALIZED_STATE = 9;
var TOKEN_ERROR__NATIVE_NOT_SUPPORTED = 10;
var TOKEN_ERROR__NON_NATIVE_HAS_BALANCE = 11;
var TOKEN_ERROR__INVALID_INSTRUCTION = 12;
var TOKEN_ERROR__INVALID_STATE = 13;
var TOKEN_ERROR__OVERFLOW = 14;
var TOKEN_ERROR__AUTHORITY_TYPE_NOT_SUPPORTED = 15;
var TOKEN_ERROR__MINT_CANNOT_FREEZE = 16;
var TOKEN_ERROR__ACCOUNT_FROZEN = 17;
var TOKEN_ERROR__MINT_DECIMALS_MISMATCH = 18;
var TOKEN_ERROR__NON_NATIVE_NOT_SUPPORTED = 19;
var tokenErrorMessages;
if (true) {
  tokenErrorMessages = {
    [TOKEN_ERROR__ACCOUNT_FROZEN]: `Account is frozen`,
    [TOKEN_ERROR__ALREADY_IN_USE]: `Already in use`,
    [TOKEN_ERROR__AUTHORITY_TYPE_NOT_SUPPORTED]: `Account does not support specified authority type`,
    [TOKEN_ERROR__FIXED_SUPPLY]: `Fixed supply`,
    [TOKEN_ERROR__INSUFFICIENT_FUNDS]: `Insufficient funds`,
    [TOKEN_ERROR__INVALID_INSTRUCTION]: `Invalid instruction`,
    [TOKEN_ERROR__INVALID_MINT]: `Invalid Mint`,
    [TOKEN_ERROR__INVALID_NUMBER_OF_PROVIDED_SIGNERS]: `Invalid number of provided signers`,
    [TOKEN_ERROR__INVALID_NUMBER_OF_REQUIRED_SIGNERS]: `Invalid number of required signers`,
    [TOKEN_ERROR__INVALID_STATE]: `State is invalid for requested operation`,
    [TOKEN_ERROR__MINT_CANNOT_FREEZE]: `This token mint cannot freeze accounts`,
    [TOKEN_ERROR__MINT_DECIMALS_MISMATCH]: `The provided decimals value different from the Mint decimals`,
    [TOKEN_ERROR__MINT_MISMATCH]: `Account not associated with this Mint`,
    [TOKEN_ERROR__NATIVE_NOT_SUPPORTED]: `Instruction does not support native tokens`,
    [TOKEN_ERROR__NON_NATIVE_HAS_BALANCE]: `Non-native account can only be closed if its balance is zero`,
    [TOKEN_ERROR__NON_NATIVE_NOT_SUPPORTED]: `Instruction does not support non-native tokens`,
    [TOKEN_ERROR__NOT_RENT_EXEMPT]: `Lamport balance below rent-exempt threshold`,
    [TOKEN_ERROR__OVERFLOW]: `Operation overflowed`,
    [TOKEN_ERROR__OWNER_MISMATCH]: `Owner does not match`,
    [TOKEN_ERROR__UNINITIALIZED_STATE]: `State is unititialized`
  };
}
function getTokenErrorMessage(code) {
  if (true) {
    return tokenErrorMessages[code];
  }
  return "Error message not available in production bundles.";
}
function isTokenError(error, transactionMessage, code) {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_6__.isProgramError)(
    error,
    transactionMessage,
    TOKEN_PROGRAM_ADDRESS,
    code
  );
}
function expectAddress(value) {
  if (!value) {
    throw new Error("Expected a Address.");
  }
  if (typeof value === "object" && "address" in value) {
    return value.address;
  }
  if (Array.isArray(value)) {
    return value[0];
  }
  return value;
}
function getAccountMetaFactory(programAddress, optionalAccountStrategy) {
  return (account) => {
    if (!account.value) {
      return Object.freeze({
        address: programAddress,
        role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY
      });
    }
    const writableRole = account.isWritable ? _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.WRITABLE : _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY;
    return Object.freeze({
      address: expectAddress(account.value),
      role: isTransactionSigner(account.value) ? (0,_solana_kit__WEBPACK_IMPORTED_MODULE_7__.upgradeRoleToSigner)(writableRole) : writableRole,
      ...isTransactionSigner(account.value) ? { signer: account.value } : {}
    });
  };
}
function isTransactionSigner(value) {
  return !!value && typeof value === "object" && "address" in value && (0,_solana_kit__WEBPACK_IMPORTED_MODULE_8__.isTransactionSigner)(value);
}

// src/generated/instructions/amountToUiAmount.ts
var AMOUNT_TO_UI_AMOUNT_DISCRIMINATOR = 23;
function getAmountToUiAmountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(AMOUNT_TO_UI_AMOUNT_DISCRIMINATOR);
}
function getAmountToUiAmountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: AMOUNT_TO_UI_AMOUNT_DISCRIMINATOR })
  );
}
function getAmountToUiAmountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()]
  ]);
}
function getAmountToUiAmountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getAmountToUiAmountInstructionDataEncoder(),
    getAmountToUiAmountInstructionDataDecoder()
  );
}
function getAmountToUiAmountInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    mint: { value: input.mint ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.mint)],
    programAddress,
    data: getAmountToUiAmountInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseAmountToUiAmountInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      mint: getNextAccount()
    },
    data: getAmountToUiAmountInstructionDataDecoder().decode(instruction.data)
  };
}
var APPROVE_DISCRIMINATOR = 4;
function getApproveDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(APPROVE_DISCRIMINATOR);
}
function getApproveInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: APPROVE_DISCRIMINATOR })
  );
}
function getApproveInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()]
  ]);
}
function getApproveInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getApproveInstructionDataEncoder(),
    getApproveInstructionDataDecoder()
  );
}
function getApproveInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    source: { value: input.source ?? null, isWritable: true },
    delegate: { value: input.delegate ?? null, isWritable: false },
    owner: { value: input.owner ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.source),
      getAccountMeta(accounts.delegate),
      getAccountMeta(accounts.owner),
      ...remainingAccounts
    ],
    programAddress,
    data: getApproveInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseApproveInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      source: getNextAccount(),
      delegate: getNextAccount(),
      owner: getNextAccount()
    },
    data: getApproveInstructionDataDecoder().decode(instruction.data)
  };
}
var APPROVE_CHECKED_DISCRIMINATOR = 13;
function getApproveCheckedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(APPROVE_CHECKED_DISCRIMINATOR);
}
function getApproveCheckedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()],
      ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: APPROVE_CHECKED_DISCRIMINATOR })
  );
}
function getApproveCheckedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]
  ]);
}
function getApproveCheckedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getApproveCheckedInstructionDataEncoder(),
    getApproveCheckedInstructionDataDecoder()
  );
}
function getApproveCheckedInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    source: { value: input.source ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: false },
    delegate: { value: input.delegate ?? null, isWritable: false },
    owner: { value: input.owner ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.source),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.delegate),
      getAccountMeta(accounts.owner),
      ...remainingAccounts
    ],
    programAddress,
    data: getApproveCheckedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseApproveCheckedInstruction(instruction) {
  if (instruction.accounts.length < 4) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      source: getNextAccount(),
      mint: getNextAccount(),
      delegate: getNextAccount(),
      owner: getNextAccount()
    },
    data: getApproveCheckedInstructionDataDecoder().decode(instruction.data)
  };
}
var BURN_DISCRIMINATOR = 8;
function getBurnDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(BURN_DISCRIMINATOR);
}
function getBurnInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: BURN_DISCRIMINATOR })
  );
}
function getBurnInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()]
  ]);
}
function getBurnInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getBurnInstructionDataEncoder(),
    getBurnInstructionDataDecoder()
  );
}
function getBurnInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: true },
    authority: { value: input.authority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.authority),
      ...remainingAccounts
    ],
    programAddress,
    data: getBurnInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseBurnInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      mint: getNextAccount(),
      authority: getNextAccount()
    },
    data: getBurnInstructionDataDecoder().decode(instruction.data)
  };
}
var BURN_CHECKED_DISCRIMINATOR = 15;
function getBurnCheckedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(BURN_CHECKED_DISCRIMINATOR);
}
function getBurnCheckedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()],
      ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: BURN_CHECKED_DISCRIMINATOR })
  );
}
function getBurnCheckedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]
  ]);
}
function getBurnCheckedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getBurnCheckedInstructionDataEncoder(),
    getBurnCheckedInstructionDataDecoder()
  );
}
function getBurnCheckedInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: true },
    authority: { value: input.authority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.authority),
      ...remainingAccounts
    ],
    programAddress,
    data: getBurnCheckedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseBurnCheckedInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      mint: getNextAccount(),
      authority: getNextAccount()
    },
    data: getBurnCheckedInstructionDataDecoder().decode(instruction.data)
  };
}
var CLOSE_ACCOUNT_DISCRIMINATOR = 9;
function getCloseAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(CLOSE_ACCOUNT_DISCRIMINATOR);
}
function getCloseAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({ ...value, discriminator: CLOSE_ACCOUNT_DISCRIMINATOR })
  );
}
function getCloseAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getCloseAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getCloseAccountInstructionDataEncoder(),
    getCloseAccountInstructionDataDecoder()
  );
}
function getCloseAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    destination: { value: input.destination ?? null, isWritable: true },
    owner: { value: input.owner ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.destination),
      getAccountMeta(accounts.owner),
      ...remainingAccounts
    ],
    programAddress,
    data: getCloseAccountInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseCloseAccountInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      destination: getNextAccount(),
      owner: getNextAccount()
    },
    data: getCloseAccountInstructionDataDecoder().decode(instruction.data)
  };
}
async function findAssociatedTokenPda(seeds, config = {}) {
  const {
    programAddress = "ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"
  } = config;
  return await (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getProgramDerivedAddress)({
    programAddress,
    seeds: [
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)().encode(seeds.owner),
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)().encode(seeds.tokenProgram),
      (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)().encode(seeds.mint)
    ]
  });
}

// src/generated/instructions/createAssociatedToken.ts
var CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR = 0;
function getCreateAssociatedTokenDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR);
}
function getCreateAssociatedTokenInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({
      ...value,
      discriminator: CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR
    })
  );
}
function getCreateAssociatedTokenInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getCreateAssociatedTokenInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getCreateAssociatedTokenInstructionDataEncoder(),
    getCreateAssociatedTokenInstructionDataDecoder()
  );
}
async function getCreateAssociatedTokenInstructionAsync(input, config) {
  const programAddress = config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    payer: { value: input.payer ?? null, isWritable: true },
    ata: { value: input.ata ?? null, isWritable: true },
    owner: { value: input.owner ?? null, isWritable: false },
    mint: { value: input.mint ?? null, isWritable: false },
    systemProgram: { value: input.systemProgram ?? null, isWritable: false },
    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.tokenProgram.value) {
    accounts.tokenProgram.value = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
  }
  if (!accounts.ata.value) {
    accounts.ata.value = await findAssociatedTokenPda({
      owner: expectAddress(accounts.owner.value),
      tokenProgram: expectAddress(accounts.tokenProgram.value),
      mint: expectAddress(accounts.mint.value)
    });
  }
  if (!accounts.systemProgram.value) {
    accounts.systemProgram.value = "11111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.payer),
      getAccountMeta(accounts.ata),
      getAccountMeta(accounts.owner),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.systemProgram),
      getAccountMeta(accounts.tokenProgram)
    ],
    programAddress,
    data: getCreateAssociatedTokenInstructionDataEncoder().encode({})
  };
  return instruction;
}
function getCreateAssociatedTokenInstruction(input, config) {
  const programAddress = config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    payer: { value: input.payer ?? null, isWritable: true },
    ata: { value: input.ata ?? null, isWritable: true },
    owner: { value: input.owner ?? null, isWritable: false },
    mint: { value: input.mint ?? null, isWritable: false },
    systemProgram: { value: input.systemProgram ?? null, isWritable: false },
    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.tokenProgram.value) {
    accounts.tokenProgram.value = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
  }
  if (!accounts.systemProgram.value) {
    accounts.systemProgram.value = "11111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.payer),
      getAccountMeta(accounts.ata),
      getAccountMeta(accounts.owner),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.systemProgram),
      getAccountMeta(accounts.tokenProgram)
    ],
    programAddress,
    data: getCreateAssociatedTokenInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseCreateAssociatedTokenInstruction(instruction) {
  if (instruction.accounts.length < 6) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      payer: getNextAccount(),
      ata: getNextAccount(),
      owner: getNextAccount(),
      mint: getNextAccount(),
      systemProgram: getNextAccount(),
      tokenProgram: getNextAccount()
    },
    data: getCreateAssociatedTokenInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var CREATE_ASSOCIATED_TOKEN_IDEMPOTENT_DISCRIMINATOR = 1;
function getCreateAssociatedTokenIdempotentDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(
    CREATE_ASSOCIATED_TOKEN_IDEMPOTENT_DISCRIMINATOR
  );
}
function getCreateAssociatedTokenIdempotentInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({
      ...value,
      discriminator: CREATE_ASSOCIATED_TOKEN_IDEMPOTENT_DISCRIMINATOR
    })
  );
}
function getCreateAssociatedTokenIdempotentInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getCreateAssociatedTokenIdempotentInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getCreateAssociatedTokenIdempotentInstructionDataEncoder(),
    getCreateAssociatedTokenIdempotentInstructionDataDecoder()
  );
}
async function getCreateAssociatedTokenIdempotentInstructionAsync(input, config) {
  const programAddress = config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    payer: { value: input.payer ?? null, isWritable: true },
    ata: { value: input.ata ?? null, isWritable: true },
    owner: { value: input.owner ?? null, isWritable: false },
    mint: { value: input.mint ?? null, isWritable: false },
    systemProgram: { value: input.systemProgram ?? null, isWritable: false },
    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.tokenProgram.value) {
    accounts.tokenProgram.value = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
  }
  if (!accounts.ata.value) {
    accounts.ata.value = await findAssociatedTokenPda({
      owner: expectAddress(accounts.owner.value),
      tokenProgram: expectAddress(accounts.tokenProgram.value),
      mint: expectAddress(accounts.mint.value)
    });
  }
  if (!accounts.systemProgram.value) {
    accounts.systemProgram.value = "11111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.payer),
      getAccountMeta(accounts.ata),
      getAccountMeta(accounts.owner),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.systemProgram),
      getAccountMeta(accounts.tokenProgram)
    ],
    programAddress,
    data: getCreateAssociatedTokenIdempotentInstructionDataEncoder().encode({})
  };
  return instruction;
}
function getCreateAssociatedTokenIdempotentInstruction(input, config) {
  const programAddress = config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    payer: { value: input.payer ?? null, isWritable: true },
    ata: { value: input.ata ?? null, isWritable: true },
    owner: { value: input.owner ?? null, isWritable: false },
    mint: { value: input.mint ?? null, isWritable: false },
    systemProgram: { value: input.systemProgram ?? null, isWritable: false },
    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.tokenProgram.value) {
    accounts.tokenProgram.value = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
  }
  if (!accounts.systemProgram.value) {
    accounts.systemProgram.value = "11111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.payer),
      getAccountMeta(accounts.ata),
      getAccountMeta(accounts.owner),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.systemProgram),
      getAccountMeta(accounts.tokenProgram)
    ],
    programAddress,
    data: getCreateAssociatedTokenIdempotentInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseCreateAssociatedTokenIdempotentInstruction(instruction) {
  if (instruction.accounts.length < 6) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      payer: getNextAccount(),
      ata: getNextAccount(),
      owner: getNextAccount(),
      mint: getNextAccount(),
      systemProgram: getNextAccount(),
      tokenProgram: getNextAccount()
    },
    data: getCreateAssociatedTokenIdempotentInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var FREEZE_ACCOUNT_DISCRIMINATOR = 10;
function getFreezeAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(FREEZE_ACCOUNT_DISCRIMINATOR);
}
function getFreezeAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({ ...value, discriminator: FREEZE_ACCOUNT_DISCRIMINATOR })
  );
}
function getFreezeAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getFreezeAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getFreezeAccountInstructionDataEncoder(),
    getFreezeAccountInstructionDataDecoder()
  );
}
function getFreezeAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: false },
    owner: { value: input.owner ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.owner),
      ...remainingAccounts
    ],
    programAddress,
    data: getFreezeAccountInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseFreezeAccountInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      mint: getNextAccount(),
      owner: getNextAccount()
    },
    data: getFreezeAccountInstructionDataDecoder().decode(instruction.data)
  };
}
var GET_ACCOUNT_DATA_SIZE_DISCRIMINATOR = 21;
function getGetAccountDataSizeDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(GET_ACCOUNT_DATA_SIZE_DISCRIMINATOR);
}
function getGetAccountDataSizeInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({
      ...value,
      discriminator: GET_ACCOUNT_DATA_SIZE_DISCRIMINATOR
    })
  );
}
function getGetAccountDataSizeInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getGetAccountDataSizeInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getGetAccountDataSizeInstructionDataEncoder(),
    getGetAccountDataSizeInstructionDataDecoder()
  );
}
function getGetAccountDataSizeInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    mint: { value: input.mint ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.mint)],
    programAddress,
    data: getGetAccountDataSizeInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseGetAccountDataSizeInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      mint: getNextAccount()
    },
    data: getGetAccountDataSizeInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var INITIALIZE_ACCOUNT_DISCRIMINATOR = 1;
function getInitializeAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_ACCOUNT_DISCRIMINATOR);
}
function getInitializeAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({ ...value, discriminator: INITIALIZE_ACCOUNT_DISCRIMINATOR })
  );
}
function getInitializeAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getInitializeAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeAccountInstructionDataEncoder(),
    getInitializeAccountInstructionDataDecoder()
  );
}
function getInitializeAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: false },
    owner: { value: input.owner ?? null, isWritable: false },
    rent: { value: input.rent ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.rent.value) {
    accounts.rent.value = "SysvarRent111111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.owner),
      getAccountMeta(accounts.rent)
    ],
    programAddress,
    data: getInitializeAccountInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseInitializeAccountInstruction(instruction) {
  if (instruction.accounts.length < 4) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      mint: getNextAccount(),
      owner: getNextAccount(),
      rent: getNextAccount()
    },
    data: getInitializeAccountInstructionDataDecoder().decode(instruction.data)
  };
}
var INITIALIZE_ACCOUNT2_DISCRIMINATOR = 16;
function getInitializeAccount2DiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_ACCOUNT2_DISCRIMINATOR);
}
function getInitializeAccount2InstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["owner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)()]
    ]),
    (value) => ({ ...value, discriminator: INITIALIZE_ACCOUNT2_DISCRIMINATOR })
  );
}
function getInitializeAccount2InstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["owner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)()]
  ]);
}
function getInitializeAccount2InstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeAccount2InstructionDataEncoder(),
    getInitializeAccount2InstructionDataDecoder()
  );
}
function getInitializeAccount2Instruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: false },
    rent: { value: input.rent ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  if (!accounts.rent.value) {
    accounts.rent.value = "SysvarRent111111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.rent)
    ],
    programAddress,
    data: getInitializeAccount2InstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseInitializeAccount2Instruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      mint: getNextAccount(),
      rent: getNextAccount()
    },
    data: getInitializeAccount2InstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var INITIALIZE_ACCOUNT3_DISCRIMINATOR = 18;
function getInitializeAccount3DiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_ACCOUNT3_DISCRIMINATOR);
}
function getInitializeAccount3InstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["owner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)()]
    ]),
    (value) => ({ ...value, discriminator: INITIALIZE_ACCOUNT3_DISCRIMINATOR })
  );
}
function getInitializeAccount3InstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["owner", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)()]
  ]);
}
function getInitializeAccount3InstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeAccount3InstructionDataEncoder(),
    getInitializeAccount3InstructionDataDecoder()
  );
}
function getInitializeAccount3Instruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.account), getAccountMeta(accounts.mint)],
    programAddress,
    data: getInitializeAccount3InstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseInitializeAccount3Instruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      mint: getNextAccount()
    },
    data: getInitializeAccount3InstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var INITIALIZE_IMMUTABLE_OWNER_DISCRIMINATOR = 22;
function getInitializeImmutableOwnerDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_IMMUTABLE_OWNER_DISCRIMINATOR);
}
function getInitializeImmutableOwnerInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({
      ...value,
      discriminator: INITIALIZE_IMMUTABLE_OWNER_DISCRIMINATOR
    })
  );
}
function getInitializeImmutableOwnerInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getInitializeImmutableOwnerInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeImmutableOwnerInstructionDataEncoder(),
    getInitializeImmutableOwnerInstructionDataDecoder()
  );
}
function getInitializeImmutableOwnerInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.account)],
    programAddress,
    data: getInitializeImmutableOwnerInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseInitializeImmutableOwnerInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount()
    },
    data: getInitializeImmutableOwnerInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var INITIALIZE_MINT_DISCRIMINATOR = 0;
function getInitializeMintDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_MINT_DISCRIMINATOR);
}
function getInitializeMintInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["mintAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)()],
      ["freezeAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)())]
    ]),
    (value) => ({
      ...value,
      discriminator: INITIALIZE_MINT_DISCRIMINATOR,
      freezeAuthority: value.freezeAuthority ?? (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.none)()
    })
  );
}
function getInitializeMintInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["mintAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)()],
    ["freezeAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)())]
  ]);
}
function getInitializeMintInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeMintInstructionDataEncoder(),
    getInitializeMintInstructionDataDecoder()
  );
}
function getInitializeMintInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    mint: { value: input.mint ?? null, isWritable: true },
    rent: { value: input.rent ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  if (!accounts.rent.value) {
    accounts.rent.value = "SysvarRent111111111111111111111111111111111";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.mint), getAccountMeta(accounts.rent)],
    programAddress,
    data: getInitializeMintInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseInitializeMintInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      mint: getNextAccount(),
      rent: getNextAccount()
    },
    data: getInitializeMintInstructionDataDecoder().decode(instruction.data)
  };
}
var INITIALIZE_MINT2_DISCRIMINATOR = 20;
function getInitializeMint2DiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_MINT2_DISCRIMINATOR);
}
function getInitializeMint2InstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["mintAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)()],
      ["freezeAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)())]
    ]),
    (value) => ({
      ...value,
      discriminator: INITIALIZE_MINT2_DISCRIMINATOR,
      freezeAuthority: value.freezeAuthority ?? (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.none)()
    })
  );
}
function getInitializeMint2InstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["mintAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)()],
    ["freezeAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)())]
  ]);
}
function getInitializeMint2InstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeMint2InstructionDataEncoder(),
    getInitializeMint2InstructionDataDecoder()
  );
}
function getInitializeMint2Instruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    mint: { value: input.mint ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.mint)],
    programAddress,
    data: getInitializeMint2InstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseInitializeMint2Instruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      mint: getNextAccount()
    },
    data: getInitializeMint2InstructionDataDecoder().decode(instruction.data)
  };
}
var INITIALIZE_MULTISIG_DISCRIMINATOR = 2;
function getInitializeMultisigDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_MULTISIG_DISCRIMINATOR);
}
function getInitializeMultisigInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["m", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: INITIALIZE_MULTISIG_DISCRIMINATOR })
  );
}
function getInitializeMultisigInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["m", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]
  ]);
}
function getInitializeMultisigInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeMultisigInstructionDataEncoder(),
    getInitializeMultisigInstructionDataDecoder()
  );
}
function getInitializeMultisigInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    multisig: { value: input.multisig ?? null, isWritable: true },
    rent: { value: input.rent ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  if (!accounts.rent.value) {
    accounts.rent.value = "SysvarRent111111111111111111111111111111111";
  }
  const remainingAccounts = args.signers.map((address) => ({
    address,
    role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY
  }));
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.multisig),
      getAccountMeta(accounts.rent),
      ...remainingAccounts
    ],
    programAddress,
    data: getInitializeMultisigInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseInitializeMultisigInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      multisig: getNextAccount(),
      rent: getNextAccount()
    },
    data: getInitializeMultisigInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var INITIALIZE_MULTISIG2_DISCRIMINATOR = 19;
function getInitializeMultisig2DiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(INITIALIZE_MULTISIG2_DISCRIMINATOR);
}
function getInitializeMultisig2InstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["m", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: INITIALIZE_MULTISIG2_DISCRIMINATOR })
  );
}
function getInitializeMultisig2InstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["m", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]
  ]);
}
function getInitializeMultisig2InstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getInitializeMultisig2InstructionDataEncoder(),
    getInitializeMultisig2InstructionDataDecoder()
  );
}
function getInitializeMultisig2Instruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    multisig: { value: input.multisig ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = args.signers.map((address) => ({
    address,
    role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY
  }));
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.multisig), ...remainingAccounts],
    programAddress,
    data: getInitializeMultisig2InstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseInitializeMultisig2Instruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      multisig: getNextAccount()
    },
    data: getInitializeMultisig2InstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var MINT_TO_DISCRIMINATOR = 7;
function getMintToDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(MINT_TO_DISCRIMINATOR);
}
function getMintToInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: MINT_TO_DISCRIMINATOR })
  );
}
function getMintToInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()]
  ]);
}
function getMintToInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getMintToInstructionDataEncoder(),
    getMintToInstructionDataDecoder()
  );
}
function getMintToInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    mint: { value: input.mint ?? null, isWritable: true },
    token: { value: input.token ?? null, isWritable: true },
    mintAuthority: { value: input.mintAuthority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.token),
      getAccountMeta(accounts.mintAuthority),
      ...remainingAccounts
    ],
    programAddress,
    data: getMintToInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseMintToInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      mint: getNextAccount(),
      token: getNextAccount(),
      mintAuthority: getNextAccount()
    },
    data: getMintToInstructionDataDecoder().decode(instruction.data)
  };
}
var MINT_TO_CHECKED_DISCRIMINATOR = 14;
function getMintToCheckedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(MINT_TO_CHECKED_DISCRIMINATOR);
}
function getMintToCheckedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()],
      ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: MINT_TO_CHECKED_DISCRIMINATOR })
  );
}
function getMintToCheckedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]
  ]);
}
function getMintToCheckedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getMintToCheckedInstructionDataEncoder(),
    getMintToCheckedInstructionDataDecoder()
  );
}
function getMintToCheckedInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    mint: { value: input.mint ?? null, isWritable: true },
    token: { value: input.token ?? null, isWritable: true },
    mintAuthority: { value: input.mintAuthority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.token),
      getAccountMeta(accounts.mintAuthority),
      ...remainingAccounts
    ],
    programAddress,
    data: getMintToCheckedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseMintToCheckedInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      mint: getNextAccount(),
      token: getNextAccount(),
      mintAuthority: getNextAccount()
    },
    data: getMintToCheckedInstructionDataDecoder().decode(instruction.data)
  };
}
var RECOVER_NESTED_ASSOCIATED_TOKEN_DISCRIMINATOR = 2;
function getRecoverNestedAssociatedTokenDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(RECOVER_NESTED_ASSOCIATED_TOKEN_DISCRIMINATOR);
}
function getRecoverNestedAssociatedTokenInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({
      ...value,
      discriminator: RECOVER_NESTED_ASSOCIATED_TOKEN_DISCRIMINATOR
    })
  );
}
function getRecoverNestedAssociatedTokenInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getRecoverNestedAssociatedTokenInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getRecoverNestedAssociatedTokenInstructionDataEncoder(),
    getRecoverNestedAssociatedTokenInstructionDataDecoder()
  );
}
async function getRecoverNestedAssociatedTokenInstructionAsync(input, config) {
  const programAddress = config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    nestedAssociatedAccountAddress: {
      value: input.nestedAssociatedAccountAddress ?? null,
      isWritable: true
    },
    nestedTokenMintAddress: {
      value: input.nestedTokenMintAddress ?? null,
      isWritable: false
    },
    destinationAssociatedAccountAddress: {
      value: input.destinationAssociatedAccountAddress ?? null,
      isWritable: true
    },
    ownerAssociatedAccountAddress: {
      value: input.ownerAssociatedAccountAddress ?? null,
      isWritable: false
    },
    ownerTokenMintAddress: {
      value: input.ownerTokenMintAddress ?? null,
      isWritable: false
    },
    walletAddress: { value: input.walletAddress ?? null, isWritable: true },
    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.tokenProgram.value) {
    accounts.tokenProgram.value = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
  }
  if (!accounts.ownerAssociatedAccountAddress.value) {
    accounts.ownerAssociatedAccountAddress.value = await findAssociatedTokenPda(
      {
        owner: expectAddress(accounts.walletAddress.value),
        tokenProgram: expectAddress(accounts.tokenProgram.value),
        mint: expectAddress(accounts.ownerTokenMintAddress.value)
      }
    );
  }
  if (!accounts.nestedAssociatedAccountAddress.value) {
    accounts.nestedAssociatedAccountAddress.value = await findAssociatedTokenPda({
      owner: expectAddress(accounts.ownerAssociatedAccountAddress.value),
      tokenProgram: expectAddress(accounts.tokenProgram.value),
      mint: expectAddress(accounts.nestedTokenMintAddress.value)
    });
  }
  if (!accounts.destinationAssociatedAccountAddress.value) {
    accounts.destinationAssociatedAccountAddress.value = await findAssociatedTokenPda({
      owner: expectAddress(accounts.walletAddress.value),
      tokenProgram: expectAddress(accounts.tokenProgram.value),
      mint: expectAddress(accounts.nestedTokenMintAddress.value)
    });
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.nestedAssociatedAccountAddress),
      getAccountMeta(accounts.nestedTokenMintAddress),
      getAccountMeta(accounts.destinationAssociatedAccountAddress),
      getAccountMeta(accounts.ownerAssociatedAccountAddress),
      getAccountMeta(accounts.ownerTokenMintAddress),
      getAccountMeta(accounts.walletAddress),
      getAccountMeta(accounts.tokenProgram)
    ],
    programAddress,
    data: getRecoverNestedAssociatedTokenInstructionDataEncoder().encode({})
  };
  return instruction;
}
function getRecoverNestedAssociatedTokenInstruction(input, config) {
  const programAddress = config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    nestedAssociatedAccountAddress: {
      value: input.nestedAssociatedAccountAddress ?? null,
      isWritable: true
    },
    nestedTokenMintAddress: {
      value: input.nestedTokenMintAddress ?? null,
      isWritable: false
    },
    destinationAssociatedAccountAddress: {
      value: input.destinationAssociatedAccountAddress ?? null,
      isWritable: true
    },
    ownerAssociatedAccountAddress: {
      value: input.ownerAssociatedAccountAddress ?? null,
      isWritable: false
    },
    ownerTokenMintAddress: {
      value: input.ownerTokenMintAddress ?? null,
      isWritable: false
    },
    walletAddress: { value: input.walletAddress ?? null, isWritable: true },
    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  if (!accounts.tokenProgram.value) {
    accounts.tokenProgram.value = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
  }
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.nestedAssociatedAccountAddress),
      getAccountMeta(accounts.nestedTokenMintAddress),
      getAccountMeta(accounts.destinationAssociatedAccountAddress),
      getAccountMeta(accounts.ownerAssociatedAccountAddress),
      getAccountMeta(accounts.ownerTokenMintAddress),
      getAccountMeta(accounts.walletAddress),
      getAccountMeta(accounts.tokenProgram)
    ],
    programAddress,
    data: getRecoverNestedAssociatedTokenInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseRecoverNestedAssociatedTokenInstruction(instruction) {
  if (instruction.accounts.length < 7) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      nestedAssociatedAccountAddress: getNextAccount(),
      nestedTokenMintAddress: getNextAccount(),
      destinationAssociatedAccountAddress: getNextAccount(),
      ownerAssociatedAccountAddress: getNextAccount(),
      ownerTokenMintAddress: getNextAccount(),
      walletAddress: getNextAccount(),
      tokenProgram: getNextAccount()
    },
    data: getRecoverNestedAssociatedTokenInstructionDataDecoder().decode(
      instruction.data
    )
  };
}
var REVOKE_DISCRIMINATOR = 5;
function getRevokeDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(REVOKE_DISCRIMINATOR);
}
function getRevokeInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({ ...value, discriminator: REVOKE_DISCRIMINATOR })
  );
}
function getRevokeInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getRevokeInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getRevokeInstructionDataEncoder(),
    getRevokeInstructionDataDecoder()
  );
}
function getRevokeInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    source: { value: input.source ?? null, isWritable: true },
    owner: { value: input.owner ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.source),
      getAccountMeta(accounts.owner),
      ...remainingAccounts
    ],
    programAddress,
    data: getRevokeInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseRevokeInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      source: getNextAccount(),
      owner: getNextAccount()
    },
    data: getRevokeInstructionDataDecoder().decode(instruction.data)
  };
}
var SET_AUTHORITY_DISCRIMINATOR = 6;
function getSetAuthorityDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(SET_AUTHORITY_DISCRIMINATOR);
}
function getSetAuthorityInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["authorityType", getAuthorityTypeEncoder()],
      ["newAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionEncoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressEncoder)())]
    ]),
    (value) => ({ ...value, discriminator: SET_AUTHORITY_DISCRIMINATOR })
  );
}
function getSetAuthorityInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["authorityType", getAuthorityTypeDecoder()],
    ["newAuthority", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_1__.getOptionDecoder)((0,_solana_kit__WEBPACK_IMPORTED_MODULE_2__.getAddressDecoder)())]
  ]);
}
function getSetAuthorityInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getSetAuthorityInstructionDataEncoder(),
    getSetAuthorityInstructionDataDecoder()
  );
}
function getSetAuthorityInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    owned: { value: input.owned ?? null, isWritable: true },
    owner: { value: input.owner ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.owned),
      getAccountMeta(accounts.owner),
      ...remainingAccounts
    ],
    programAddress,
    data: getSetAuthorityInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseSetAuthorityInstruction(instruction) {
  if (instruction.accounts.length < 2) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      owned: getNextAccount(),
      owner: getNextAccount()
    },
    data: getSetAuthorityInstructionDataDecoder().decode(instruction.data)
  };
}
var SYNC_NATIVE_DISCRIMINATOR = 17;
function getSyncNativeDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(SYNC_NATIVE_DISCRIMINATOR);
}
function getSyncNativeInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({ ...value, discriminator: SYNC_NATIVE_DISCRIMINATOR })
  );
}
function getSyncNativeInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getSyncNativeInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getSyncNativeInstructionDataEncoder(),
    getSyncNativeInstructionDataDecoder()
  );
}
function getSyncNativeInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true }
  };
  const accounts = originalAccounts;
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.account)],
    programAddress,
    data: getSyncNativeInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseSyncNativeInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount()
    },
    data: getSyncNativeInstructionDataDecoder().decode(instruction.data)
  };
}
var THAW_ACCOUNT_DISCRIMINATOR = 11;
function getThawAccountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(THAW_ACCOUNT_DISCRIMINATOR);
}
function getThawAccountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]]),
    (value) => ({ ...value, discriminator: THAW_ACCOUNT_DISCRIMINATOR })
  );
}
function getThawAccountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]]);
}
function getThawAccountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getThawAccountInstructionDataEncoder(),
    getThawAccountInstructionDataDecoder()
  );
}
function getThawAccountInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    account: { value: input.account ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: false },
    owner: { value: input.owner ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.account),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.owner),
      ...remainingAccounts
    ],
    programAddress,
    data: getThawAccountInstructionDataEncoder().encode({})
  };
  return instruction;
}
function parseThawAccountInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      account: getNextAccount(),
      mint: getNextAccount(),
      owner: getNextAccount()
    },
    data: getThawAccountInstructionDataDecoder().decode(instruction.data)
  };
}
var TRANSFER_DISCRIMINATOR = 3;
function getTransferDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(TRANSFER_DISCRIMINATOR);
}
function getTransferInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: TRANSFER_DISCRIMINATOR })
  );
}
function getTransferInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()]
  ]);
}
function getTransferInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getTransferInstructionDataEncoder(),
    getTransferInstructionDataDecoder()
  );
}
function getTransferInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    source: { value: input.source ?? null, isWritable: true },
    destination: { value: input.destination ?? null, isWritable: true },
    authority: { value: input.authority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.source),
      getAccountMeta(accounts.destination),
      getAccountMeta(accounts.authority),
      ...remainingAccounts
    ],
    programAddress,
    data: getTransferInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseTransferInstruction(instruction) {
  if (instruction.accounts.length < 3) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      source: getNextAccount(),
      destination: getNextAccount(),
      authority: getNextAccount()
    },
    data: getTransferInstructionDataDecoder().decode(instruction.data)
  };
}
var TRANSFER_CHECKED_DISCRIMINATOR = 12;
function getTransferCheckedDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(TRANSFER_CHECKED_DISCRIMINATOR);
}
function getTransferCheckedInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Encoder)()],
      ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: TRANSFER_CHECKED_DISCRIMINATOR })
  );
}
function getTransferCheckedInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["amount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU64Decoder)()],
    ["decimals", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()]
  ]);
}
function getTransferCheckedInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getTransferCheckedInstructionDataEncoder(),
    getTransferCheckedInstructionDataDecoder()
  );
}
function getTransferCheckedInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    source: { value: input.source ?? null, isWritable: true },
    mint: { value: input.mint ?? null, isWritable: false },
    destination: { value: input.destination ?? null, isWritable: true },
    authority: { value: input.authority ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const remainingAccounts = (args.multiSigners ?? []).map(
    (signer) => ({
      address: signer.address,
      role: _solana_kit__WEBPACK_IMPORTED_MODULE_7__.AccountRole.READONLY_SIGNER,
      signer
    })
  );
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [
      getAccountMeta(accounts.source),
      getAccountMeta(accounts.mint),
      getAccountMeta(accounts.destination),
      getAccountMeta(accounts.authority),
      ...remainingAccounts
    ],
    programAddress,
    data: getTransferCheckedInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseTransferCheckedInstruction(instruction) {
  if (instruction.accounts.length < 4) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      source: getNextAccount(),
      mint: getNextAccount(),
      destination: getNextAccount(),
      authority: getNextAccount()
    },
    data: getTransferCheckedInstructionDataDecoder().decode(instruction.data)
  };
}
var UI_AMOUNT_TO_AMOUNT_DISCRIMINATOR = 24;
function getUiAmountToAmountDiscriminatorBytes() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)().encode(UI_AMOUNT_TO_AMOUNT_DISCRIMINATOR);
}
function getUiAmountToAmountInstructionDataEncoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.transformEncoder)(
    (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructEncoder)([
      ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Encoder)()],
      ["uiAmount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_9__.getUtf8Encoder)()]
    ]),
    (value) => ({ ...value, discriminator: UI_AMOUNT_TO_AMOUNT_DISCRIMINATOR })
  );
}
function getUiAmountToAmountInstructionDataDecoder() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_0__.getStructDecoder)([
    ["discriminator", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)()],
    ["uiAmount", (0,_solana_kit__WEBPACK_IMPORTED_MODULE_9__.getUtf8Decoder)()]
  ]);
}
function getUiAmountToAmountInstructionDataCodec() {
  return (0,_solana_kit__WEBPACK_IMPORTED_MODULE_4__.combineCodec)(
    getUiAmountToAmountInstructionDataEncoder(),
    getUiAmountToAmountInstructionDataDecoder()
  );
}
function getUiAmountToAmountInstruction(input, config) {
  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;
  const originalAccounts = {
    mint: { value: input.mint ?? null, isWritable: false }
  };
  const accounts = originalAccounts;
  const args = { ...input };
  const getAccountMeta = getAccountMetaFactory(programAddress);
  const instruction = {
    accounts: [getAccountMeta(accounts.mint)],
    programAddress,
    data: getUiAmountToAmountInstructionDataEncoder().encode(
      args
    )
  };
  return instruction;
}
function parseUiAmountToAmountInstruction(instruction) {
  if (instruction.accounts.length < 1) {
    throw new Error("Not enough accounts");
  }
  let accountIndex = 0;
  const getNextAccount = () => {
    const accountMeta = instruction.accounts[accountIndex];
    accountIndex += 1;
    return accountMeta;
  };
  return {
    programAddress: instruction.programAddress,
    accounts: {
      mint: getNextAccount()
    },
    data: getUiAmountToAmountInstructionDataDecoder().decode(instruction.data)
  };
}


//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map

/***/ }),

/***/ "./node_modules/@solana/accounts/dist/index.browser.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@solana/accounts/dist/index.browser.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BASE_ACCOUNT_SIZE": () => (/* binding */ BASE_ACCOUNT_SIZE),
/* harmony export */   "assertAccountDecoded": () => (/* binding */ assertAccountDecoded),
/* harmony export */   "assertAccountExists": () => (/* binding */ assertAccountExists),
/* harmony export */   "assertAccountsDecoded": () => (/* binding */ assertAccountsDecoded),
/* harmony export */   "assertAccountsExist": () => (/* binding */ assertAccountsExist),
/* harmony export */   "decodeAccount": () => (/* binding */ decodeAccount),
/* harmony export */   "fetchEncodedAccount": () => (/* binding */ fetchEncodedAccount),
/* harmony export */   "fetchEncodedAccounts": () => (/* binding */ fetchEncodedAccounts),
/* harmony export */   "fetchJsonParsedAccount": () => (/* binding */ fetchJsonParsedAccount),
/* harmony export */   "fetchJsonParsedAccounts": () => (/* binding */ fetchJsonParsedAccounts),
/* harmony export */   "parseBase58RpcAccount": () => (/* binding */ parseBase58RpcAccount),
/* harmony export */   "parseBase64RpcAccount": () => (/* binding */ parseBase64RpcAccount),
/* harmony export */   "parseJsonRpcAccount": () => (/* binding */ parseJsonRpcAccount)
/* harmony export */ });
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_strings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/codecs-strings */ "./node_modules/@solana/codecs-strings/dist/index.browser.mjs");



// src/account.ts
var BASE_ACCOUNT_SIZE = 128;
function decodeAccount(encodedAccount, decoder) {
  try {
    if ("exists" in encodedAccount && !encodedAccount.exists) {
      return encodedAccount;
    }
    return Object.freeze({ ...encodedAccount, data: decoder.decode(encodedAccount.data) });
  } catch {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT, {
      address: encodedAccount.address
    });
  }
}
function accountExists(account) {
  return !("exists" in account) || "exists" in account && account.exists;
}
function assertAccountDecoded(account) {
  if (accountExists(account) && account.data instanceof Uint8Array) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT, {
      address: account.address
    });
  }
}
function assertAccountsDecoded(accounts) {
  const encoded = accounts.filter((a) => accountExists(a) && a.data instanceof Uint8Array);
  if (encoded.length > 0) {
    const encodedAddresses = encoded.map((a) => a.address);
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED, {
      addresses: encodedAddresses
    });
  }
}
function parseBase64RpcAccount(address, rpcAccount) {
  if (!rpcAccount) return Object.freeze({ address, exists: false });
  const data = (0,_solana_codecs_strings__WEBPACK_IMPORTED_MODULE_1__.getBase64Encoder)().encode(rpcAccount.data[0]);
  return Object.freeze({ ...parseBaseAccount(rpcAccount), address, data, exists: true });
}
function parseBase58RpcAccount(address, rpcAccount) {
  if (!rpcAccount) return Object.freeze({ address, exists: false });
  const data = (0,_solana_codecs_strings__WEBPACK_IMPORTED_MODULE_1__.getBase58Encoder)().encode(typeof rpcAccount.data === "string" ? rpcAccount.data : rpcAccount.data[0]);
  return Object.freeze({ ...parseBaseAccount(rpcAccount), address, data, exists: true });
}
function parseJsonRpcAccount(address, rpcAccount) {
  if (!rpcAccount) return Object.freeze({ address, exists: false });
  const data = rpcAccount.data.parsed.info;
  return Object.freeze({ ...parseBaseAccount(rpcAccount), address, data, exists: true });
}
function parseBaseAccount(rpcAccount) {
  return Object.freeze({
    executable: rpcAccount.executable,
    lamports: rpcAccount.lamports,
    programAddress: rpcAccount.owner,
    space: rpcAccount.space
  });
}

// src/fetch-account.ts
async function fetchEncodedAccount(rpc, address, config = {}) {
  const { abortSignal, ...rpcConfig } = config;
  const response = await rpc.getAccountInfo(address, { ...rpcConfig, encoding: "base64" }).send({ abortSignal });
  return parseBase64RpcAccount(address, response.value);
}
async function fetchJsonParsedAccount(rpc, address, config = {}) {
  const { abortSignal, ...rpcConfig } = config;
  const { value: account } = await rpc.getAccountInfo(address, { ...rpcConfig, encoding: "jsonParsed" }).send({ abortSignal });
  return !!account && typeof account === "object" && "parsed" in account.data ? parseJsonRpcAccount(address, account) : parseBase64RpcAccount(address, account);
}
async function fetchEncodedAccounts(rpc, addresses, config = {}) {
  const { abortSignal, ...rpcConfig } = config;
  const response = await rpc.getMultipleAccounts(addresses, { ...rpcConfig, encoding: "base64" }).send({ abortSignal });
  return response.value.map((account, index) => parseBase64RpcAccount(addresses[index], account));
}
async function fetchJsonParsedAccounts(rpc, addresses, config = {}) {
  const { abortSignal, ...rpcConfig } = config;
  const response = await rpc.getMultipleAccounts(addresses, { ...rpcConfig, encoding: "jsonParsed" }).send({ abortSignal });
  return response.value.map((account, index) => {
    return !!account && typeof account === "object" && "parsed" in account.data ? parseJsonRpcAccount(addresses[index], account) : parseBase64RpcAccount(addresses[index], account);
  });
}
function assertAccountExists(account) {
  if (!account.exists) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND, { address: account.address });
  }
}
function assertAccountsExist(accounts) {
  const missingAccounts = accounts.filter((a) => !a.exists);
  if (missingAccounts.length > 0) {
    const missingAddresses = missingAccounts.map((a) => a.address);
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND, { addresses: missingAddresses });
  }
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/codecs-data-structures/dist/index.browser.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@solana/codecs-data-structures/dist/index.browser.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assertValidNumberOfItemsForCodec": () => (/* binding */ assertValidNumberOfItemsForCodec),
/* harmony export */   "getArrayCodec": () => (/* binding */ getArrayCodec),
/* harmony export */   "getArrayDecoder": () => (/* binding */ getArrayDecoder),
/* harmony export */   "getArrayEncoder": () => (/* binding */ getArrayEncoder),
/* harmony export */   "getBitArrayCodec": () => (/* binding */ getBitArrayCodec),
/* harmony export */   "getBitArrayDecoder": () => (/* binding */ getBitArrayDecoder),
/* harmony export */   "getBitArrayEncoder": () => (/* binding */ getBitArrayEncoder),
/* harmony export */   "getBooleanCodec": () => (/* binding */ getBooleanCodec),
/* harmony export */   "getBooleanDecoder": () => (/* binding */ getBooleanDecoder),
/* harmony export */   "getBooleanEncoder": () => (/* binding */ getBooleanEncoder),
/* harmony export */   "getBytesCodec": () => (/* binding */ getBytesCodec),
/* harmony export */   "getBytesDecoder": () => (/* binding */ getBytesDecoder),
/* harmony export */   "getBytesEncoder": () => (/* binding */ getBytesEncoder),
/* harmony export */   "getConstantCodec": () => (/* binding */ getConstantCodec),
/* harmony export */   "getConstantDecoder": () => (/* binding */ getConstantDecoder),
/* harmony export */   "getConstantEncoder": () => (/* binding */ getConstantEncoder),
/* harmony export */   "getDataEnumCodec": () => (/* binding */ getDataEnumCodec),
/* harmony export */   "getDataEnumDecoder": () => (/* binding */ getDataEnumDecoder),
/* harmony export */   "getDataEnumEncoder": () => (/* binding */ getDataEnumEncoder),
/* harmony export */   "getDiscriminatedUnionCodec": () => (/* binding */ getDiscriminatedUnionCodec),
/* harmony export */   "getDiscriminatedUnionDecoder": () => (/* binding */ getDiscriminatedUnionDecoder),
/* harmony export */   "getDiscriminatedUnionEncoder": () => (/* binding */ getDiscriminatedUnionEncoder),
/* harmony export */   "getEnumCodec": () => (/* binding */ getEnumCodec),
/* harmony export */   "getEnumDecoder": () => (/* binding */ getEnumDecoder),
/* harmony export */   "getEnumEncoder": () => (/* binding */ getEnumEncoder),
/* harmony export */   "getHiddenPrefixCodec": () => (/* binding */ getHiddenPrefixCodec),
/* harmony export */   "getHiddenPrefixDecoder": () => (/* binding */ getHiddenPrefixDecoder),
/* harmony export */   "getHiddenPrefixEncoder": () => (/* binding */ getHiddenPrefixEncoder),
/* harmony export */   "getHiddenSuffixCodec": () => (/* binding */ getHiddenSuffixCodec),
/* harmony export */   "getHiddenSuffixDecoder": () => (/* binding */ getHiddenSuffixDecoder),
/* harmony export */   "getHiddenSuffixEncoder": () => (/* binding */ getHiddenSuffixEncoder),
/* harmony export */   "getLiteralUnionCodec": () => (/* binding */ getLiteralUnionCodec),
/* harmony export */   "getLiteralUnionDecoder": () => (/* binding */ getLiteralUnionDecoder),
/* harmony export */   "getLiteralUnionEncoder": () => (/* binding */ getLiteralUnionEncoder),
/* harmony export */   "getMapCodec": () => (/* binding */ getMapCodec),
/* harmony export */   "getMapDecoder": () => (/* binding */ getMapDecoder),
/* harmony export */   "getMapEncoder": () => (/* binding */ getMapEncoder),
/* harmony export */   "getNullableCodec": () => (/* binding */ getNullableCodec),
/* harmony export */   "getNullableDecoder": () => (/* binding */ getNullableDecoder),
/* harmony export */   "getNullableEncoder": () => (/* binding */ getNullableEncoder),
/* harmony export */   "getScalarEnumCodec": () => (/* binding */ getScalarEnumCodec),
/* harmony export */   "getScalarEnumDecoder": () => (/* binding */ getScalarEnumDecoder),
/* harmony export */   "getScalarEnumEncoder": () => (/* binding */ getScalarEnumEncoder),
/* harmony export */   "getSetCodec": () => (/* binding */ getSetCodec),
/* harmony export */   "getSetDecoder": () => (/* binding */ getSetDecoder),
/* harmony export */   "getSetEncoder": () => (/* binding */ getSetEncoder),
/* harmony export */   "getStructCodec": () => (/* binding */ getStructCodec),
/* harmony export */   "getStructDecoder": () => (/* binding */ getStructDecoder),
/* harmony export */   "getStructEncoder": () => (/* binding */ getStructEncoder),
/* harmony export */   "getTupleCodec": () => (/* binding */ getTupleCodec),
/* harmony export */   "getTupleDecoder": () => (/* binding */ getTupleDecoder),
/* harmony export */   "getTupleEncoder": () => (/* binding */ getTupleEncoder),
/* harmony export */   "getUnionCodec": () => (/* binding */ getUnionCodec),
/* harmony export */   "getUnionDecoder": () => (/* binding */ getUnionDecoder),
/* harmony export */   "getUnionEncoder": () => (/* binding */ getUnionEncoder),
/* harmony export */   "getUnitCodec": () => (/* binding */ getUnitCodec),
/* harmony export */   "getUnitDecoder": () => (/* binding */ getUnitDecoder),
/* harmony export */   "getUnitEncoder": () => (/* binding */ getUnitEncoder)
/* harmony export */ });
/* harmony import */ var _solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/codecs-core */ "./node_modules/@solana/codecs-core/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/codecs-numbers */ "./node_modules/@solana/codecs-numbers/dist/index.browser.mjs");
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");




// src/array.ts
function assertValidNumberOfItemsForCodec(codecDescription, expected, actual) {
  if (expected !== actual) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS, {
      actual,
      codecDescription,
      expected
    });
  }
}
function maxCodecSizes(sizes) {
  return sizes.reduce(
    (all, size) => all === null || size === null ? null : Math.max(all, size),
    0
  );
}
function sumCodecSizes(sizes) {
  return sizes.reduce((all, size) => all === null || size === null ? null : all + size, 0);
}
function getFixedSize(codec) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.isFixedSize)(codec) ? codec.fixedSize : null;
}
function getMaxSize(codec) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.isFixedSize)(codec) ? codec.fixedSize : codec.maxSize ?? null;
}

// src/array.ts
function getArrayEncoder(item, config = {}) {
  const size = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU32Encoder)();
  const fixedSize = computeArrayLikeCodecSize(size, getFixedSize(item));
  const maxSize = computeArrayLikeCodecSize(size, getMaxSize(item)) ?? undefined;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    ...fixedSize !== null ? { fixedSize } : {
      getSizeFromValue: (array) => {
        const prefixSize = typeof size === "object" ? (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.getEncodedSize)(array.length, size) : 0;
        return prefixSize + [...array].reduce((all, value) => all + (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.getEncodedSize)(value, item), 0);
      },
      maxSize
    },
    write: (array, bytes, offset) => {
      if (typeof size === "number") {
        assertValidNumberOfItemsForCodec("array", size, array.length);
      }
      if (typeof size === "object") {
        offset = size.write(array.length, bytes, offset);
      }
      array.forEach((value) => {
        offset = item.write(value, bytes, offset);
      });
      return offset;
    }
  });
}
function getArrayDecoder(item, config = {}) {
  const size = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU32Decoder)();
  const itemSize = getFixedSize(item);
  const fixedSize = computeArrayLikeCodecSize(size, itemSize);
  const maxSize = computeArrayLikeCodecSize(size, getMaxSize(item)) ?? undefined;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
    ...fixedSize !== null ? { fixedSize } : { maxSize },
    read: (bytes, offset) => {
      const array = [];
      if (typeof size === "object" && bytes.slice(offset).length === 0) {
        return [array, offset];
      }
      if (size === "remainder") {
        while (offset < bytes.length) {
          const [value, newOffset2] = item.read(bytes, offset);
          offset = newOffset2;
          array.push(value);
        }
        return [array, offset];
      }
      const [resolvedSize, newOffset] = typeof size === "number" ? [size, offset] : size.read(bytes, offset);
      offset = newOffset;
      for (let i = 0; i < resolvedSize; i += 1) {
        const [value, newOffset2] = item.read(bytes, offset);
        offset = newOffset2;
        array.push(value);
      }
      return [array, offset];
    }
  });
}
function getArrayCodec(item, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getArrayEncoder(item, config), getArrayDecoder(item, config));
}
function computeArrayLikeCodecSize(size, itemSize) {
  if (typeof size !== "number") return null;
  if (size === 0) return 0;
  return itemSize === null ? null : itemSize * size;
}
function getBitArrayEncoder(size, config = {}) {
  const parsedConfig = typeof config === "boolean" ? { backward: config } : config;
  const backward = parsedConfig.backward ?? false;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    fixedSize: size,
    write(value, bytes, offset) {
      const bytesToAdd = [];
      for (let i = 0; i < size; i += 1) {
        let byte = 0;
        for (let j = 0; j < 8; j += 1) {
          const feature = Number(value[i * 8 + j] ?? 0);
          byte |= feature << (backward ? j : 7 - j);
        }
        if (backward) {
          bytesToAdd.unshift(byte);
        } else {
          bytesToAdd.push(byte);
        }
      }
      bytes.set(bytesToAdd, offset);
      return size;
    }
  });
}
function getBitArrayDecoder(size, config = {}) {
  const parsedConfig = typeof config === "boolean" ? { backward: config } : config;
  const backward = parsedConfig.backward ?? false;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
    fixedSize: size,
    read(bytes, offset) {
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.assertByteArrayHasEnoughBytesForCodec)("bitArray", size, bytes, offset);
      const booleans = [];
      let slice = bytes.slice(offset, offset + size);
      slice = backward ? slice.reverse() : slice;
      slice.forEach((byte) => {
        for (let i = 0; i < 8; i += 1) {
          if (backward) {
            booleans.push(Boolean(byte & 1));
            byte >>= 1;
          } else {
            booleans.push(Boolean(byte & 128));
            byte <<= 1;
          }
        }
      });
      return [booleans, offset + size];
    }
  });
}
function getBitArrayCodec(size, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getBitArrayEncoder(size, config), getBitArrayDecoder(size, config));
}
function getBooleanEncoder(config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Encoder)(), (value) => value ? 1 : 0);
}
function getBooleanDecoder(config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Decoder)(), (value) => Number(value) === 1);
}
function getBooleanCodec(config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getBooleanEncoder(config), getBooleanDecoder(config));
}
function getBytesEncoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    getSizeFromValue: (value) => value.length,
    write: (value, bytes, offset) => {
      bytes.set(value, offset);
      return offset + value.length;
    }
  });
}
function getBytesDecoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
    read: (bytes, offset) => {
      const slice = bytes.slice(offset);
      return [slice, offset + slice.length];
    }
  });
}
function getBytesCodec() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getBytesEncoder(), getBytesDecoder());
}
var getBase16Decoder = () => (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
  read(bytes, offset) {
    const value = bytes.slice(offset).reduce((str, byte) => str + byte.toString(16).padStart(2, "0"), "");
    return [value, bytes.length];
  }
});
function getConstantEncoder(constant) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    fixedSize: constant.length,
    write: (_, bytes, offset) => {
      bytes.set(constant, offset);
      return offset + constant.length;
    }
  });
}
function getConstantDecoder(constant) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
    fixedSize: constant.length,
    read: (bytes, offset) => {
      const base16 = getBase16Decoder();
      if (!(0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.containsBytes)(bytes, constant, offset)) {
        throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__INVALID_CONSTANT, {
          constant,
          data: bytes,
          hexConstant: base16.decode(constant),
          hexData: base16.decode(bytes),
          offset
        });
      }
      return [undefined, offset + constant.length];
    }
  });
}
function getConstantCodec(constant) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getConstantEncoder(constant), getConstantDecoder(constant));
}
function getTupleEncoder(items) {
  const fixedSize = sumCodecSizes(items.map(getFixedSize));
  const maxSize = sumCodecSizes(items.map(getMaxSize)) ?? undefined;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    ...fixedSize === null ? {
      getSizeFromValue: (value) => items.map((item, index) => (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.getEncodedSize)(value[index], item)).reduce((all, one) => all + one, 0),
      maxSize
    } : { fixedSize },
    write: (value, bytes, offset) => {
      assertValidNumberOfItemsForCodec("tuple", items.length, value.length);
      items.forEach((item, index) => {
        offset = item.write(value[index], bytes, offset);
      });
      return offset;
    }
  });
}
function getTupleDecoder(items) {
  const fixedSize = sumCodecSizes(items.map(getFixedSize));
  const maxSize = sumCodecSizes(items.map(getMaxSize)) ?? undefined;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
    ...fixedSize === null ? { maxSize } : { fixedSize },
    read: (bytes, offset) => {
      const values = [];
      items.forEach((item) => {
        const [newValue, newOffset] = item.read(bytes, offset);
        values.push(newValue);
        offset = newOffset;
      });
      return [values, offset];
    }
  });
}
function getTupleCodec(items) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(
    getTupleEncoder(items),
    getTupleDecoder(items)
  );
}
function getUnionEncoder(variants, getIndexFromValue) {
  const fixedSize = getUnionFixedSize(variants);
  const write = (variant, bytes, offset) => {
    const index = getIndexFromValue(variant);
    assertValidVariantIndex(variants, index);
    return variants[index].write(variant, bytes, offset);
  };
  if (fixedSize !== null) {
    return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({ fixedSize, write });
  }
  const maxSize = getUnionMaxSize(variants);
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    ...maxSize !== null ? { maxSize } : {},
    getSizeFromValue: (variant) => {
      const index = getIndexFromValue(variant);
      assertValidVariantIndex(variants, index);
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.getEncodedSize)(variant, variants[index]);
    },
    write
  });
}
function getUnionDecoder(variants, getIndexFromBytes) {
  const fixedSize = getUnionFixedSize(variants);
  const read = (bytes, offset) => {
    const index = getIndexFromBytes(bytes, offset);
    assertValidVariantIndex(variants, index);
    return variants[index].read(bytes, offset);
  };
  if (fixedSize !== null) {
    return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({ fixedSize, read });
  }
  const maxSize = getUnionMaxSize(variants);
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({ ...maxSize !== null ? { maxSize } : {}, read });
}
function getUnionCodec(variants, getIndexFromValue, getIndexFromBytes) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(
    getUnionEncoder(variants, getIndexFromValue),
    getUnionDecoder(variants, getIndexFromBytes)
  );
}
function assertValidVariantIndex(variants, index) {
  if (typeof variants[index] === "undefined") {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE, {
      maxRange: variants.length - 1,
      minRange: 0,
      variant: index
    });
  }
}
function getUnionFixedSize(variants) {
  if (variants.length === 0) return 0;
  if (!(0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.isFixedSize)(variants[0])) return null;
  const variantSize = variants[0].fixedSize;
  const sameSizedVariants = variants.every((variant) => (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.isFixedSize)(variant) && variant.fixedSize === variantSize);
  return sameSizedVariants ? variantSize : null;
}
function getUnionMaxSize(variants) {
  return maxCodecSizes(variants.map((variant) => getMaxSize(variant)));
}

// src/discriminated-union.ts
function getDiscriminatedUnionEncoder(variants, config = {}) {
  const discriminatorProperty = config.discriminator ?? "__kind";
  const prefix = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Encoder)();
  return getUnionEncoder(
    variants.map(
      ([, variant], index) => (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(getTupleEncoder([prefix, variant]), (value) => [index, value])
    ),
    (value) => getVariantDiscriminator(variants, value[discriminatorProperty])
  );
}
function getDiscriminatedUnionDecoder(variants, config = {}) {
  const discriminatorProperty = config.discriminator ?? "__kind";
  const prefix = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Decoder)();
  return getUnionDecoder(
    variants.map(
      ([discriminator, variant]) => (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(getTupleDecoder([prefix, variant]), ([, value]) => ({
        [discriminatorProperty]: discriminator,
        ...value
      }))
    ),
    (bytes, offset) => Number(prefix.read(bytes, offset)[0])
  );
}
function getDiscriminatedUnionCodec(variants, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(
    getDiscriminatedUnionEncoder(variants, config),
    getDiscriminatedUnionDecoder(variants, config)
  );
}
function getVariantDiscriminator(variants, discriminatorValue) {
  const discriminator = variants.findIndex(([key]) => discriminatorValue === key);
  if (discriminator < 0) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT, {
      value: discriminatorValue,
      variants: variants.map(([key]) => key)
    });
  }
  return discriminator;
}
var getDataEnumEncoder = getDiscriminatedUnionEncoder;
var getDataEnumDecoder = getDiscriminatedUnionDecoder;
var getDataEnumCodec = getDiscriminatedUnionCodec;

// src/enum-helpers.ts
function getEnumStats(constructor) {
  const numericalValues = [...new Set(Object.values(constructor).filter((v) => typeof v === "number"))].sort();
  const enumRecord = Object.fromEntries(Object.entries(constructor).slice(numericalValues.length));
  const enumKeys = Object.keys(enumRecord);
  const enumValues = Object.values(enumRecord);
  const stringValues = [
    .../* @__PURE__ */ new Set([...enumKeys, ...enumValues.filter((v) => typeof v === "string")])
  ];
  return { enumKeys, enumRecord, enumValues, numericalValues, stringValues };
}
function getEnumIndexFromVariant({
  enumKeys,
  enumValues,
  variant
}) {
  const valueIndex = findLastIndex(enumValues, (value) => value === variant);
  if (valueIndex >= 0) return valueIndex;
  return enumKeys.findIndex((key) => key === variant);
}
function getEnumIndexFromDiscriminator({
  discriminator,
  enumKeys,
  enumValues,
  useValuesAsDiscriminators
}) {
  if (!useValuesAsDiscriminators) {
    return discriminator >= 0 && discriminator < enumKeys.length ? discriminator : -1;
  }
  return findLastIndex(enumValues, (value) => value === discriminator);
}
function findLastIndex(array, predicate) {
  let l = array.length;
  while (l--) {
    if (predicate(array[l], l, array)) return l;
  }
  return -1;
}
function formatNumericalValues(values) {
  if (values.length === 0) return "";
  let range = [values[0], values[0]];
  const ranges = [];
  for (let index = 1; index < values.length; index++) {
    const value = values[index];
    if (range[1] + 1 === value) {
      range[1] = value;
    } else {
      ranges.push(range[0] === range[1] ? `${range[0]}` : `${range[0]}-${range[1]}`);
      range = [value, value];
    }
  }
  ranges.push(range[0] === range[1] ? `${range[0]}` : `${range[0]}-${range[1]}`);
  return ranges.join(", ");
}

// src/enum.ts
function getEnumEncoder(constructor, config = {}) {
  const prefix = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Encoder)();
  const useValuesAsDiscriminators = config.useValuesAsDiscriminators ?? false;
  const { enumKeys, enumValues, numericalValues, stringValues } = getEnumStats(constructor);
  if (useValuesAsDiscriminators && enumValues.some((value) => typeof value === "string")) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS, {
      stringValues: enumValues.filter((v) => typeof v === "string")
    });
  }
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(prefix, (variant) => {
    const index = getEnumIndexFromVariant({ enumKeys, enumValues, variant });
    if (index < 0) {
      throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT, {
        formattedNumericalValues: formatNumericalValues(numericalValues),
        numericalValues,
        stringValues,
        variant
      });
    }
    return useValuesAsDiscriminators ? enumValues[index] : index;
  });
}
function getEnumDecoder(constructor, config = {}) {
  const prefix = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Decoder)();
  const useValuesAsDiscriminators = config.useValuesAsDiscriminators ?? false;
  const { enumKeys, enumValues, numericalValues } = getEnumStats(constructor);
  if (useValuesAsDiscriminators && enumValues.some((value) => typeof value === "string")) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS, {
      stringValues: enumValues.filter((v) => typeof v === "string")
    });
  }
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(prefix, (value) => {
    const discriminator = Number(value);
    const index = getEnumIndexFromDiscriminator({
      discriminator,
      enumKeys,
      enumValues,
      useValuesAsDiscriminators
    });
    if (index < 0) {
      const validDiscriminators = useValuesAsDiscriminators ? numericalValues : [...Array(enumKeys.length).keys()];
      throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE, {
        discriminator,
        formattedValidDiscriminators: formatNumericalValues(validDiscriminators),
        validDiscriminators
      });
    }
    return enumValues[index];
  });
}
function getEnumCodec(constructor, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getEnumEncoder(constructor, config), getEnumDecoder(constructor, config));
}
var getScalarEnumEncoder = getEnumEncoder;
var getScalarEnumDecoder = getEnumDecoder;
var getScalarEnumCodec = getEnumCodec;
function getHiddenPrefixEncoder(encoder, prefixedEncoders) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(
    getTupleEncoder([...prefixedEncoders, encoder]),
    (value) => [...prefixedEncoders.map(() => undefined), value]
  );
}
function getHiddenPrefixDecoder(decoder, prefixedDecoders) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(
    getTupleDecoder([...prefixedDecoders, decoder]),
    (tuple) => tuple[tuple.length - 1]
  );
}
function getHiddenPrefixCodec(codec, prefixedCodecs) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getHiddenPrefixEncoder(codec, prefixedCodecs), getHiddenPrefixDecoder(codec, prefixedCodecs));
}
function getHiddenSuffixEncoder(encoder, suffixedEncoders) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(
    getTupleEncoder([encoder, ...suffixedEncoders]),
    (value) => [value, ...suffixedEncoders.map(() => undefined)]
  );
}
function getHiddenSuffixDecoder(decoder, suffixedDecoders) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(
    getTupleDecoder([decoder, ...suffixedDecoders]),
    (tuple) => tuple[0]
  );
}
function getHiddenSuffixCodec(codec, suffixedCodecs) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getHiddenSuffixEncoder(codec, suffixedCodecs), getHiddenSuffixDecoder(codec, suffixedCodecs));
}
function getLiteralUnionEncoder(variants, config = {}) {
  const discriminator = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Encoder)();
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(discriminator, (variant) => {
    const index = variants.indexOf(variant);
    if (index < 0) {
      throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT, {
        value: variant,
        variants
      });
    }
    return index;
  });
}
function getLiteralUnionDecoder(variants, config = {}) {
  const discriminator = config.size ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Decoder)();
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(discriminator, (index) => {
    if (index < 0 || index >= variants.length) {
      throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE, {
        discriminator: index,
        maxRange: variants.length - 1,
        minRange: 0
      });
    }
    return variants[Number(index)];
  });
}
function getLiteralUnionCodec(variants, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getLiteralUnionEncoder(variants, config), getLiteralUnionDecoder(variants, config));
}
function getMapEncoder(key, value, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(
    getArrayEncoder(getTupleEncoder([key, value]), config),
    (map) => [...map.entries()]
  );
}
function getMapDecoder(key, value, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(
    getArrayDecoder(getTupleDecoder([key, value]), config),
    (entries) => new Map(entries)
  );
}
function getMapCodec(key, value, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getMapEncoder(key, value, config), getMapDecoder(key, value, config));
}
function getUnitEncoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    fixedSize: 0,
    write: (_value, _bytes, offset) => offset
  });
}
function getUnitDecoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
    fixedSize: 0,
    read: (_bytes, offset) => [undefined, offset]
  });
}
function getUnitCodec() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getUnitEncoder(), getUnitDecoder());
}

// src/nullable.ts
function getNullableEncoder(item, config = {}) {
  const prefix = (() => {
    if (config.prefix === null) {
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(getUnitEncoder(), (_boolean) => undefined);
    }
    return getBooleanEncoder({ size: config.prefix ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Encoder)() });
  })();
  const noneValue = (() => {
    if (config.noneValue === "zeroes") {
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.assertIsFixedSize)(item);
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.fixEncoderSize)(getUnitEncoder(), item.fixedSize);
    }
    if (!config.noneValue) {
      return getUnitEncoder();
    }
    return getConstantEncoder(config.noneValue);
  })();
  return getUnionEncoder(
    [
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(getTupleEncoder([prefix, noneValue]), (_value) => [
        false,
        undefined
      ]),
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(getTupleEncoder([prefix, item]), (value) => [true, value])
    ],
    (variant) => Number(variant !== null)
  );
}
function getNullableDecoder(item, config = {}) {
  const prefix = (() => {
    if (config.prefix === null) {
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(getUnitDecoder(), () => false);
    }
    return getBooleanDecoder({ size: config.prefix ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Decoder)() });
  })();
  const noneValue = (() => {
    if (config.noneValue === "zeroes") {
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.assertIsFixedSize)(item);
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.fixDecoderSize)(getUnitDecoder(), item.fixedSize);
    }
    if (!config.noneValue) {
      return getUnitDecoder();
    }
    return getConstantDecoder(config.noneValue);
  })();
  return getUnionDecoder(
    [
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(getTupleDecoder([prefix, noneValue]), () => null),
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(getTupleDecoder([prefix, item]), ([, value]) => value)
    ],
    (bytes, offset) => {
      if (config.prefix === null && !config.noneValue) {
        return Number(offset < bytes.length);
      }
      if (config.prefix === null && config.noneValue != null) {
        const zeroValue = config.noneValue === "zeroes" ? new Uint8Array(noneValue.fixedSize).fill(0) : config.noneValue;
        return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.containsBytes)(bytes, zeroValue, offset) ? 0 : 1;
      }
      return Number(prefix.read(bytes, offset)[0]);
    }
  );
}
function getNullableCodec(item, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(
    getNullableEncoder(item, config),
    getNullableDecoder(item, config)
  );
}
function getSetEncoder(item, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(getArrayEncoder(item, config), (set) => [...set]);
}
function getSetDecoder(item, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(getArrayDecoder(item, config), (entries) => new Set(entries));
}
function getSetCodec(item, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getSetEncoder(item, config), getSetDecoder(item, config));
}
function getStructEncoder(fields) {
  const fieldCodecs = fields.map(([, codec]) => codec);
  const fixedSize = sumCodecSizes(fieldCodecs.map(getFixedSize));
  const maxSize = sumCodecSizes(fieldCodecs.map(getMaxSize)) ?? undefined;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createEncoder)({
    ...fixedSize === null ? {
      getSizeFromValue: (value) => fields.map(([key, codec]) => (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.getEncodedSize)(value[key], codec)).reduce((all, one) => all + one, 0),
      maxSize
    } : { fixedSize },
    write: (struct, bytes, offset) => {
      fields.forEach(([key, codec]) => {
        offset = codec.write(struct[key], bytes, offset);
      });
      return offset;
    }
  });
}
function getStructDecoder(fields) {
  const fieldCodecs = fields.map(([, codec]) => codec);
  const fixedSize = sumCodecSizes(fieldCodecs.map(getFixedSize));
  const maxSize = sumCodecSizes(fieldCodecs.map(getMaxSize)) ?? undefined;
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.createDecoder)({
    ...fixedSize === null ? { maxSize } : { fixedSize },
    read: (bytes, offset) => {
      const struct = {};
      fields.forEach(([key, codec]) => {
        const [value, newOffset] = codec.read(bytes, offset);
        offset = newOffset;
        struct[key] = value;
      });
      return [struct, offset];
    }
  });
}
function getStructCodec(fields) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(
    getStructEncoder(fields),
    getStructDecoder(fields)
  );
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/instructions/dist/index.browser.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@solana/instructions/dist/index.browser.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccountRole": () => (/* binding */ AccountRole),
/* harmony export */   "assertIsInstructionForProgram": () => (/* binding */ assertIsInstructionForProgram),
/* harmony export */   "assertIsInstructionWithAccounts": () => (/* binding */ assertIsInstructionWithAccounts),
/* harmony export */   "assertIsInstructionWithData": () => (/* binding */ assertIsInstructionWithData),
/* harmony export */   "downgradeRoleToNonSigner": () => (/* binding */ downgradeRoleToNonSigner),
/* harmony export */   "downgradeRoleToReadonly": () => (/* binding */ downgradeRoleToReadonly),
/* harmony export */   "isInstructionForProgram": () => (/* binding */ isInstructionForProgram),
/* harmony export */   "isInstructionWithAccounts": () => (/* binding */ isInstructionWithAccounts),
/* harmony export */   "isInstructionWithData": () => (/* binding */ isInstructionWithData),
/* harmony export */   "isSignerRole": () => (/* binding */ isSignerRole),
/* harmony export */   "isWritableRole": () => (/* binding */ isWritableRole),
/* harmony export */   "mergeRoles": () => (/* binding */ mergeRoles),
/* harmony export */   "upgradeRoleToSigner": () => (/* binding */ upgradeRoleToSigner),
/* harmony export */   "upgradeRoleToWritable": () => (/* binding */ upgradeRoleToWritable)
/* harmony export */ });
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");


// src/instruction.ts
function isInstructionForProgram(instruction, programAddress) {
  return instruction.programAddress === programAddress;
}
function assertIsInstructionForProgram(instruction, programAddress) {
  if (instruction.programAddress !== programAddress) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH, {
      actualProgramAddress: instruction.programAddress,
      expectedProgramAddress: programAddress
    });
  }
}
function isInstructionWithAccounts(instruction) {
  return instruction.accounts !== undefined;
}
function assertIsInstructionWithAccounts(instruction) {
  if (instruction.accounts === undefined) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS, {
      data: instruction.data,
      programAddress: instruction.programAddress
    });
  }
}
function isInstructionWithData(instruction) {
  return instruction.data !== undefined;
}
function assertIsInstructionWithData(instruction) {
  if (instruction.data === undefined) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA, {
      accountAddresses: instruction.accounts?.map((a) => a.address),
      programAddress: instruction.programAddress
    });
  }
}

// src/roles.ts
var AccountRole = /* @__PURE__ */ ((AccountRole2) => {
  AccountRole2[AccountRole2["WRITABLE_SIGNER"] = /* 3 */
  3] = "WRITABLE_SIGNER";
  AccountRole2[AccountRole2["READONLY_SIGNER"] = /* 2 */
  2] = "READONLY_SIGNER";
  AccountRole2[AccountRole2["WRITABLE"] = /* 1 */
  1] = "WRITABLE";
  AccountRole2[AccountRole2["READONLY"] = /* 0 */
  0] = "READONLY";
  return AccountRole2;
})(AccountRole || {});
var IS_SIGNER_BITMASK = 2;
var IS_WRITABLE_BITMASK = 1;
function downgradeRoleToNonSigner(role) {
  return role & -3;
}
function downgradeRoleToReadonly(role) {
  return role & -2;
}
function isSignerRole(role) {
  return role >= 2 /* READONLY_SIGNER */;
}
function isWritableRole(role) {
  return (role & IS_WRITABLE_BITMASK) !== 0;
}
function mergeRoles(roleA, roleB) {
  return roleA | roleB;
}
function upgradeRoleToSigner(role) {
  return role | IS_SIGNER_BITMASK;
}
function upgradeRoleToWritable(role) {
  return role | IS_WRITABLE_BITMASK;
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/keys/dist/index.browser.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@solana/keys/dist/index.browser.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assertIsSignature": () => (/* binding */ assertIsSignature),
/* harmony export */   "createKeyPairFromBytes": () => (/* binding */ createKeyPairFromBytes),
/* harmony export */   "createKeyPairFromPrivateKeyBytes": () => (/* binding */ createKeyPairFromPrivateKeyBytes),
/* harmony export */   "createPrivateKeyFromBytes": () => (/* binding */ createPrivateKeyFromBytes),
/* harmony export */   "generateKeyPair": () => (/* binding */ generateKeyPair),
/* harmony export */   "getPublicKeyFromPrivateKey": () => (/* binding */ getPublicKeyFromPrivateKey),
/* harmony export */   "isSignature": () => (/* binding */ isSignature),
/* harmony export */   "signBytes": () => (/* binding */ signBytes),
/* harmony export */   "signature": () => (/* binding */ signature),
/* harmony export */   "verifySignature": () => (/* binding */ verifySignature)
/* harmony export */ });
/* harmony import */ var _solana_assertions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/assertions */ "./node_modules/@solana/assertions/dist/index.browser.mjs");
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/codecs-strings */ "./node_modules/@solana/codecs-strings/dist/index.browser.mjs");




// src/key-pair.ts

// src/algorithm.ts
var ED25519_ALGORITHM_IDENTIFIER = (
  // Resist the temptation to convert this to a simple string; As of version 133.0.3, Firefox
  // requires the object form of `AlgorithmIdentifier` and will throw a `DOMException` otherwise.
  Object.freeze({ name: "Ed25519" })
);
function addPkcs8Header(bytes) {
  return new Uint8Array([
    /**
     * PKCS#8 header
     */
    48,
    // ASN.1 sequence tag
    46,
    // Length of sequence (46 more bytes)
    2,
    // ASN.1 integer tag
    1,
    // Length of integer
    0,
    // Version number
    48,
    // ASN.1 sequence tag
    5,
    // Length of sequence
    6,
    // ASN.1 object identifier tag
    3,
    // Length of object identifier
    // Edwards curve algorithms identifier https://oid-rep.orange-labs.fr/get/1.3.101.112
    43,
    // iso(1) / identified-organization(3) (The first node is multiplied by the decimal 40 and the result is added to the value of the second node)
    101,
    // thawte(101)
    // Ed25519 identifier
    112,
    // id-Ed25519(112)
    /**
     * Private key payload
     */
    4,
    // ASN.1 octet string tag
    34,
    // String length (34 more bytes)
    // Private key bytes as octet string
    4,
    // ASN.1 octet string tag
    32,
    // String length (32 bytes)
    ...bytes
  ]);
}
async function createPrivateKeyFromBytes(bytes, extractable) {
  const actualLength = bytes.byteLength;
  if (actualLength !== 32) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH, {
      actualLength
    });
  }
  const privateKeyBytesPkcs8 = addPkcs8Header(bytes);
  return await crypto.subtle.importKey(
    "pkcs8",
    privateKeyBytesPkcs8,
    ED25519_ALGORITHM_IDENTIFIER,
    extractable ?? false,
    ["sign"]
  );
}
async function getPublicKeyFromPrivateKey(privateKey, extractable = false) {
  (0,_solana_assertions__WEBPACK_IMPORTED_MODULE_1__.assertKeyExporterIsAvailable)();
  if (privateKey.extractable === false) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY, { key: privateKey });
  }
  const jwk = await crypto.subtle.exportKey("jwk", privateKey);
  return await crypto.subtle.importKey(
    "jwk",
    {
      crv: "Ed25519",
      ext: extractable,
      key_ops: ["verify"],
      kty: "OKP",
      x: jwk.x
    },
    "Ed25519",
    extractable,
    ["verify"]
  );
}
var base58Encoder;
function assertIsSignature(putativeSignature) {
  if (!base58Encoder) base58Encoder = (0,_solana_codecs_strings__WEBPACK_IMPORTED_MODULE_2__.getBase58Encoder)();
  if (
    // Lowest value (64 bytes of zeroes)
    putativeSignature.length < 64 || // Highest value (64 bytes of 255)
    putativeSignature.length > 88
  ) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE, {
      actualLength: putativeSignature.length
    });
  }
  const bytes = base58Encoder.encode(putativeSignature);
  const numBytes = bytes.byteLength;
  if (numBytes !== 64) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH, {
      actualLength: numBytes
    });
  }
}
function isSignature(putativeSignature) {
  if (!base58Encoder) base58Encoder = (0,_solana_codecs_strings__WEBPACK_IMPORTED_MODULE_2__.getBase58Encoder)();
  if (
    // Lowest value (64 bytes of zeroes)
    putativeSignature.length < 64 || // Highest value (64 bytes of 255)
    putativeSignature.length > 88
  ) {
    return false;
  }
  const bytes = base58Encoder.encode(putativeSignature);
  const numBytes = bytes.byteLength;
  if (numBytes !== 64) {
    return false;
  }
  return true;
}
async function signBytes(key, data) {
  (0,_solana_assertions__WEBPACK_IMPORTED_MODULE_1__.assertSigningCapabilityIsAvailable)();
  const signedData = await crypto.subtle.sign(ED25519_ALGORITHM_IDENTIFIER, key, data);
  return new Uint8Array(signedData);
}
function signature(putativeSignature) {
  assertIsSignature(putativeSignature);
  return putativeSignature;
}
async function verifySignature(key, signature2, data) {
  (0,_solana_assertions__WEBPACK_IMPORTED_MODULE_1__.assertVerificationCapabilityIsAvailable)();
  return await crypto.subtle.verify(ED25519_ALGORITHM_IDENTIFIER, key, signature2, data);
}

// src/key-pair.ts
async function generateKeyPair() {
  await (0,_solana_assertions__WEBPACK_IMPORTED_MODULE_1__.assertKeyGenerationIsAvailable)();
  const keyPair = await crypto.subtle.generateKey(
    /* algorithm */
    ED25519_ALGORITHM_IDENTIFIER,
    // Native implementation status: https://github.com/WICG/webcrypto-secure-curves/issues/20
    /* extractable */
    false,
    // Prevents the bytes of the private key from being visible to JS.
    /* allowed uses */
    ["sign", "verify"]
  );
  return keyPair;
}
async function createKeyPairFromBytes(bytes, extractable) {
  (0,_solana_assertions__WEBPACK_IMPORTED_MODULE_1__.assertPRNGIsAvailable)();
  if (bytes.byteLength !== 64) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH, { byteLength: bytes.byteLength });
  }
  const [publicKey, privateKey] = await Promise.all([
    crypto.subtle.importKey(
      "raw",
      bytes.slice(32),
      ED25519_ALGORITHM_IDENTIFIER,
      /* extractable */
      true,
      [
        "verify"
      ]
    ),
    createPrivateKeyFromBytes(bytes.slice(0, 32), extractable)
  ]);
  const randomBytes = new Uint8Array(32);
  crypto.getRandomValues(randomBytes);
  const signedData = await signBytes(privateKey, randomBytes);
  const isValid = await verifySignature(publicKey, signedData, randomBytes);
  if (!isValid) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY);
  }
  return { privateKey, publicKey };
}
async function createKeyPairFromPrivateKeyBytes(bytes, extractable = false) {
  const privateKeyPromise = createPrivateKeyFromBytes(bytes, extractable);
  const [publicKey, privateKey] = await Promise.all([
    // This nested promise makes things efficient by
    // creating the public key in parallel with the
    // second private key creation, if it is needed.
    (extractable ? privateKeyPromise : createPrivateKeyFromBytes(
      bytes,
      true
      /* extractable */
    )).then(
      async (privateKey2) => await getPublicKeyFromPrivateKey(
        privateKey2,
        true
        /* extractable */
      )
    ),
    privateKeyPromise
  ]);
  return { privateKey, publicKey };
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/options/dist/index.browser.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@solana/options/dist/index.browser.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getOptionCodec": () => (/* binding */ getOptionCodec),
/* harmony export */   "getOptionDecoder": () => (/* binding */ getOptionDecoder),
/* harmony export */   "getOptionEncoder": () => (/* binding */ getOptionEncoder),
/* harmony export */   "isNone": () => (/* binding */ isNone),
/* harmony export */   "isOption": () => (/* binding */ isOption),
/* harmony export */   "isSome": () => (/* binding */ isSome),
/* harmony export */   "none": () => (/* binding */ none),
/* harmony export */   "some": () => (/* binding */ some),
/* harmony export */   "unwrapOption": () => (/* binding */ unwrapOption),
/* harmony export */   "unwrapOptionRecursively": () => (/* binding */ unwrapOptionRecursively),
/* harmony export */   "wrapNullable": () => (/* binding */ wrapNullable)
/* harmony export */ });
/* harmony import */ var _solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/codecs-core */ "./node_modules/@solana/codecs-core/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/codecs-data-structures */ "./node_modules/@solana/codecs-data-structures/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/codecs-numbers */ "./node_modules/@solana/codecs-numbers/dist/index.browser.mjs");




// src/option.ts
var some = (value) => ({ __option: "Some", value });
var none = () => ({ __option: "None" });
var isOption = (input) => !!(input && typeof input === "object" && "__option" in input && (input.__option === "Some" && "value" in input || input.__option === "None"));
var isSome = (option) => option.__option === "Some";
var isNone = (option) => option.__option === "None";

// src/unwrap-option.ts
function unwrapOption(option, fallback) {
  if (isSome(option)) return option.value;
  return fallback ? fallback() : null;
}
var wrapNullable = (nullable) => nullable !== null ? some(nullable) : none();

// src/option-codec.ts
function getOptionEncoder(item, config = {}) {
  const prefix = (() => {
    if (config.prefix === null) {
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.transformEncoder)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnitEncoder)(), (_boolean) => undefined);
    }
    return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getBooleanEncoder)({ size: config.prefix ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Encoder)() });
  })();
  const noneValue = (() => {
    if (config.noneValue === "zeroes") {
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.assertIsFixedSize)(item);
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.fixEncoderSize)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnitEncoder)(), item.fixedSize);
    }
    if (!config.noneValue) {
      return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnitEncoder)();
    }
    return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getConstantEncoder)(config.noneValue);
  })();
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnionEncoder)(
    [
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.transformEncoder)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getTupleEncoder)([prefix, noneValue]), (_value) => [
        false,
        undefined
      ]),
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.transformEncoder)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getTupleEncoder)([prefix, item]), (value) => [
        true,
        isOption(value) && isSome(value) ? value.value : value
      ])
    ],
    (variant) => {
      const option = isOption(variant) ? variant : wrapNullable(variant);
      return Number(isSome(option));
    }
  );
}
function getOptionDecoder(item, config = {}) {
  const prefix = (() => {
    if (config.prefix === null) {
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.transformDecoder)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnitDecoder)(), () => false);
    }
    return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getBooleanDecoder)({ size: config.prefix ?? (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_2__.getU8Decoder)() });
  })();
  const noneValue = (() => {
    if (config.noneValue === "zeroes") {
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.assertIsFixedSize)(item);
      return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.fixDecoderSize)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnitDecoder)(), item.fixedSize);
    }
    if (!config.noneValue) {
      return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnitDecoder)();
    }
    return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getConstantDecoder)(config.noneValue);
  })();
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getUnionDecoder)(
    [
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.transformDecoder)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getTupleDecoder)([prefix, noneValue]), () => none()),
      (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.transformDecoder)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_1__.getTupleDecoder)([prefix, item]), ([, value]) => some(value))
    ],
    (bytes, offset) => {
      if (config.prefix === null && !config.noneValue) {
        return Number(offset < bytes.length);
      }
      if (config.prefix === null && config.noneValue != null) {
        const zeroValue = config.noneValue === "zeroes" ? new Uint8Array(noneValue.fixedSize).fill(0) : config.noneValue;
        return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.containsBytes)(bytes, zeroValue, offset) ? 0 : 1;
      }
      return Number(prefix.read(bytes, offset)[0]);
    }
  );
}
function getOptionCodec(item, config = {}) {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_0__.combineCodec)(
    getOptionEncoder(item, config),
    getOptionDecoder(item, config)
  );
}

// src/unwrap-option-recursively.ts
function unwrapOptionRecursively(input, fallback) {
  if (!input || ArrayBuffer.isView(input)) {
    return input;
  }
  const next = (x) => fallback ? unwrapOptionRecursively(x, fallback) : unwrapOptionRecursively(x);
  if (isOption(input)) {
    if (isSome(input)) return next(input.value);
    return fallback ? fallback() : null;
  }
  if (Array.isArray(input)) {
    return input.map(next);
  }
  if (typeof input === "object") {
    return Object.fromEntries(Object.entries(input).map(([k, v]) => [k, next(v)]));
  }
  return input;
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/programs/dist/index.browser.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@solana/programs/dist/index.browser.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isProgramError": () => (/* binding */ isProgramError)
/* harmony export */ });
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");


// src/program-error.ts
function isProgramError(error, transactionMessage, programAddress, code) {
  if (!(0,_solana_errors__WEBPACK_IMPORTED_MODULE_0__.isSolanaError)(error, _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM)) {
    return false;
  }
  const instructionProgramAddress = transactionMessage.instructions[error.context.index]?.programAddress;
  if (!instructionProgramAddress || instructionProgramAddress !== programAddress) {
    return false;
  }
  return typeof code === "undefined" || error.context.code === code;
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/signers/dist/index.browser.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@solana/signers/dist/index.browser.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addSignersToInstruction": () => (/* binding */ addSignersToInstruction),
/* harmony export */   "addSignersToTransactionMessage": () => (/* binding */ addSignersToTransactionMessage),
/* harmony export */   "assertIsKeyPairSigner": () => (/* binding */ assertIsKeyPairSigner),
/* harmony export */   "assertIsMessageModifyingSigner": () => (/* binding */ assertIsMessageModifyingSigner),
/* harmony export */   "assertIsMessagePartialSigner": () => (/* binding */ assertIsMessagePartialSigner),
/* harmony export */   "assertIsMessageSigner": () => (/* binding */ assertIsMessageSigner),
/* harmony export */   "assertIsTransactionMessageWithSingleSendingSigner": () => (/* binding */ assertIsTransactionMessageWithSingleSendingSigner),
/* harmony export */   "assertIsTransactionModifyingSigner": () => (/* binding */ assertIsTransactionModifyingSigner),
/* harmony export */   "assertIsTransactionPartialSigner": () => (/* binding */ assertIsTransactionPartialSigner),
/* harmony export */   "assertIsTransactionSendingSigner": () => (/* binding */ assertIsTransactionSendingSigner),
/* harmony export */   "assertIsTransactionSigner": () => (/* binding */ assertIsTransactionSigner),
/* harmony export */   "createKeyPairSignerFromBytes": () => (/* binding */ createKeyPairSignerFromBytes),
/* harmony export */   "createKeyPairSignerFromPrivateKeyBytes": () => (/* binding */ createKeyPairSignerFromPrivateKeyBytes),
/* harmony export */   "createNoopSigner": () => (/* binding */ createNoopSigner),
/* harmony export */   "createSignableMessage": () => (/* binding */ createSignableMessage),
/* harmony export */   "createSignerFromKeyPair": () => (/* binding */ createSignerFromKeyPair),
/* harmony export */   "generateKeyPairSigner": () => (/* binding */ generateKeyPairSigner),
/* harmony export */   "getSignersFromInstruction": () => (/* binding */ getSignersFromInstruction),
/* harmony export */   "getSignersFromTransactionMessage": () => (/* binding */ getSignersFromTransactionMessage),
/* harmony export */   "isKeyPairSigner": () => (/* binding */ isKeyPairSigner),
/* harmony export */   "isMessageModifyingSigner": () => (/* binding */ isMessageModifyingSigner),
/* harmony export */   "isMessagePartialSigner": () => (/* binding */ isMessagePartialSigner),
/* harmony export */   "isMessageSigner": () => (/* binding */ isMessageSigner),
/* harmony export */   "isTransactionMessageWithSingleSendingSigner": () => (/* binding */ isTransactionMessageWithSingleSendingSigner),
/* harmony export */   "isTransactionModifyingSigner": () => (/* binding */ isTransactionModifyingSigner),
/* harmony export */   "isTransactionPartialSigner": () => (/* binding */ isTransactionPartialSigner),
/* harmony export */   "isTransactionSendingSigner": () => (/* binding */ isTransactionSendingSigner),
/* harmony export */   "isTransactionSigner": () => (/* binding */ isTransactionSigner),
/* harmony export */   "partiallySignTransactionMessageWithSigners": () => (/* binding */ partiallySignTransactionMessageWithSigners),
/* harmony export */   "setTransactionMessageFeePayerSigner": () => (/* binding */ setTransactionMessageFeePayerSigner),
/* harmony export */   "signAndSendTransactionMessageWithSigners": () => (/* binding */ signAndSendTransactionMessageWithSigners),
/* harmony export */   "signTransactionMessageWithSigners": () => (/* binding */ signTransactionMessageWithSigners)
/* harmony export */ });
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");
/* harmony import */ var _solana_instructions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/instructions */ "./node_modules/@solana/instructions/dist/index.browser.mjs");
/* harmony import */ var _solana_addresses__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/addresses */ "./node_modules/@solana/addresses/dist/index.browser.mjs");
/* harmony import */ var _solana_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/keys */ "./node_modules/@solana/keys/dist/index.browser.mjs");
/* harmony import */ var _solana_transactions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/transactions */ "./node_modules/@solana/transactions/dist/index.browser.mjs");






// src/deduplicate-signers.ts
function deduplicateSigners(signers) {
  const deduplicated = {};
  signers.forEach((signer) => {
    if (!deduplicated[signer.address]) {
      deduplicated[signer.address] = signer;
    } else if (deduplicated[signer.address] !== signer) {
      throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS, {
        address: signer.address
      });
    }
  });
  return Object.values(deduplicated);
}
function isTransactionModifyingSigner(value) {
  return "modifyAndSignTransactions" in value && typeof value.modifyAndSignTransactions === "function";
}
function assertIsTransactionModifyingSigner(value) {
  if (!isTransactionModifyingSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER, {
      address: value.address
    });
  }
}
function isTransactionPartialSigner(value) {
  return "signTransactions" in value && typeof value.signTransactions === "function";
}
function assertIsTransactionPartialSigner(value) {
  if (!isTransactionPartialSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER, {
      address: value.address
    });
  }
}
function isTransactionSendingSigner(value) {
  return "signAndSendTransactions" in value && typeof value.signAndSendTransactions === "function";
}
function assertIsTransactionSendingSigner(value) {
  if (!isTransactionSendingSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER, {
      address: value.address
    });
  }
}

// src/transaction-signer.ts
function isTransactionSigner(value) {
  return isTransactionPartialSigner(value) || isTransactionModifyingSigner(value) || isTransactionSendingSigner(value);
}
function assertIsTransactionSigner(value) {
  if (!isTransactionSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER, {
      address: value.address
    });
  }
}

// src/account-signer-meta.ts
function getSignersFromInstruction(instruction) {
  return deduplicateSigners(
    (instruction.accounts ?? []).flatMap((account) => "signer" in account ? account.signer : [])
  );
}
function getSignersFromTransactionMessage(transaction) {
  return deduplicateSigners([
    ...transaction.feePayer && isTransactionSigner(transaction.feePayer) ? [transaction.feePayer] : [],
    ...transaction.instructions.flatMap(getSignersFromInstruction)
  ]);
}
function addSignersToInstruction(signers, instruction) {
  if (!instruction.accounts || instruction.accounts.length === 0) {
    return instruction;
  }
  const signerByAddress = new Map(deduplicateSigners(signers).map((signer) => [signer.address, signer]));
  return Object.freeze({
    ...instruction,
    accounts: instruction.accounts.map((account) => {
      const signer = signerByAddress.get(account.address);
      if (!(0,_solana_instructions__WEBPACK_IMPORTED_MODULE_1__.isSignerRole)(account.role) || "signer" in account || !signer) {
        return account;
      }
      return Object.freeze({ ...account, signer });
    })
  });
}
function addSignersToTransactionMessage(signers, transactionMessage) {
  const feePayerSigner = hasAddressOnlyFeePayer(transactionMessage) ? signers.find((signer) => signer.address === transactionMessage.feePayer.address) : undefined;
  if (!feePayerSigner && transactionMessage.instructions.length === 0) {
    return transactionMessage;
  }
  return Object.freeze({
    ...transactionMessage,
    ...feePayerSigner ? { feePayer: feePayerSigner } : null,
    instructions: transactionMessage.instructions.map((instruction) => addSignersToInstruction(signers, instruction))
  });
}
function hasAddressOnlyFeePayer(message) {
  return !!message && "feePayer" in message && !!message.feePayer && typeof message.feePayer.address === "string" && !isTransactionSigner(message.feePayer);
}

// src/fee-payer-signer.ts
function setTransactionMessageFeePayerSigner(feePayer, transactionMessage) {
  Object.freeze(feePayer);
  const out = { ...transactionMessage, feePayer };
  Object.freeze(out);
  return out;
}
function isMessagePartialSigner(value) {
  return "signMessages" in value && typeof value.signMessages === "function";
}
function assertIsMessagePartialSigner(value) {
  if (!isMessagePartialSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER, {
      address: value.address
    });
  }
}

// src/keypair-signer.ts
function isKeyPairSigner(value) {
  return "keyPair" in value && typeof value.keyPair === "object" && isMessagePartialSigner(value) && isTransactionPartialSigner(value);
}
function assertIsKeyPairSigner(value) {
  if (!isKeyPairSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER, {
      address: value.address
    });
  }
}
async function createSignerFromKeyPair(keyPair) {
  const address = await (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_2__.getAddressFromPublicKey)(keyPair.publicKey);
  const out = {
    address,
    keyPair,
    signMessages: (messages) => Promise.all(
      messages.map(
        async (message) => Object.freeze({ [address]: await (0,_solana_keys__WEBPACK_IMPORTED_MODULE_3__.signBytes)(keyPair.privateKey, message.content) })
      )
    ),
    signTransactions: (transactions) => Promise.all(
      transactions.map(async (transaction) => {
        const signedTransaction = await (0,_solana_transactions__WEBPACK_IMPORTED_MODULE_4__.partiallySignTransaction)([keyPair], transaction);
        return Object.freeze({ [address]: signedTransaction.signatures[address] });
      })
    )
  };
  return Object.freeze(out);
}
async function generateKeyPairSigner() {
  return await createSignerFromKeyPair(await (0,_solana_keys__WEBPACK_IMPORTED_MODULE_3__.generateKeyPair)());
}
async function createKeyPairSignerFromBytes(bytes, extractable) {
  return await createSignerFromKeyPair(await (0,_solana_keys__WEBPACK_IMPORTED_MODULE_3__.createKeyPairFromBytes)(bytes, extractable));
}
async function createKeyPairSignerFromPrivateKeyBytes(bytes, extractable) {
  return await createSignerFromKeyPair(await (0,_solana_keys__WEBPACK_IMPORTED_MODULE_3__.createKeyPairFromPrivateKeyBytes)(bytes, extractable));
}
function isMessageModifyingSigner(value) {
  return (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_2__.isAddress)(value.address) && "modifyAndSignMessages" in value && typeof value.modifyAndSignMessages === "function";
}
function assertIsMessageModifyingSigner(value) {
  if (!isMessageModifyingSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER, {
      address: value.address
    });
  }
}
function isMessageSigner(value) {
  return isMessagePartialSigner(value) || isMessageModifyingSigner(value);
}
function assertIsMessageSigner(value) {
  if (!isMessageSigner(value)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER, {
      address: value.address
    });
  }
}

// src/noop-signer.ts
function createNoopSigner(address) {
  const out = {
    address,
    signMessages: (messages) => Promise.resolve(messages.map(() => Object.freeze({}))),
    signTransactions: (transactions) => Promise.resolve(transactions.map(() => Object.freeze({})))
  };
  return Object.freeze(out);
}
function isTransactionMessageWithSingleSendingSigner(transaction) {
  try {
    assertIsTransactionMessageWithSingleSendingSigner(transaction);
    return true;
  } catch {
    return false;
  }
}
function assertIsTransactionMessageWithSingleSendingSigner(transaction) {
  const signers = getSignersFromTransactionMessage(transaction);
  const sendingSigners = signers.filter(isTransactionSendingSigner);
  if (sendingSigners.length === 0) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING);
  }
  const sendingOnlySigners = sendingSigners.filter(
    (signer) => !isTransactionPartialSigner(signer) && !isTransactionModifyingSigner(signer)
  );
  if (sendingOnlySigners.length > 1) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS);
  }
}

// src/sign-transaction.ts
async function partiallySignTransactionMessageWithSigners(transactionMessage, config) {
  const { partialSigners, modifyingSigners } = categorizeTransactionSigners(
    deduplicateSigners(getSignersFromTransactionMessage(transactionMessage).filter(isTransactionSigner)),
    { identifySendingSigner: false }
  );
  return await signModifyingAndPartialTransactionSigners(
    transactionMessage,
    modifyingSigners,
    partialSigners,
    config
  );
}
async function signTransactionMessageWithSigners(transactionMessage, config) {
  const signedTransaction = await partiallySignTransactionMessageWithSigners(transactionMessage, config);
  (0,_solana_transactions__WEBPACK_IMPORTED_MODULE_4__.assertTransactionIsFullySigned)(signedTransaction);
  return signedTransaction;
}
async function signAndSendTransactionMessageWithSigners(transaction, config) {
  assertIsTransactionMessageWithSingleSendingSigner(transaction);
  const abortSignal = config?.abortSignal;
  const { partialSigners, modifyingSigners, sendingSigner } = categorizeTransactionSigners(
    deduplicateSigners(getSignersFromTransactionMessage(transaction).filter(isTransactionSigner))
  );
  abortSignal?.throwIfAborted();
  const signedTransaction = await signModifyingAndPartialTransactionSigners(
    transaction,
    modifyingSigners,
    partialSigners,
    config
  );
  if (!sendingSigner) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING);
  }
  abortSignal?.throwIfAborted();
  const [signature] = await sendingSigner.signAndSendTransactions([signedTransaction], config);
  abortSignal?.throwIfAborted();
  return signature;
}
function categorizeTransactionSigners(signers, config = {}) {
  const identifySendingSigner = config.identifySendingSigner ?? true;
  const sendingSigner = identifySendingSigner ? identifyTransactionSendingSigner(signers) : null;
  const otherSigners = signers.filter(
    (signer) => signer !== sendingSigner && (isTransactionModifyingSigner(signer) || isTransactionPartialSigner(signer))
  );
  const modifyingSigners = identifyTransactionModifyingSigners(otherSigners);
  const partialSigners = otherSigners.filter(isTransactionPartialSigner).filter((signer) => !modifyingSigners.includes(signer));
  return Object.freeze({ modifyingSigners, partialSigners, sendingSigner });
}
function identifyTransactionSendingSigner(signers) {
  const sendingSigners = signers.filter(isTransactionSendingSigner);
  if (sendingSigners.length === 0) return null;
  const sendingOnlySigners = sendingSigners.filter(
    (signer) => !isTransactionModifyingSigner(signer) && !isTransactionPartialSigner(signer)
  );
  if (sendingOnlySigners.length > 0) {
    return sendingOnlySigners[0];
  }
  return sendingSigners[0];
}
function identifyTransactionModifyingSigners(signers) {
  const modifyingSigners = signers.filter(isTransactionModifyingSigner);
  if (modifyingSigners.length === 0) return [];
  const nonPartialSigners = modifyingSigners.filter((signer) => !isTransactionPartialSigner(signer));
  if (nonPartialSigners.length > 0) return nonPartialSigners;
  return [modifyingSigners[0]];
}
async function signModifyingAndPartialTransactionSigners(transactionMessage, modifyingSigners = [], partialSigners = [], config) {
  const transaction = (0,_solana_transactions__WEBPACK_IMPORTED_MODULE_4__.compileTransaction)(transactionMessage);
  const modifiedTransaction = await modifyingSigners.reduce(
    async (transaction2, modifyingSigner) => {
      config?.abortSignal?.throwIfAborted();
      const [tx] = await modifyingSigner.modifyAndSignTransactions([await transaction2], config);
      return Object.freeze(tx);
    },
    Promise.resolve(transaction)
  );
  config?.abortSignal?.throwIfAborted();
  const signatureDictionaries = await Promise.all(
    partialSigners.map(async (partialSigner) => {
      const [signatures] = await partialSigner.signTransactions([modifiedTransaction], config);
      return signatures;
    })
  );
  const signedTransaction = {
    ...modifiedTransaction,
    signatures: Object.freeze(
      signatureDictionaries.reduce((signatures, signatureDictionary) => {
        return { ...signatures, ...signatureDictionary };
      }, modifiedTransaction.signatures ?? {})
    )
  };
  return Object.freeze(signedTransaction);
}
var o = globalThis.TextEncoder;

// src/signable-message.ts
function createSignableMessage(content, signatures = {}) {
  return Object.freeze({
    content: typeof content === "string" ? new o().encode(content) : content,
    signatures: Object.freeze({ ...signatures })
  });
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/transaction-messages/dist/index.browser.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@solana/transaction-messages/dist/index.browser.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "appendTransactionMessageInstruction": () => (/* binding */ appendTransactionMessageInstruction),
/* harmony export */   "appendTransactionMessageInstructions": () => (/* binding */ appendTransactionMessageInstructions),
/* harmony export */   "assertIsDurableNonceTransactionMessage": () => (/* binding */ assertIsDurableNonceTransactionMessage),
/* harmony export */   "assertIsTransactionMessageWithBlockhashLifetime": () => (/* binding */ assertIsTransactionMessageWithBlockhashLifetime),
/* harmony export */   "compileTransactionMessage": () => (/* binding */ compileTransactionMessage),
/* harmony export */   "compressTransactionMessageUsingAddressLookupTables": () => (/* binding */ compressTransactionMessageUsingAddressLookupTables),
/* harmony export */   "createTransactionMessage": () => (/* binding */ createTransactionMessage),
/* harmony export */   "decompileTransactionMessage": () => (/* binding */ decompileTransactionMessage),
/* harmony export */   "getCompiledTransactionMessageCodec": () => (/* binding */ getCompiledTransactionMessageCodec),
/* harmony export */   "getCompiledTransactionMessageDecoder": () => (/* binding */ getCompiledTransactionMessageDecoder),
/* harmony export */   "getCompiledTransactionMessageEncoder": () => (/* binding */ getCompiledTransactionMessageEncoder),
/* harmony export */   "getTransactionVersionCodec": () => (/* binding */ getTransactionVersionCodec),
/* harmony export */   "getTransactionVersionDecoder": () => (/* binding */ getTransactionVersionDecoder),
/* harmony export */   "getTransactionVersionEncoder": () => (/* binding */ getTransactionVersionEncoder),
/* harmony export */   "isAdvanceNonceAccountInstruction": () => (/* binding */ isAdvanceNonceAccountInstruction),
/* harmony export */   "isDurableNonceTransaction": () => (/* binding */ isDurableNonceTransaction),
/* harmony export */   "isTransactionMessageWithBlockhashLifetime": () => (/* binding */ isTransactionMessageWithBlockhashLifetime),
/* harmony export */   "prependTransactionMessageInstruction": () => (/* binding */ prependTransactionMessageInstruction),
/* harmony export */   "prependTransactionMessageInstructions": () => (/* binding */ prependTransactionMessageInstructions),
/* harmony export */   "setTransactionMessageFeePayer": () => (/* binding */ setTransactionMessageFeePayer),
/* harmony export */   "setTransactionMessageLifetimeUsingBlockhash": () => (/* binding */ setTransactionMessageLifetimeUsingBlockhash),
/* harmony export */   "setTransactionMessageLifetimeUsingDurableNonce": () => (/* binding */ setTransactionMessageLifetimeUsingDurableNonce)
/* harmony export */ });
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");
/* harmony import */ var _solana_rpc_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/rpc-types */ "./node_modules/@solana/rpc-types/dist/index.browser.mjs");
/* harmony import */ var _solana_addresses__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/addresses */ "./node_modules/@solana/addresses/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/codecs-core */ "./node_modules/@solana/codecs-core/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/codecs-data-structures */ "./node_modules/@solana/codecs-data-structures/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/codecs-numbers */ "./node_modules/@solana/codecs-numbers/dist/index.browser.mjs");
/* harmony import */ var _solana_instructions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @solana/instructions */ "./node_modules/@solana/instructions/dist/index.browser.mjs");
/* harmony import */ var _solana_functional__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @solana/functional */ "./node_modules/@solana/functional/dist/index.browser.mjs");









// src/blockhash.ts
function isTransactionMessageWithBlockhashLifetime(transaction) {
  const lifetimeConstraintShapeMatches = "lifetimeConstraint" in transaction && typeof transaction.lifetimeConstraint.blockhash === "string" && typeof transaction.lifetimeConstraint.lastValidBlockHeight === "bigint";
  if (!lifetimeConstraintShapeMatches) return false;
  try {
    (0,_solana_rpc_types__WEBPACK_IMPORTED_MODULE_0__.assertIsBlockhash)(transaction.lifetimeConstraint.blockhash);
    return true;
  } catch {
    return false;
  }
}
function assertIsTransactionMessageWithBlockhashLifetime(transaction) {
  if (!isTransactionMessageWithBlockhashLifetime(transaction)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME);
  }
}
function setTransactionMessageLifetimeUsingBlockhash(blockhashLifetimeConstraint, transaction) {
  if ("lifetimeConstraint" in transaction && transaction.lifetimeConstraint.blockhash === blockhashLifetimeConstraint.blockhash && transaction.lifetimeConstraint.lastValidBlockHeight === blockhashLifetimeConstraint.lastValidBlockHeight) {
    return transaction;
  }
  const out = {
    ...transaction,
    lifetimeConstraint: Object.freeze(blockhashLifetimeConstraint)
  };
  Object.freeze(out);
  return out;
}
function assertValidBaseString(alphabet4, testValue, givenValue = testValue) {
  if (!testValue.match(new RegExp(`^[${alphabet4}]*$`))) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE, {
      alphabet: alphabet4,
      base: alphabet4.length,
      value: givenValue
    });
  }
}
var getBaseXEncoder = (alphabet4) => {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.createEncoder)({
    getSizeFromValue: (value) => {
      const [leadingZeroes, tailChars] = partitionLeadingZeroes(value, alphabet4[0]);
      if (!tailChars) return value.length;
      const base10Number = getBigIntFromBaseX(tailChars, alphabet4);
      return leadingZeroes.length + Math.ceil(base10Number.toString(16).length / 2);
    },
    write(value, bytes, offset) {
      assertValidBaseString(alphabet4, value);
      if (value === "") return offset;
      const [leadingZeroes, tailChars] = partitionLeadingZeroes(value, alphabet4[0]);
      if (!tailChars) {
        bytes.set(new Uint8Array(leadingZeroes.length).fill(0), offset);
        return offset + leadingZeroes.length;
      }
      let base10Number = getBigIntFromBaseX(tailChars, alphabet4);
      const tailBytes = [];
      while (base10Number > 0n) {
        tailBytes.unshift(Number(base10Number % 256n));
        base10Number /= 256n;
      }
      const bytesToAdd = [...Array(leadingZeroes.length).fill(0), ...tailBytes];
      bytes.set(bytesToAdd, offset);
      return offset + bytesToAdd.length;
    }
  });
};
var getBaseXDecoder = (alphabet4) => {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.createDecoder)({
    read(rawBytes, offset) {
      const bytes = offset === 0 ? rawBytes : rawBytes.slice(offset);
      if (bytes.length === 0) return ["", 0];
      let trailIndex = bytes.findIndex((n) => n !== 0);
      trailIndex = trailIndex === -1 ? bytes.length : trailIndex;
      const leadingZeroes = alphabet4[0].repeat(trailIndex);
      if (trailIndex === bytes.length) return [leadingZeroes, rawBytes.length];
      const base10Number = bytes.slice(trailIndex).reduce((sum, byte) => sum * 256n + BigInt(byte), 0n);
      const tailChars = getBaseXFromBigInt(base10Number, alphabet4);
      return [leadingZeroes + tailChars, rawBytes.length];
    }
  });
};
function partitionLeadingZeroes(value, zeroCharacter) {
  const [leadingZeros, tailChars] = value.split(new RegExp(`((?!${zeroCharacter}).*)`));
  return [leadingZeros, tailChars];
}
function getBigIntFromBaseX(value, alphabet4) {
  const base = BigInt(alphabet4.length);
  let sum = 0n;
  for (const char of value) {
    sum *= base;
    sum += BigInt(alphabet4.indexOf(char));
  }
  return sum;
}
function getBaseXFromBigInt(value, alphabet4) {
  const base = BigInt(alphabet4.length);
  const tailChars = [];
  while (value > 0n) {
    tailChars.unshift(alphabet4[Number(value % base)]);
    value /= base;
  }
  return tailChars.join("");
}
var alphabet2 = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";
var getBase58Encoder = () => getBaseXEncoder(alphabet2);
var getBase58Decoder = () => getBaseXDecoder(alphabet2);
var memoizedAddressTableLookupEncoder;
function getAddressTableLookupEncoder() {
  if (!memoizedAddressTableLookupEncoder) {
    memoizedAddressTableLookupEncoder = (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructEncoder)([
      ["lookupTableAddress", (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.getAddressEncoder)()],
      [
        "writableIndices",
        (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayEncoder)((0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Encoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Encoder)() })
      ],
      [
        "readableIndices",
        (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayEncoder)((0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Encoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Encoder)() })
      ]
    ]);
  }
  return memoizedAddressTableLookupEncoder;
}
var memoizedAddressTableLookupDecoder;
function getAddressTableLookupDecoder() {
  if (!memoizedAddressTableLookupDecoder) {
    memoizedAddressTableLookupDecoder = (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructDecoder)([
      ["lookupTableAddress", (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.getAddressDecoder)()],
      ["writableIndices", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayDecoder)((0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Decoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Decoder)() })],
      ["readableIndices", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayDecoder)((0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Decoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Decoder)() })]
    ]);
  }
  return memoizedAddressTableLookupDecoder;
}
var memoizedU8Encoder;
function getMemoizedU8Encoder() {
  if (!memoizedU8Encoder) memoizedU8Encoder = (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Encoder)();
  return memoizedU8Encoder;
}
var memoizedU8Decoder;
function getMemoizedU8Decoder() {
  if (!memoizedU8Decoder) memoizedU8Decoder = (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Decoder)();
  return memoizedU8Decoder;
}
function getMessageHeaderEncoder() {
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructEncoder)([
    ["numSignerAccounts", getMemoizedU8Encoder()],
    ["numReadonlySignerAccounts", getMemoizedU8Encoder()],
    ["numReadonlyNonSignerAccounts", getMemoizedU8Encoder()]
  ]);
}
function getMessageHeaderDecoder() {
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructDecoder)([
    ["numSignerAccounts", getMemoizedU8Decoder()],
    ["numReadonlySignerAccounts", getMemoizedU8Decoder()],
    ["numReadonlyNonSignerAccounts", getMemoizedU8Decoder()]
  ]);
}
var memoizedGetInstructionEncoder;
function getInstructionEncoder() {
  if (!memoizedGetInstructionEncoder) {
    memoizedGetInstructionEncoder = (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
      (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructEncoder)([
        ["programAddressIndex", (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Encoder)()],
        ["accountIndices", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayEncoder)((0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Encoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Encoder)() })],
        ["data", (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.addEncoderSizePrefix)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getBytesEncoder)(), (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Encoder)())]
      ]),
      // Convert an instruction to have all fields defined
      (instruction) => {
        if (instruction.accountIndices !== undefined && instruction.data !== undefined) {
          return instruction;
        }
        return {
          ...instruction,
          accountIndices: instruction.accountIndices ?? [],
          data: instruction.data ?? new Uint8Array(0)
        };
      }
    );
  }
  return memoizedGetInstructionEncoder;
}
var memoizedGetInstructionDecoder;
function getInstructionDecoder() {
  if (!memoizedGetInstructionDecoder) {
    memoizedGetInstructionDecoder = (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.transformDecoder)(
      (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructDecoder)([
        ["programAddressIndex", (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Decoder)()],
        ["accountIndices", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayDecoder)((0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getU8Decoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Decoder)() })],
        [
          "data",
          (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.addDecoderSizePrefix)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getBytesDecoder)(), (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Decoder)())
        ]
      ]),
      // Convert an instruction to exclude optional fields if they are empty
      (instruction) => {
        if (instruction.accountIndices.length && instruction.data.byteLength) {
          return instruction;
        }
        const { accountIndices, data, ...rest } = instruction;
        return {
          ...rest,
          ...accountIndices.length ? { accountIndices } : null,
          ...data.byteLength ? { data } : null
        };
      }
    );
  }
  return memoizedGetInstructionDecoder;
}
var VERSION_FLAG_MASK = 128;
function getTransactionVersionEncoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.createEncoder)({
    getSizeFromValue: (value) => value === "legacy" ? 0 : 1,
    maxSize: 1,
    write: (value, bytes, offset) => {
      if (value === "legacy") {
        return offset;
      }
      if (value < 0 || value > 127) {
        throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE, {
          actualVersion: value
        });
      }
      bytes.set([value | VERSION_FLAG_MASK], offset);
      return offset + 1;
    }
  });
}
function getTransactionVersionDecoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.createDecoder)({
    maxSize: 1,
    read: (bytes, offset) => {
      const firstByte = bytes[offset];
      if ((firstByte & VERSION_FLAG_MASK) === 0) {
        return ["legacy", offset];
      } else {
        const version = firstByte ^ VERSION_FLAG_MASK;
        return [version, offset + 1];
      }
    }
  });
}
function getTransactionVersionCodec() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(getTransactionVersionEncoder(), getTransactionVersionDecoder());
}

// src/codecs/message.ts
function getCompiledMessageLegacyEncoder() {
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructEncoder)(getPreludeStructEncoderTuple());
}
function getCompiledMessageVersionedEncoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.transformEncoder)(
    (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructEncoder)([
      ...getPreludeStructEncoderTuple(),
      ["addressTableLookups", getAddressTableLookupArrayEncoder()]
    ]),
    (value) => {
      if (value.version === "legacy") {
        return value;
      }
      return {
        ...value,
        addressTableLookups: value.addressTableLookups ?? []
      };
    }
  );
}
function getPreludeStructEncoderTuple() {
  return [
    ["version", getTransactionVersionEncoder()],
    ["header", getMessageHeaderEncoder()],
    ["staticAccounts", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayEncoder)((0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.getAddressEncoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Encoder)() })],
    ["lifetimeToken", (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.fixEncoderSize)(getBase58Encoder(), 32)],
    ["instructions", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayEncoder)(getInstructionEncoder(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Encoder)() })]
  ];
}
function getPreludeStructDecoderTuple() {
  return [
    ["version", getTransactionVersionDecoder()],
    ["header", getMessageHeaderDecoder()],
    ["staticAccounts", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayDecoder)((0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.getAddressDecoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Decoder)() })],
    ["lifetimeToken", (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.fixDecoderSize)(getBase58Decoder(), 32)],
    ["instructions", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayDecoder)(getInstructionDecoder(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Decoder)() })],
    ["addressTableLookups", getAddressTableLookupArrayDecoder()]
  ];
}
function getAddressTableLookupArrayEncoder() {
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayEncoder)(getAddressTableLookupEncoder(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Encoder)() });
}
function getAddressTableLookupArrayDecoder() {
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getArrayDecoder)(getAddressTableLookupDecoder(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_5__.getShortU16Decoder)() });
}
function getCompiledTransactionMessageEncoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.createEncoder)({
    getSizeFromValue: (compiledMessage) => {
      if (compiledMessage.version === "legacy") {
        return getCompiledMessageLegacyEncoder().getSizeFromValue(compiledMessage);
      } else {
        return getCompiledMessageVersionedEncoder().getSizeFromValue(compiledMessage);
      }
    },
    write: (compiledMessage, bytes, offset) => {
      if (compiledMessage.version === "legacy") {
        return getCompiledMessageLegacyEncoder().write(compiledMessage, bytes, offset);
      } else {
        return getCompiledMessageVersionedEncoder().write(compiledMessage, bytes, offset);
      }
    }
  });
}
function getCompiledTransactionMessageDecoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.transformDecoder)(
    (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_3__.getStructDecoder)(getPreludeStructDecoderTuple()),
    ({ addressTableLookups, ...restOfMessage }) => {
      if (restOfMessage.version === "legacy" || !addressTableLookups?.length) {
        return restOfMessage;
      }
      return { ...restOfMessage, addressTableLookups };
    }
  );
}
function getCompiledTransactionMessageCodec() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_2__.combineCodec)(getCompiledTransactionMessageEncoder(), getCompiledTransactionMessageDecoder());
}
function upsert(addressMap, address, update) {
  addressMap[address] = update(addressMap[address] ?? { role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY });
}
var TYPE = Symbol("AddressMapTypeProperty");
function getAddressMapFromInstructions(feePayer, instructions) {
  const addressMap = {
    [feePayer]: { [TYPE]: 0 /* FEE_PAYER */, role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE_SIGNER }
  };
  const addressesOfInvokedPrograms = /* @__PURE__ */ new Set();
  for (const instruction of instructions) {
    upsert(addressMap, instruction.programAddress, (entry) => {
      addressesOfInvokedPrograms.add(instruction.programAddress);
      if (TYPE in entry) {
        if ((0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isWritableRole)(entry.role)) {
          switch (entry[TYPE]) {
            case 0 /* FEE_PAYER */:
              throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES, {
                programAddress: instruction.programAddress
              });
            default:
              throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE, {
                programAddress: instruction.programAddress
              });
          }
        }
        if (entry[TYPE] === 2 /* STATIC */) {
          return entry;
        }
      }
      return { [TYPE]: 2 /* STATIC */, role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY };
    });
    let addressComparator;
    if (!instruction.accounts) {
      continue;
    }
    for (const account of instruction.accounts) {
      upsert(addressMap, account.address, (entry) => {
        const {
          // eslint-disable-next-line @typescript-eslint/no-unused-vars
          address: _,
          ...accountMeta
        } = account;
        if (TYPE in entry) {
          switch (entry[TYPE]) {
            case 0 /* FEE_PAYER */:
              return entry;
            case 1 /* LOOKUP_TABLE */: {
              const nextRole = (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.mergeRoles)(entry.role, accountMeta.role);
              if ("lookupTableAddress" in accountMeta) {
                const shouldReplaceEntry = (
                  // Consider using the new LOOKUP_TABLE if its address is different...
                  entry.lookupTableAddress !== accountMeta.lookupTableAddress && // ...and sorts before the existing one.
                  (addressComparator ||= (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.getAddressComparator)())(
                    accountMeta.lookupTableAddress,
                    entry.lookupTableAddress
                  ) < 0
                );
                if (shouldReplaceEntry) {
                  return {
                    [TYPE]: 1 /* LOOKUP_TABLE */,
                    ...accountMeta,
                    role: nextRole
                  };
                }
              } else if ((0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isSignerRole)(accountMeta.role)) {
                return {
                  [TYPE]: 2 /* STATIC */,
                  role: nextRole
                };
              }
              if (entry.role !== nextRole) {
                return {
                  ...entry,
                  role: nextRole
                };
              } else {
                return entry;
              }
            }
            case 2 /* STATIC */: {
              const nextRole = (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.mergeRoles)(entry.role, accountMeta.role);
              if (
                // Check to see if this address represents a program that is invoked
                // in this transaction.
                addressesOfInvokedPrograms.has(account.address)
              ) {
                if ((0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isWritableRole)(accountMeta.role)) {
                  throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(
                    _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE,
                    {
                      programAddress: account.address
                    }
                  );
                }
                if (entry.role !== nextRole) {
                  return {
                    ...entry,
                    role: nextRole
                  };
                } else {
                  return entry;
                }
              } else if ("lookupTableAddress" in accountMeta && // Static accounts can be 'upgraded' to lookup table accounts as
              // long as they are not require to sign the transaction.
              !(0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isSignerRole)(entry.role)) {
                return {
                  ...accountMeta,
                  [TYPE]: 1 /* LOOKUP_TABLE */,
                  role: nextRole
                };
              } else {
                if (entry.role !== nextRole) {
                  return {
                    ...entry,
                    role: nextRole
                  };
                } else {
                  return entry;
                }
              }
            }
          }
        }
        if ("lookupTableAddress" in accountMeta) {
          return {
            ...accountMeta,
            [TYPE]: 1 /* LOOKUP_TABLE */
          };
        } else {
          return {
            ...accountMeta,
            [TYPE]: 2 /* STATIC */
          };
        }
      });
    }
  }
  return addressMap;
}
function getOrderedAccountsFromAddressMap(addressMap) {
  let addressComparator;
  const orderedAccounts = Object.entries(addressMap).sort(([leftAddress, leftEntry], [rightAddress, rightEntry]) => {
    if (leftEntry[TYPE] !== rightEntry[TYPE]) {
      if (leftEntry[TYPE] === 0 /* FEE_PAYER */) {
        return -1;
      } else if (rightEntry[TYPE] === 0 /* FEE_PAYER */) {
        return 1;
      } else if (leftEntry[TYPE] === 2 /* STATIC */) {
        return -1;
      } else if (rightEntry[TYPE] === 2 /* STATIC */) {
        return 1;
      }
    }
    const leftIsSigner = (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isSignerRole)(leftEntry.role);
    if (leftIsSigner !== (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isSignerRole)(rightEntry.role)) {
      return leftIsSigner ? -1 : 1;
    }
    const leftIsWritable = (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isWritableRole)(leftEntry.role);
    if (leftIsWritable !== (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isWritableRole)(rightEntry.role)) {
      return leftIsWritable ? -1 : 1;
    }
    addressComparator ||= (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.getAddressComparator)();
    if (leftEntry[TYPE] === 1 /* LOOKUP_TABLE */ && rightEntry[TYPE] === 1 /* LOOKUP_TABLE */ && leftEntry.lookupTableAddress !== rightEntry.lookupTableAddress) {
      return addressComparator(leftEntry.lookupTableAddress, rightEntry.lookupTableAddress);
    } else {
      return addressComparator(leftAddress, rightAddress);
    }
  }).map(([address, addressMeta]) => ({
    address,
    ...addressMeta
  }));
  return orderedAccounts;
}
function getCompiledAddressTableLookups(orderedAccounts) {
  const index = {};
  for (const account of orderedAccounts) {
    if (!("lookupTableAddress" in account)) {
      continue;
    }
    const entry = index[account.lookupTableAddress] ||= {
      readableIndices: [],
      writableIndices: []
    };
    if (account.role === _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE) {
      entry.writableIndices.push(account.addressIndex);
    } else {
      entry.readableIndices.push(account.addressIndex);
    }
  }
  return Object.keys(index).sort((0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.getAddressComparator)()).map((lookupTableAddress) => ({
    lookupTableAddress,
    ...index[lookupTableAddress]
  }));
}
function getCompiledMessageHeader(orderedAccounts) {
  let numReadonlyNonSignerAccounts = 0;
  let numReadonlySignerAccounts = 0;
  let numSignerAccounts = 0;
  for (const account of orderedAccounts) {
    if ("lookupTableAddress" in account) {
      break;
    }
    const accountIsWritable = (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isWritableRole)(account.role);
    if ((0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isSignerRole)(account.role)) {
      numSignerAccounts++;
      if (!accountIsWritable) {
        numReadonlySignerAccounts++;
      }
    } else if (!accountIsWritable) {
      numReadonlyNonSignerAccounts++;
    }
  }
  return {
    numReadonlyNonSignerAccounts,
    numReadonlySignerAccounts,
    numSignerAccounts
  };
}

// src/compile/instructions.ts
function getAccountIndex(orderedAccounts) {
  const out = {};
  for (const [index, account] of orderedAccounts.entries()) {
    out[account.address] = index;
  }
  return out;
}
function getCompiledInstructions(instructions, orderedAccounts) {
  const accountIndex = getAccountIndex(orderedAccounts);
  return instructions.map(({ accounts, data, programAddress }) => {
    return {
      programAddressIndex: accountIndex[programAddress],
      ...accounts ? { accountIndices: accounts.map(({ address }) => accountIndex[address]) } : null,
      ...data ? { data } : null
    };
  });
}

// src/compile/lifetime-token.ts
function getCompiledLifetimeToken(lifetimeConstraint) {
  if ("nonce" in lifetimeConstraint) {
    return lifetimeConstraint.nonce;
  }
  return lifetimeConstraint.blockhash;
}

// src/compile/static-accounts.ts
function getCompiledStaticAccounts(orderedAccounts) {
  const firstLookupTableAccountIndex = orderedAccounts.findIndex((account) => "lookupTableAddress" in account);
  const orderedStaticAccounts = firstLookupTableAccountIndex === -1 ? orderedAccounts : orderedAccounts.slice(0, firstLookupTableAccountIndex);
  return orderedStaticAccounts.map(({ address }) => address);
}

// src/compile/message.ts
function compileTransactionMessage(transaction) {
  const addressMap = getAddressMapFromInstructions(transaction.feePayer.address, transaction.instructions);
  const orderedAccounts = getOrderedAccountsFromAddressMap(addressMap);
  return {
    ...transaction.version !== "legacy" ? { addressTableLookups: getCompiledAddressTableLookups(orderedAccounts) } : null,
    header: getCompiledMessageHeader(orderedAccounts),
    instructions: getCompiledInstructions(transaction.instructions, orderedAccounts),
    lifetimeToken: getCompiledLifetimeToken(transaction.lifetimeConstraint),
    staticAccounts: getCompiledStaticAccounts(orderedAccounts),
    version: transaction.version
  };
}
function findAddressInLookupTables(address, role, addressesByLookupTableAddress) {
  for (const [lookupTableAddress, addresses] of Object.entries(addressesByLookupTableAddress)) {
    for (let i = 0; i < addresses.length; i++) {
      if (address === addresses[i]) {
        return {
          address,
          addressIndex: i,
          lookupTableAddress,
          role
        };
      }
    }
  }
}
function compressTransactionMessageUsingAddressLookupTables(transactionMessage, addressesByLookupTableAddress) {
  const lookupTableAddresses = new Set(Object.values(addressesByLookupTableAddress).flatMap((a) => a));
  const newInstructions = [];
  let updatedAnyInstructions = false;
  for (const instruction of transactionMessage.instructions) {
    if (!instruction.accounts) {
      newInstructions.push(instruction);
      continue;
    }
    const newAccounts = [];
    let updatedAnyAccounts = false;
    for (const account of instruction.accounts) {
      if ("lookupTableAddress" in account || !lookupTableAddresses.has(account.address) || (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isSignerRole)(account.role)) {
        newAccounts.push(account);
        continue;
      }
      const lookupMetaAccount = findAddressInLookupTables(
        account.address,
        account.role,
        addressesByLookupTableAddress
      );
      newAccounts.push(Object.freeze(lookupMetaAccount));
      updatedAnyAccounts = true;
      updatedAnyInstructions = true;
    }
    newInstructions.push(
      Object.freeze(updatedAnyAccounts ? { ...instruction, accounts: newAccounts } : instruction)
    );
  }
  return Object.freeze(
    updatedAnyInstructions ? { ...transactionMessage, instructions: newInstructions } : transactionMessage
  );
}

// src/create-transaction-message.ts
function createTransactionMessage({
  version
}) {
  return Object.freeze({
    instructions: Object.freeze([]),
    version
  });
}
var RECENT_BLOCKHASHES_SYSVAR_ADDRESS = "SysvarRecentB1ockHashes11111111111111111111";
var SYSTEM_PROGRAM_ADDRESS = "11111111111111111111111111111111";
function assertIsDurableNonceTransactionMessage(transaction) {
  if (!isDurableNonceTransaction(transaction)) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME);
  }
}
function createAdvanceNonceAccountInstruction(nonceAccountAddress, nonceAuthorityAddress) {
  return {
    accounts: [
      { address: nonceAccountAddress, role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE },
      {
        address: RECENT_BLOCKHASHES_SYSVAR_ADDRESS,
        role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY
      },
      { address: nonceAuthorityAddress, role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY_SIGNER }
    ],
    data: new Uint8Array([4, 0, 0, 0]),
    programAddress: SYSTEM_PROGRAM_ADDRESS
  };
}
function isAdvanceNonceAccountInstruction(instruction) {
  return instruction.programAddress === SYSTEM_PROGRAM_ADDRESS && // Test for `AdvanceNonceAccount` instruction data
  instruction.data != null && isAdvanceNonceAccountInstructionData(instruction.data) && // Test for exactly 3 accounts
  instruction.accounts?.length === 3 && // First account is nonce account address
  instruction.accounts[0].address != null && instruction.accounts[0].role === _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE && // Second account is recent blockhashes sysvar
  instruction.accounts[1].address === RECENT_BLOCKHASHES_SYSVAR_ADDRESS && instruction.accounts[1].role === _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY && // Third account is nonce authority account
  instruction.accounts[2].address != null && (0,_solana_instructions__WEBPACK_IMPORTED_MODULE_6__.isSignerRole)(instruction.accounts[2].role);
}
function isAdvanceNonceAccountInstructionData(data) {
  return data.byteLength === 4 && data[0] === 4 && data[1] === 0 && data[2] === 0 && data[3] === 0;
}
function isDurableNonceTransaction(transaction) {
  return "lifetimeConstraint" in transaction && typeof transaction.lifetimeConstraint.nonce === "string" && transaction.instructions[0] != null && isAdvanceNonceAccountInstruction(transaction.instructions[0]);
}
function isAdvanceNonceAccountInstructionForNonce(instruction, nonceAccountAddress, nonceAuthorityAddress) {
  return instruction.accounts[0].address === nonceAccountAddress && instruction.accounts[2].address === nonceAuthorityAddress;
}
function setTransactionMessageLifetimeUsingDurableNonce({
  nonce,
  nonceAccountAddress,
  nonceAuthorityAddress
}, transaction) {
  let newInstructions;
  const firstInstruction = transaction.instructions[0];
  if (firstInstruction && isAdvanceNonceAccountInstruction(firstInstruction)) {
    if (isAdvanceNonceAccountInstructionForNonce(firstInstruction, nonceAccountAddress, nonceAuthorityAddress)) {
      if (isDurableNonceTransaction(transaction) && transaction.lifetimeConstraint.nonce === nonce) {
        return transaction;
      } else {
        newInstructions = [firstInstruction, ...transaction.instructions.slice(1)];
      }
    } else {
      newInstructions = [
        Object.freeze(createAdvanceNonceAccountInstruction(nonceAccountAddress, nonceAuthorityAddress)),
        ...transaction.instructions.slice(1)
      ];
    }
  } else {
    newInstructions = [
      Object.freeze(createAdvanceNonceAccountInstruction(nonceAccountAddress, nonceAuthorityAddress)),
      ...transaction.instructions
    ];
  }
  return Object.freeze({
    ...transaction,
    instructions: Object.freeze(newInstructions),
    lifetimeConstraint: Object.freeze({
      nonce
    })
  });
}

// src/fee-payer.ts
function setTransactionMessageFeePayer(feePayer, transactionMessage) {
  if ("feePayer" in transactionMessage && feePayer === transactionMessage.feePayer?.address && isAddressOnlyFeePayer(transactionMessage.feePayer)) {
    return transactionMessage;
  }
  const out = {
    ...transactionMessage,
    feePayer: Object.freeze({ address: feePayer })
  };
  Object.freeze(out);
  return out;
}
function isAddressOnlyFeePayer(feePayer) {
  return !!feePayer && "address" in feePayer && typeof feePayer.address === "string" && Object.keys(feePayer).length === 1;
}

// src/instructions.ts
function appendTransactionMessageInstruction(instruction, transaction) {
  return appendTransactionMessageInstructions([instruction], transaction);
}
function appendTransactionMessageInstructions(instructions, transaction) {
  return Object.freeze({
    ...transaction,
    instructions: Object.freeze([...transaction.instructions, ...instructions])
  });
}
function prependTransactionMessageInstruction(instruction, transaction) {
  return prependTransactionMessageInstructions([instruction], transaction);
}
function prependTransactionMessageInstructions(instructions, transaction) {
  return Object.freeze({
    ...transaction,
    instructions: Object.freeze([...instructions, ...transaction.instructions])
  });
}

// src/decompile-message.ts
function getAccountMetas(message) {
  const { header } = message;
  const numWritableSignerAccounts = header.numSignerAccounts - header.numReadonlySignerAccounts;
  const numWritableNonSignerAccounts = message.staticAccounts.length - header.numSignerAccounts - header.numReadonlyNonSignerAccounts;
  const accountMetas = [];
  let accountIndex = 0;
  for (let i = 0; i < numWritableSignerAccounts; i++) {
    accountMetas.push({
      address: message.staticAccounts[accountIndex],
      role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE_SIGNER
    });
    accountIndex++;
  }
  for (let i = 0; i < header.numReadonlySignerAccounts; i++) {
    accountMetas.push({
      address: message.staticAccounts[accountIndex],
      role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY_SIGNER
    });
    accountIndex++;
  }
  for (let i = 0; i < numWritableNonSignerAccounts; i++) {
    accountMetas.push({
      address: message.staticAccounts[accountIndex],
      role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE
    });
    accountIndex++;
  }
  for (let i = 0; i < header.numReadonlyNonSignerAccounts; i++) {
    accountMetas.push({
      address: message.staticAccounts[accountIndex],
      role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY
    });
    accountIndex++;
  }
  return accountMetas;
}
function getAddressLookupMetas(compiledAddressTableLookups, addressesByLookupTableAddress) {
  const compiledAddressTableLookupAddresses = compiledAddressTableLookups.map((l) => l.lookupTableAddress);
  const missing = compiledAddressTableLookupAddresses.filter((a) => addressesByLookupTableAddress[a] === undefined);
  if (missing.length > 0) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING, {
      lookupTableAddresses: missing
    });
  }
  const readOnlyMetas = [];
  const writableMetas = [];
  for (const lookup of compiledAddressTableLookups) {
    const addresses = addressesByLookupTableAddress[lookup.lookupTableAddress];
    const highestIndex = Math.max(...lookup.readableIndices, ...lookup.writableIndices);
    if (highestIndex >= addresses.length) {
      throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(
        _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE,
        {
          highestKnownIndex: addresses.length - 1,
          highestRequestedIndex: highestIndex,
          lookupTableAddress: lookup.lookupTableAddress
        }
      );
    }
    const readOnlyForLookup = lookup.readableIndices.map((r) => ({
      address: addresses[r],
      addressIndex: r,
      lookupTableAddress: lookup.lookupTableAddress,
      role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.READONLY
    }));
    readOnlyMetas.push(...readOnlyForLookup);
    const writableForLookup = lookup.writableIndices.map((w) => ({
      address: addresses[w],
      addressIndex: w,
      lookupTableAddress: lookup.lookupTableAddress,
      role: _solana_instructions__WEBPACK_IMPORTED_MODULE_6__.AccountRole.WRITABLE
    }));
    writableMetas.push(...writableForLookup);
  }
  return [...writableMetas, ...readOnlyMetas];
}
function convertInstruction(instruction, accountMetas) {
  const programAddress = accountMetas[instruction.programAddressIndex]?.address;
  if (!programAddress) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND, {
      index: instruction.programAddressIndex
    });
  }
  const accounts = instruction.accountIndices?.map((accountIndex) => accountMetas[accountIndex]);
  const { data } = instruction;
  return Object.freeze({
    programAddress,
    ...accounts && accounts.length ? { accounts: Object.freeze(accounts) } : {},
    ...data && data.length ? { data } : {}
  });
}
function getLifetimeConstraint(messageLifetimeToken, firstInstruction, lastValidBlockHeight) {
  if (!firstInstruction || !isAdvanceNonceAccountInstruction(firstInstruction)) {
    return {
      blockhash: messageLifetimeToken,
      lastValidBlockHeight: lastValidBlockHeight ?? 2n ** 64n - 1n
      // U64 MAX
    };
  } else {
    const nonceAccountAddress = firstInstruction.accounts[0].address;
    (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.assertIsAddress)(nonceAccountAddress);
    const nonceAuthorityAddress = firstInstruction.accounts[2].address;
    (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_4__.assertIsAddress)(nonceAuthorityAddress);
    return {
      nonce: messageLifetimeToken,
      nonceAccountAddress,
      nonceAuthorityAddress
    };
  }
}
function decompileTransactionMessage(compiledTransactionMessage, config) {
  const feePayer = compiledTransactionMessage.staticAccounts[0];
  if (!feePayer) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_1__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING);
  }
  const accountMetas = getAccountMetas(compiledTransactionMessage);
  const accountLookupMetas = "addressTableLookups" in compiledTransactionMessage && compiledTransactionMessage.addressTableLookups !== undefined && compiledTransactionMessage.addressTableLookups.length > 0 ? getAddressLookupMetas(
    compiledTransactionMessage.addressTableLookups,
    config?.addressesByLookupTableAddress ?? {}
  ) : [];
  const transactionMetas = [...accountMetas, ...accountLookupMetas];
  const instructions = compiledTransactionMessage.instructions.map(
    (compiledInstruction) => convertInstruction(compiledInstruction, transactionMetas)
  );
  const firstInstruction = instructions[0];
  const lifetimeConstraint = getLifetimeConstraint(
    compiledTransactionMessage.lifetimeToken,
    firstInstruction,
    config?.lastValidBlockHeight
  );
  return (0,_solana_functional__WEBPACK_IMPORTED_MODULE_7__.pipe)(
    createTransactionMessage({ version: compiledTransactionMessage.version }),
    (tx) => setTransactionMessageFeePayer(feePayer, tx),
    (tx) => instructions.reduce((acc, instruction) => {
      return appendTransactionMessageInstruction(instruction, acc);
    }, tx),
    (tx) => "blockhash" in lifetimeConstraint ? setTransactionMessageLifetimeUsingBlockhash(lifetimeConstraint, tx) : setTransactionMessageLifetimeUsingDurableNonce(lifetimeConstraint, tx)
  );
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ }),

/***/ "./node_modules/@solana/transactions/dist/index.browser.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@solana/transactions/dist/index.browser.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assertTransactionIsFullySigned": () => (/* binding */ assertTransactionIsFullySigned),
/* harmony export */   "compileTransaction": () => (/* binding */ compileTransaction),
/* harmony export */   "getBase64EncodedWireTransaction": () => (/* binding */ getBase64EncodedWireTransaction),
/* harmony export */   "getSignatureFromTransaction": () => (/* binding */ getSignatureFromTransaction),
/* harmony export */   "getTransactionCodec": () => (/* binding */ getTransactionCodec),
/* harmony export */   "getTransactionDecoder": () => (/* binding */ getTransactionDecoder),
/* harmony export */   "getTransactionEncoder": () => (/* binding */ getTransactionEncoder),
/* harmony export */   "partiallySignTransaction": () => (/* binding */ partiallySignTransaction),
/* harmony export */   "signTransaction": () => (/* binding */ signTransaction)
/* harmony export */ });
/* harmony import */ var _solana_addresses__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/addresses */ "./node_modules/@solana/addresses/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/codecs-core */ "./node_modules/@solana/codecs-core/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/codecs-data-structures */ "./node_modules/@solana/codecs-data-structures/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/codecs-numbers */ "./node_modules/@solana/codecs-numbers/dist/index.browser.mjs");
/* harmony import */ var _solana_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/errors */ "./node_modules/@solana/errors/dist/index.browser.mjs");
/* harmony import */ var _solana_transaction_messages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/transaction-messages */ "./node_modules/@solana/transaction-messages/dist/index.browser.mjs");
/* harmony import */ var _solana_codecs_strings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @solana/codecs-strings */ "./node_modules/@solana/codecs-strings/dist/index.browser.mjs");
/* harmony import */ var _solana_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @solana/keys */ "./node_modules/@solana/keys/dist/index.browser.mjs");









// src/codecs/transaction-codec.ts
function getSignaturesToEncode(signaturesMap) {
  const signatures = Object.values(signaturesMap);
  if (signatures.length === 0) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES);
  }
  return signatures.map((signature) => {
    if (!signature) {
      return new Uint8Array(64).fill(0);
    }
    return signature;
  });
}
function getSignaturesEncoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformEncoder)(
    (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getArrayEncoder)((0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.fixEncoderSize)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getBytesEncoder)(), 64), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_3__.getShortU16Encoder)() }),
    getSignaturesToEncode
  );
}

// src/codecs/transaction-codec.ts
function getTransactionEncoder() {
  return (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getStructEncoder)([
    ["signatures", getSignaturesEncoder()],
    ["messageBytes", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getBytesEncoder)()]
  ]);
}
function getTransactionDecoder() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.transformDecoder)(
    (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getStructDecoder)([
      ["signatures", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getArrayDecoder)((0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.fixDecoderSize)((0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getBytesDecoder)(), 64), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_3__.getShortU16Decoder)() })],
      ["messageBytes", (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getBytesDecoder)()]
    ]),
    decodePartiallyDecodedTransaction
  );
}
function getTransactionCodec() {
  return (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.combineCodec)(getTransactionEncoder(), getTransactionDecoder());
}
function decodePartiallyDecodedTransaction(transaction) {
  const { messageBytes, signatures } = transaction;
  const signerAddressesDecoder = (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getTupleDecoder)([
    // read transaction version
    (0,_solana_transaction_messages__WEBPACK_IMPORTED_MODULE_4__.getTransactionVersionDecoder)(),
    // read first byte of header, `numSignerAccounts`
    // padRight to skip the next 2 bytes, `numReadOnlySignedAccounts` and `numReadOnlyUnsignedAccounts` which we don't need
    (0,_solana_codecs_core__WEBPACK_IMPORTED_MODULE_1__.padRightDecoder)((0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_3__.getU8Decoder)(), 2),
    // read static addresses
    (0,_solana_codecs_data_structures__WEBPACK_IMPORTED_MODULE_2__.getArrayDecoder)((0,_solana_addresses__WEBPACK_IMPORTED_MODULE_5__.getAddressDecoder)(), { size: (0,_solana_codecs_numbers__WEBPACK_IMPORTED_MODULE_3__.getShortU16Decoder)() })
  ]);
  const [_txVersion, numRequiredSignatures, staticAddresses] = signerAddressesDecoder.decode(messageBytes);
  const signerAddresses = staticAddresses.slice(0, numRequiredSignatures);
  if (signerAddresses.length !== signatures.length) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH, {
      numRequiredSignatures,
      signaturesLength: signatures.length,
      signerAddresses
    });
  }
  const signaturesMap = {};
  signerAddresses.forEach((address, index) => {
    const signatureForAddress = signatures[index];
    if (signatureForAddress.every((b) => b === 0)) {
      signaturesMap[address] = null;
    } else {
      signaturesMap[address] = signatureForAddress;
    }
  });
  return {
    messageBytes,
    signatures: Object.freeze(signaturesMap)
  };
}
function compileTransaction(transactionMessage) {
  const compiledMessage = (0,_solana_transaction_messages__WEBPACK_IMPORTED_MODULE_4__.compileTransactionMessage)(transactionMessage);
  const messageBytes = (0,_solana_transaction_messages__WEBPACK_IMPORTED_MODULE_4__.getCompiledTransactionMessageEncoder)().encode(compiledMessage);
  const transactionSigners = compiledMessage.staticAccounts.slice(0, compiledMessage.header.numSignerAccounts);
  const signatures = {};
  for (const signerAddress of transactionSigners) {
    signatures[signerAddress] = null;
  }
  let lifetimeConstraint;
  if ((0,_solana_transaction_messages__WEBPACK_IMPORTED_MODULE_4__.isTransactionMessageWithBlockhashLifetime)(transactionMessage)) {
    lifetimeConstraint = {
      blockhash: transactionMessage.lifetimeConstraint.blockhash,
      lastValidBlockHeight: transactionMessage.lifetimeConstraint.lastValidBlockHeight
    };
  } else {
    lifetimeConstraint = {
      nonce: transactionMessage.lifetimeConstraint.nonce,
      nonceAccountAddress: transactionMessage.instructions[0].accounts[0].address
    };
  }
  const transaction = {
    lifetimeConstraint,
    messageBytes,
    signatures: Object.freeze(signatures)
  };
  return Object.freeze(transaction);
}
var base58Decoder;
function getSignatureFromTransaction(transaction) {
  if (!base58Decoder) base58Decoder = (0,_solana_codecs_strings__WEBPACK_IMPORTED_MODULE_6__.getBase58Decoder)();
  const signatureBytes = Object.values(transaction.signatures)[0];
  if (!signatureBytes) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING);
  }
  const transactionSignature = base58Decoder.decode(signatureBytes);
  return transactionSignature;
}
function uint8ArraysEqual(arr1, arr2) {
  return arr1.length === arr2.length && arr1.every((value, index) => value === arr2[index]);
}
async function partiallySignTransaction(keyPairs, transaction) {
  let newSignatures;
  let unexpectedSigners;
  await Promise.all(
    keyPairs.map(async (keyPair) => {
      const address = await (0,_solana_addresses__WEBPACK_IMPORTED_MODULE_5__.getAddressFromPublicKey)(keyPair.publicKey);
      const existingSignature = transaction.signatures[address];
      if (existingSignature === undefined) {
        unexpectedSigners ||= /* @__PURE__ */ new Set();
        unexpectedSigners.add(address);
        return;
      }
      if (unexpectedSigners) {
        return;
      }
      const newSignature = await (0,_solana_keys__WEBPACK_IMPORTED_MODULE_7__.signBytes)(keyPair.privateKey, transaction.messageBytes);
      if (existingSignature !== null && uint8ArraysEqual(newSignature, existingSignature)) {
        return;
      }
      newSignatures ||= {};
      newSignatures[address] = newSignature;
    })
  );
  if (unexpectedSigners && unexpectedSigners.size > 0) {
    const expectedSigners = Object.keys(transaction.signatures);
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION, {
      expectedAddresses: expectedSigners,
      unexpectedAddresses: [...unexpectedSigners]
    });
  }
  if (!newSignatures) {
    return transaction;
  }
  return Object.freeze({
    ...transaction,
    signatures: Object.freeze({
      ...transaction.signatures,
      ...newSignatures
    })
  });
}
async function signTransaction(keyPairs, transaction) {
  const out = await partiallySignTransaction(keyPairs, transaction);
  assertTransactionIsFullySigned(out);
  Object.freeze(out);
  return out;
}
function assertTransactionIsFullySigned(transaction) {
  const missingSigs = [];
  Object.entries(transaction.signatures).forEach(([address, signatureBytes]) => {
    if (!signatureBytes) {
      missingSigs.push(address);
    }
  });
  if (missingSigs.length > 0) {
    throw new _solana_errors__WEBPACK_IMPORTED_MODULE_0__.SolanaError(_solana_errors__WEBPACK_IMPORTED_MODULE_0__.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING, {
      addresses: missingSigs
    });
  }
}
function getBase64EncodedWireTransaction(transaction) {
  const wireTransactionBytes = getTransactionEncoder().encode(transaction);
  return (0,_solana_codecs_strings__WEBPACK_IMPORTED_MODULE_6__.getBase64Decoder)().decode(wireTransactionBytes);
}


//# sourceMappingURL=index.browser.mjs.map
//# sourceMappingURL=index.browser.mjs.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXZhbGFic19jb3JlLXV0aWxzLXNka19lc21fYmlnSW50VG9TdHJpbmdfanMtbm9kZV9tb2R1bGVzX2F2YWxhYnNfY29yZS11LWIzODQxNC5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLGdCQUFnQixnQkFBZ0IsK0ZBQStGLG1CQUFtQixFQUFFLEdBQUcsRUFBRSxJQUFnQzs7Ozs7Ozs7Ozs7Ozs7O0FDQXpMLGtCQUFrQix5RUFBeUUsMEJBQTBCLGtDQUFrQyxLQUFLLFFBQVEsb0RBQW9ELHlCQUF5QixZQUFZLEVBQUUsR0FBRyxFQUFFLEtBQW9DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQTdQLGdCQUFnQixRQUFRLDZDQUFDLHdCQUF3Qiw2Q0FBQyxzQ0FBc0MsV0FBVyw4Q0FBQyxJQUE0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQTNLLHd2QkFBd3ZCLEVBQUUsY0FBYywrQkFBK0IsY0FBYywrQkFBK0IsY0FBYyx3QkFBd0IsY0FBYyx3QkFBd0IsY0FBYyxzQkFBc0IsY0FBYyxzQ0FBc0MsY0FBYyx1Q0FBdUMsY0FBYyx5Q0FBeUMsY0FBYyxzQ0FBc0MsY0FBYywrQ0FBK0MsY0FBYywrQkFBK0IsY0FBYyw4QkFBOEIsY0FBYyxzQ0FBc0MsY0FBYyx5Q0FBeUMsY0FBYyw4Q0FBOEMsY0FBYyw4Q0FBOEMsY0FBYyxrQ0FBa0MsY0FBYywyQ0FBcWhCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ExZ0UsTUFBTSxjQUFjLENBQUMsdURBQUMsQ0FBQyxnQkFBZ0IsK0JBQStCLG1HQUFtRyxlQUFlLHVCQUF1QiwwREFBQyxHQUFHLHNCQUFzQixhQUFhLGdIQUFnSCwrREFBNEY7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBL2UsbUJBQW1CLElBQUksTUFBTSxTQUFTLDZEQUFPLElBQUksdUNBQXVDLEtBQUssbUVBQWEsSUFBSSxTQUFTLFNBQVMsVUFBdUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FoRixNQUFNLGtG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dEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0EsTUFBTSwwREFBYSxPQUFPLHlEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDBEQUFhLE9BQU8seURBQVk7QUFDdEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0EsTUFBTSwwREFBYSxPQUFPLHlEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDBEQUFhLE9BQU8seURBQVk7QUFDdEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0EsTUFBTSwwREFBYSxPQUFPLHlEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDBEQUFhLE9BQU8seURBQVk7QUFDdEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0EsTUFBTSwwREFBYSxPQUFPLHlEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDBEQUFhLE9BQU8seURBQVk7QUFDdEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0EsTUFBTSwwREFBYSxPQUFPLHlEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDBEQUFhLE9BQU8seURBQVk7QUFDdEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0EsTUFBTSwwREFBYSxPQUFPLHlEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDBEQUFhLE9BQU8seURBQVk7QUFDdEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0EsTUFBTSwwREFBYSxPQUFPLHlEQUFZO0FBQ3RDO0FBQ0E7QUFDQSxNQUFNLDBEQUFhLE9BQU8seURBQVk7QUFDdEM7QUFDQTtBQUNBLE1BQU0sMERBQWEsT0FBTyx5REFBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFxQztBQUN6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dUdBQXlDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0VBQWdCO0FBQ3REO0FBQ0E7QUFDQSxjQUFjLHVEQUFXLENBQUMsa0dBQXNEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwRUFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFTO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBVyxDQUFDLHdHQUE0RDtBQUN0RjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjLHVEQUFXLENBQUMseUZBQTZDO0FBQ3ZFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3RUFBZ0I7QUFDekI7O0FBRTBPO0FBQzFPO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtdXRpbHMtc2RrL2VzbS9iaWdJbnRUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtdXRpbHMtc2RrL2VzbS9iaWdUb0xvY2FsZVN0cmluZy5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtdXRpbHMtc2RrL2VzbS9zdHJpbmdUb0JOLmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL21vZGVscy5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL0F2YWxhbmNoZS91dGlscy9nZXRBc3NldEJhbGFuY2UuanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvaXNCZWNoMzJBZGRyZXNzLmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlQXZhbGFuY2hlVHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvcGFyc2Vycy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL0F2YWxhbmNoZS91dGlscy9wYXJzZXJzL3BhcnNlQWRkUGVybWlzc2lvbmxlc3NEZWxlZ2F0b3JUeC5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL0F2YWxhbmNoZS91dGlscy9wYXJzZXJzL3BhcnNlQWRkUGVybWlzc2lvbmxlc3NWYWxpZGF0b3JUeC5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL0F2YWxhbmNoZS91dGlscy9wYXJzZXJzL3BhcnNlQWRkU3VibmV0VmFsaWRvclR4LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlcnMvcGFyc2VCYXNlVHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvcGFyc2Vycy9wYXJzZUNvbnZlcnRTdWJuZXRUb0wxVHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvcGFyc2Vycy9wYXJzZUNyZWF0ZUNoYWluVHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvcGFyc2Vycy9wYXJzZUNyZWF0ZVN1Ym5ldFR4LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlcnMvcGFyc2VEaXNhYmxlTDFWYWxpZGF0b3JUeC5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL0F2YWxhbmNoZS91dGlscy9wYXJzZXJzL3BhcnNlRXhwb3J0VHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvcGFyc2Vycy9wYXJzZUltcG9ydFR4LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlcnMvcGFyc2VJbmNyZWFzZUwxVmFsaWRhdG9yQmFsYW5jZVR4LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlcnMvcGFyc2VSZWdpc3RlckwxVmFsaWRhdG9yVHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvcGFyc2Vycy9wYXJzZVJlbW92ZVN1Ym5ldFZhbGlkYXRvclR4LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlcnMvcGFyc2VTZXRMMVZhbGlkYXRvcldlaWdodFR4LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlcnMvcGFyc2VUcmFuc2ZlclN1Ym5ldE93bmVyc2hpcFR4LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3V0aWxzL3BhcnNlcnMvdXRpbHMvY2hhaW5JZFRvVm0uanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvcGFyc2Vycy91dGlscy9nZXRUcmFuc2ZlcmFibGVBbW91bnQuanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9BdmFsYW5jaGUvdXRpbHMvdHhTaXplTGltaXRzLmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQXZhbGFuY2hlL3dhbGxldHMvQWRkcmVzc1dhbGxldC5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL0JpdGNvaW5WTS91dGlscy9jcmVhdGVQc2J0LmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vQml0Y29pblZNL3V0aWxzL2NyZWF0ZVRyYW5zZmVyVHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9CaXRjb2luVk0vdXRpbHMvZmlsdGVyRHVwbGljYXRlVVRYT3MuanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9CaXRjb2luVk0vdXRpbHMvZ2V0TWF4VHJhbnNmZXJBbW91bnQuanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9CaXRjb2luVk0vdXRpbHMvc2VsZWN0VXR4b3MuanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9Tb2xhbmFWTS91dGlscy9jb21waWxlU29sYW5hVHguanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9AYXZhbGFicy9jb3JlLXdhbGxldHMtc2RrL2VzbS9Tb2xhbmFWTS91dGlscy9zZXJpYWxpemVTb2xhbmFUeC5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL1NvbGFuYVZNL3V0aWxzL3RyYW5zZmVyU29sLmpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQGF2YWxhYnMvY29yZS13YWxsZXRzLXNkay9lc20vU29sYW5hVk0vdXRpbHMvdHJhbnNmZXJUb2tlbi5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BhdmFsYWJzL2NvcmUtd2FsbGV0cy1zZGsvZXNtL3V0aWxzL2JpbmFyeVNlYXJjaC5qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2xhbmEtcHJvZ3JhbS9zeXN0ZW0vZGlzdC9zcmMvaW5kZXgubWpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHNvbGFuYS1wcm9ncmFtL3Rva2VuL2Rpc3Qvc3JjL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2xhbmEvYWNjb3VudHMvZGlzdC9pbmRleC5icm93c2VyLm1qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2xhbmEvY29kZWNzLWRhdGEtc3RydWN0dXJlcy9kaXN0L2luZGV4LmJyb3dzZXIubWpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHNvbGFuYS9pbnN0cnVjdGlvbnMvZGlzdC9pbmRleC5icm93c2VyLm1qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2xhbmEva2V5cy9kaXN0L2luZGV4LmJyb3dzZXIubWpzIiwid2VicGFjazovL2F2YWxhbmNoZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHNvbGFuYS9vcHRpb25zL2Rpc3QvaW5kZXguYnJvd3Nlci5tanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac29sYW5hL3Byb2dyYW1zL2Rpc3QvaW5kZXguYnJvd3Nlci5tanMiLCJ3ZWJwYWNrOi8vYXZhbGFuY2hlLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac29sYW5hL3NpZ25lcnMvZGlzdC9pbmRleC5icm93c2VyLm1qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2xhbmEvdHJhbnNhY3Rpb24tbWVzc2FnZXMvZGlzdC9pbmRleC5icm93c2VyLm1qcyIsIndlYnBhY2s6Ly9hdmFsYW5jaGUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2xhbmEvdHJhbnNhY3Rpb25zL2Rpc3QvaW5kZXguYnJvd3Nlci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdCh0LG4pe249TWF0aC5mbG9vcihuKTtjb25zdCBlPXQudG9TdHJpbmcoKSxvPU1hdGgubWF4KGUubGVuZ3RoLW4sMCkscj1lLnNsaWNlKG8pLnBhZFN0YXJ0KG4sXCIwXCIpLGE9ZS5zbGljZSgwLG8pfHxcIjBcIjtyZXR1cm4gci5sZW5ndGg/YCR7YX0uJHtyfWA6YX1leHBvcnR7dCBhcyBiaWdJbnRUb1N0cmluZ307XG4iLCJmdW5jdGlvbiB0KHQsbj05KXtjb25zdCBlPXQudG9GaXhlZChuKS5zcGxpdChcIi5cIikscj1wYXJzZUludChlWzBdKS50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIpO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gcjt7bGV0IHQ9ZVsxXSxvPXQuY2hhckF0KHQubGVuZ3RoLTEpO2Zvcig7XCIwXCI9PT1vOyl0PXQuc3Vic3RyaW5nKDAsdC5sZW5ndGgtMSksbz10LmNoYXJBdCh0Lmxlbmd0aC0xKTtjb25zdCBzPXQuc3Vic3RyaW5nKDAsbik7cmV0dXJuIHM/YCR7cn0uJHtzfWA6cn19ZXhwb3J0e3QgYXMgYmlnVG9Mb2NhbGVTdHJpbmd9O1xuIiwiaW1wb3J0IG8gZnJvbVwiYmlnLmpzXCI7aW1wb3J0IHIgZnJvbVwiYm4uanNcIjtmdW5jdGlvbiB0KHQsZSl7Y29uc3QgaT1vKHQucmVwbGFjZSgvLC9naSxcIlwiKSksbj1vKDEwKS5wb3coZSksbT1pLnRpbWVzKG4pLnRvRml4ZWQoMCwwKTtyZXR1cm4gbmV3IHIobSl9ZXhwb3J0e3QgYXMgc3RyaW5nVG9CTn07XG4iLCJ2YXIgZT0oZT0+KGUuQmFzZT1cImJhc2VcIixlLkFkZFZhbGlkYXRvcj1cImFkZF92YWxpZGF0b3JcIixlLkFkZERlbGVnYXRvcj1cImFkZF9kZWxlZ2F0b3JcIixlLkV4cG9ydD1cImV4cG9ydFwiLGUuSW1wb3J0PVwiaW1wb3J0XCIsZS5DcmVhdGVTdWJuZXQ9XCJjcmVhdGVfc3VibmV0XCIsZS5DcmVhdGVDaGFpbj1cImNyZWF0ZV9jaGFpblwiLGUuQ29udmVydFN1Ym5ldFRvTDE9XCJjb252ZXJ0X3N1Ym5ldF90b19sMVwiLGUuUmVnaXN0ZXJMMVZhbGlkYXRvcj1cInJlZ2lzdGVyX2wxX3ZhbGlkYXRvclwiLGUuU2V0TDFWYWxpZGF0b3JXZWlnaHQ9XCJzZXRfbDFfdmFsaWRhdG9yX3dlaWdodFwiLGUuSW5jcmVhc2VMMVZhbGlkYXRvckJhbGFuY2U9XCJpbmNyZWFzZV9sMV92YWxpZGF0b3JfYmFsYW5jZVwiLGUuRGlzYWJsZUwxVmFsaWRhdG9yPVwiZGlzYWJsZV9sMV92YWxpZGF0b3JcIixlLkFkZFN1Ym5ldFZhbGlkYXRvcj1cImFkZF9zdWJuZXRfdmFsaWRhdG9yXCIsZS5SZW1vdmVTdWJuZXRWYWxpZGF0b3I9XCJyZW1vdmVfc3VibmV0X3ZhbGlkYXRvclwiLGUuQWRkUGVybWlzc2lvbmxlc3NWYWxpZGF0b3I9XCJhZGRfcGVybWlzc2lvbmxlc3NfdmFsaWRhdG9yXCIsZS5BZGRQZXJtaXNzaW9ubGVzc0RlbGVnYXRvcj1cImFkZF9wZXJtaXNzaW9ubGVzc19kZWxlZ2F0b3JcIixlLlRyYW5zZm9ybVN1Ym5ldD1cInRyYW5zZm9ybV9zdWJuZXRcIixlLlRyYW5zZmVyU3VibmV0T3duZXJzaGlwPVwidHJhbnNmZXJfc3VibmV0X293bmVyc2hpcFwiLGUuVW5rbm93bj1cInVua25vd25cIixlKSkoZXx8e30pO2Z1bmN0aW9uIHQoZSl7cmV0dXJuXCJhZGRfdmFsaWRhdG9yXCI9PT1lLnR5cGV9ZnVuY3Rpb24gcihlKXtyZXR1cm5cImFkZF9kZWxlZ2F0b3JcIj09PWUudHlwZX1mdW5jdGlvbiBuKGUpe3JldHVyblwiZXhwb3J0XCI9PT1lLnR5cGV9ZnVuY3Rpb24gYShlKXtyZXR1cm5cImltcG9ydFwiPT09ZS50eXBlfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJiYXNlXCI9PT1lLnR5cGV9ZnVuY3Rpb24gaShlKXtyZXR1cm5cImNvbnZlcnRfc3VibmV0X3RvX2wxXCI9PT1lLnR5cGV9ZnVuY3Rpb24gZChlKXtyZXR1cm5cInJlZ2lzdGVyX2wxX3ZhbGlkYXRvclwiPT09ZS50eXBlfWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJzZXRfbDFfdmFsaWRhdG9yX3dlaWdodFwiPT09ZS50eXBlfWZ1bmN0aW9uIF8oZSl7cmV0dXJuXCJkaXNhYmxlX2wxX3ZhbGlkYXRvclwiPT09ZS50eXBlfWZ1bmN0aW9uIHUoZSl7cmV0dXJuXCJpbmNyZWFzZV9sMV92YWxpZGF0b3JfYmFsYW5jZVwiPT09ZS50eXBlfWZ1bmN0aW9uIGwoZSl7cmV0dXJuXCJjcmVhdGVfc3VibmV0XCI9PT1lLnR5cGV9ZnVuY3Rpb24gYyhlKXtyZXR1cm5cImNyZWF0ZV9jaGFpblwiPT09ZS50eXBlfWZ1bmN0aW9uIHAoZSl7cmV0dXJuXCJhZGRfc3VibmV0X3ZhbGlkYXRvclwiPT09ZS50eXBlfWZ1bmN0aW9uIGIoZSl7cmV0dXJuXCJyZW1vdmVfc3VibmV0X3ZhbGlkYXRvclwiPT09ZS50eXBlfWZ1bmN0aW9uIGYoZSl7cmV0dXJuXCJhZGRfcGVybWlzc2lvbmxlc3NfdmFsaWRhdG9yXCI9PT1lLnR5cGV9ZnVuY3Rpb24gdihlKXtyZXR1cm5cImFkZF9wZXJtaXNzaW9ubGVzc19kZWxlZ2F0b3JcIj09PWUudHlwZX1mdW5jdGlvbiB5KGUpe3JldHVyblwidHJhbnNmb3JtX3N1Ym5ldFwiPT09ZS50eXBlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuXCJ0cmFuc2Zlcl9zdWJuZXRfb3duZXJzaGlwXCI9PT1lLnR5cGV9ZXhwb3J0e2UgYXMgVHhUeXBlLHIgYXMgaXNBZGREZWxlZ2F0b3JUeCx2IGFzIGlzQWRkUGVybWlzc2lvbmxlc3NEZWxlZ2F0b3JUeCxmIGFzIGlzQWRkUGVybWlzc2lvbmxlc3NWYWxpZGF0b3JUeCxwIGFzIGlzQWRkU3VibmV0VmFsaWRhdG9yVHgsdCBhcyBpc0FkZFZhbGlkYXRvclR4LG8gYXMgaXNCYXNlVHgsaSBhcyBpc0NvbnZlcnRTdWJuZXRUb0wxVHgsYyBhcyBpc0NyZWF0ZUNoYWluVHgsbCBhcyBpc0NyZWF0ZVN1Ym5ldFR4LF8gYXMgaXNEaXNhYmxlTDFWYWxpZGF0b3JUeCxuIGFzIGlzRXhwb3J0VHgsYSBhcyBpc0ltcG9ydFR4LHUgYXMgaXNJbmNyZWFzZUwxVmFsaWRhdG9yQmFsYW5jZSxkIGFzIGlzUmVnaXN0ZXJMMVZhbGlkYXRvclR4LGIgYXMgaXNSZW1vdmVTdWJuZXRWYWxpZGF0b3JUeCxzIGFzIGlzU2V0TDFWYWxpZGF0b3JXZWlnaHRUeCxtIGFzIGlzVHJhbnNmZXJTdWJuZXRPd25lcnNoaXBUeCx5IGFzIGlzVHJhbnNmb3JtU3VibmV0VHh9O1xuIiwiaW1wb3J0e3V0aWxzIGFzIHR9ZnJvbVwiQGF2YWxhYnMvYXZhbGFuY2hlanNcIjtpbXBvcnR7Z2V0VW5peE5vdyBhcyBlfWZyb21cIi4vZ2V0VW5peE5vdy5qc1wiO2NvbnN0e2dldFV0eG9JbmZvOmF9PXQ7ZnVuY3Rpb24gbyh0LG8pe2NvbnN0IGw9dC5nZXRBc3NldERpY3QoKVtvXSxpPXtsb2NrZWQ6QmlnSW50KDApLGF2YWlsYWJsZTpCaWdJbnQoMCksbXVsdGlzaWc6QmlnSW50KDApLGxvY2tlZFN0YWtlYWJsZTpCaWdJbnQoMCksdG90YWw6QmlnSW50KDApfTtpZighbClyZXR1cm4gaTtjb25zdCBuPWwuZ2V0VVRYT3MoKSxjPWUoKTtyZXR1cm4gbi5mb3JFYWNoKCh0PT57Y29uc3QgZT1hKHQpO2lbZS50aHJlc2hvbGQ+MT9cIm11bHRpc2lnXCI6ZS5sb2NrdGltZT5jP1wibG9ja2VkXCI6ZS5zdGFrZWFibGVMb2NrdGltZT5jP1wibG9ja2VkU3Rha2VhYmxlXCI6XCJhdmFpbGFibGVcIl0rPWUuYW1vdW50fSkpLGkudG90YWw9aS5sb2NrZWQraS5sb2NrZWRTdGFrZWFibGUraS5tdWx0aXNpZytpLmF2YWlsYWJsZSxpfWV4cG9ydHtvIGFzIGdldEFzc2V0QmFsYW5jZX07XG4iLCJpbXBvcnR7dXRpbHMgYXMgcn1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2Z1bmN0aW9uIGUoZSxhPSEwKXt0cnl7aWYoYSl7Y29uc3RbYV09ci5wYXJzZShlKTtpZighW1wiWFwiLFwiUFwiLFwiQ1wiXS5pbmNsdWRlcyhhKSlyZXR1cm4hMX1lbHNlIHIucGFyc2VCZWNoMzIoZSk7cmV0dXJuITB9Y2F0Y2gocil7cmV0dXJuITF9fWV4cG9ydHtlIGFzIGlzQmVjaDMyQWRkcmVzc307XG4iLCJpbXBvcnR7ZXZtU2VyaWFsIGFzIHQsdXRpbHMgYXMgZX1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydHtUeFR5cGUgYXMgbn1mcm9tXCIuLi9tb2RlbHMuanNcIjtpbXBvcnQgYSBmcm9tXCIuL3BhcnNlcnMvaW5kZXguanNcIjtjb25zdHtnZXRCdXJuZWRBbW91bnRCeVR4OnIsZ2V0T3V0cHV0QW1vdW50czpvLGdldElucHV0QW1vdW50czpzLHZhbGlkYXRlQnVybmVkQW1vdW50Oml9PWU7YXN5bmMgZnVuY3Rpb24gdShlLHUseCx7ZmVlVG9sZXJhbmNlOmc9NTB9PXt9KXt0cnl7Y29uc3Qgbj11LmdldENvbnRleHQoKSxjPWUuZ2V0VHgoKSxwPSh0PT57Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LnZhbHVlcyhhKSl7Y29uc3Qgbj1lKHQpO2lmKG51bGwhPT1uKXJldHVybiBufXRocm93IG5ldyBFcnJvcihcIm5vIHBhcnNlciBmb3VuZCBmb3IgdHhcIil9KShjKSxBPXIoYyxuKSxkPW8oYyksbD1zKGMpLmdldChuLmF2YXhBc3NldElEKT8/QmlnSW50KDApLG09QS5nZXQobi5hdmF4QXNzZXRJRCk/P0JpZ0ludCgwKSx2PWQuZ2V0KG4uYXZheEFzc2V0SUQpPz9CaWdJbnQoMCk7bGV0IEk9QmlnSW50KDApO3QuaXNJbXBvcnRFeHBvcnRUeChjKT8oST1hd2FpdCB1LmdldEFwaUMoKS5nZXRCYXNlRmVlKCkvQmlnSW50KDFlOSksMG49PT1JJiYoST0xbikpOlwiUFZNXCI9PT1jLnZtJiYoST1hd2FpdCB1LmdldEFwaVAoKS5nZXRGZWVTdGF0ZSgpLnRoZW4oKHQ9PnQucHJpY2UpKS5jYXRjaCgoKCk9PkJpZ0ludCgwKSkpKTtjb25zdHtpc1ZhbGlkOmYsdHhGZWU6Qn09aSh7dW5zaWduZWRUeDplLGNvbnRleHQ6bixidXJuZWRBbW91bnQ6bSxiYXNlRmVlOkksZmVlVG9sZXJhbmNlOmd9KTtyZXR1cm4gYXdhaXQgcCh7ZmVlRGF0YTp7dG90YWxBdmF4QnVybmVkOm0sdG90YWxBdmF4T3V0cHV0OnYsdG90YWxBdmF4SW5wdXQ6bCxpc1ZhbGlkQXZheEJ1cm5lZEFtb3VudDpmLHR4RmVlOkJ9LGFzc2V0SWQ6bi5hdmF4QXNzZXRJRCxwcm92aWRlcjp1LGN1cnJlbnRBZGRyZXNzOnh9KX1jYXRjaCh0KXtyZXR1cm57dHlwZTpuLlVua25vd259fX1leHBvcnR7dSBhcyBwYXJzZUF2YWxhbmNoZVR4fTtcbiIsImltcG9ydCByIGZyb21cIi4vcGFyc2VDcmVhdGVTdWJuZXRUeC5qc1wiO2ltcG9ydCBlIGZyb21cIi4vcGFyc2VDcmVhdGVDaGFpblR4LmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9wYXJzZUFkZFN1Ym5ldFZhbGlkb3JUeC5qc1wiO2ltcG9ydCBzIGZyb21cIi4vcGFyc2VJbXBvcnRUeC5qc1wiO2ltcG9ydCBvIGZyb21cIi4vcGFyc2VFeHBvcnRUeC5qc1wiO2ltcG9ydCB0IGZyb21cIi4vcGFyc2VCYXNlVHguanNcIjtpbXBvcnQgcCBmcm9tXCIuL3BhcnNlQWRkUGVybWlzc2lvbmxlc3NWYWxpZGF0b3JUeC5qc1wiO2ltcG9ydCBpIGZyb21cIi4vcGFyc2VBZGRQZXJtaXNzaW9ubGVzc0RlbGVnYXRvclR4LmpzXCI7aW1wb3J0IG0gZnJvbVwiLi9wYXJzZVJlbW92ZVN1Ym5ldFZhbGlkYXRvclR4LmpzXCI7aW1wb3J0IHggZnJvbVwiLi9wYXJzZVRyYW5zZmVyU3VibmV0T3duZXJzaGlwVHguanNcIjtpbXBvcnQgVCBmcm9tXCIuL3BhcnNlQ29udmVydFN1Ym5ldFRvTDFUeC5qc1wiO2ltcG9ydCBkIGZyb21cIi4vcGFyc2VSZWdpc3RlckwxVmFsaWRhdG9yVHguanNcIjtpbXBvcnQgbiBmcm9tXCIuL3BhcnNlU2V0TDFWYWxpZGF0b3JXZWlnaHRUeC5qc1wiO2ltcG9ydCBsIGZyb21cIi4vcGFyc2VEaXNhYmxlTDFWYWxpZGF0b3JUeC5qc1wiO2ltcG9ydCBmIGZyb21cIi4vcGFyc2VJbmNyZWFzZUwxVmFsaWRhdG9yQmFsYW5jZVR4LmpzXCI7dmFyIGo9e3BhcnNlQ3JlYXRlU3VibmV0VHg6cixwYXJzZUNyZWF0ZUNoYWluVHg6ZSxwYXJzZUFkZFN1Ym5ldFZhbGlkYXRvclR4OmEscGFyc2VSZW1vdmVTdWJuZXRWYWxpZGF0b3JUeDptLHBhcnNlSW1wb3J0VHg6cyxwYXJzZUV4cG9ydFR4Om8scGFyc2VCYXNlVHg6dCxwYXJzZUFkZFBlcm1pc3Npb25sZXNzVmFsaWRhdG9yVHg6cCxwYXJzZUFkZFBlcm1pc3Npb25sZXNzRGVsZWdhdG9yVHg6aSxwYXJzZVRyYW5zZmVyU3VibmV0T3duZXJzaGlwVHg6eCxwYXJzZUNvbnZlcnRTdWJuZXRUeDpULHBhcnNlUmVnaXN0ZXJMMVZhbGlkYXRvclR4OmQscGFyc2VJbmNyZWFzZUwxVmFsaWRhdG9yQmFsYW5jZVR4OmYscGFyc2VTZXRMMVZhbGlkYXRvcldlaWdodFR4Om4scGFyc2VEaXNhYmxlTDFWYWxpZGF0b3JUeDpsfTtleHBvcnR7aiBhcyBkZWZhdWx0fTtcbiIsImltcG9ydHtwdm1TZXJpYWwgYXMgZX1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydHtUeFR5cGUgYXMgYX1mcm9tXCIuLi8uLi9tb2RlbHMuanNcIjtjb25zdCB0PXQ9PmUuaXNBZGRQZXJtaXNzaW9ubGVzc0RlbGVnYXRvclR4KHQpPyh7ZmVlRGF0YTplfSk9Pih7dHlwZTphLkFkZFBlcm1pc3Npb25sZXNzRGVsZWdhdG9yLGNoYWluOnQuZ2V0Vk0oKSxzdGFrZTp0LnN1Ym5ldFZhbGlkYXRvci52YWxpZGF0b3Iud2VpZ2h0LnZhbHVlKCksbm9kZUlEOnQuc3VibmV0VmFsaWRhdG9yLnZhbGlkYXRvci5ub2RlSWQudmFsdWUoKSxzdGFydDp0LnN1Ym5ldFZhbGlkYXRvci52YWxpZGF0b3Iuc3RhcnRUaW1lLnZhbHVlKCkudG9TdHJpbmcoKSxlbmQ6dC5zdWJuZXRWYWxpZGF0b3IudmFsaWRhdG9yLmVuZFRpbWUudmFsdWUoKS50b1N0cmluZygpLHN1Ym5ldElEOnQuc3VibmV0VmFsaWRhdG9yLnN1Ym5ldElkLnZhbHVlKCksc3Rha2VPdXRzOnQuc3Rha2UsZGVsZWdhdG9yUmV3YXJkc093bmVyOnQuZ2V0RGVsZWdhdG9yUmV3YXJkc093bmVyKCksLi4uZX0pOm51bGw7ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCJpbXBvcnR7cHZtU2VyaWFsIGFzIGUsdXRpbHMgYXMgYX1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydHtUeFR5cGUgYXMgcn1mcm9tXCIuLi8uLi9tb2RlbHMuanNcIjtjb25zdCB0PXQ9PntpZighZS5pc0FkZFBlcm1pc3Npb25sZXNzVmFsaWRhdG9yVHgodCkpcmV0dXJuIG51bGw7bGV0IHMsaTtyZXR1cm4gZS5pc1NpZ25lcih0LnNpZ25lcikmJihpPWEuYnVmZmVyVG9IZXgodC5zaWduZXIucHJvb2YucHVibGljS2V5KSxzPWEuYnVmZmVyVG9IZXgodC5zaWduZXIucHJvb2Yuc2lnbmF0dXJlKSksKHtmZWVEYXRhOmV9KT0+KHt0eXBlOnIuQWRkUGVybWlzc2lvbmxlc3NWYWxpZGF0b3IsY2hhaW46dC5nZXRWTSgpLHN0YWtlOnQuc3VibmV0VmFsaWRhdG9yLnZhbGlkYXRvci53ZWlnaHQudmFsdWUoKSxub2RlSUQ6dC5zdWJuZXRWYWxpZGF0b3IudmFsaWRhdG9yLm5vZGVJZC52YWx1ZSgpLHN0YXJ0OnQuc3VibmV0VmFsaWRhdG9yLnZhbGlkYXRvci5zdGFydFRpbWUudmFsdWUoKS50b1N0cmluZygpLGVuZDp0LnN1Ym5ldFZhbGlkYXRvci52YWxpZGF0b3IuZW5kVGltZS52YWx1ZSgpLnRvU3RyaW5nKCksc3VibmV0SUQ6dC5zdWJuZXRWYWxpZGF0b3Iuc3VibmV0SWQudmFsdWUoKSxkZWxlZ2F0aW9uRmVlOnQuc2hhcmVzLnZhbHVlKCksc3Rha2VPdXRzOnQuc3Rha2UscmV3YXJkT3duZXI6dC5nZXRWYWxpZGF0b3JSZXdhcmRzT3duZXIoKSxkZWxlZ2F0aW9uUmV3YXJkT3duZXI6dC5nZXREZWxlZ2F0b3JSZXdhcmRzT3duZXIoKSxzaWduZXI6dC5zaWduZXIscHVibGljS2V5Omksc2lnbmF0dXJlOnMsLi4uZX0pfTtleHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsImltcG9ydHtwdm1TZXJpYWwgYXMgYX1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydHtUeFR5cGUgYXMgdH1mcm9tXCIuLi8uLi9tb2RlbHMuanNcIjtjb25zdCBlPWU9PmEuaXNBZGRTdWJuZXRWYWxpZGF0b3JUeChlKT8oe2ZlZURhdGE6YX0pPT4oe3R5cGU6dC5BZGRTdWJuZXRWYWxpZGF0b3IsY2hhaW46ZS5nZXRWTSgpLHN0YWtlOmUuc3VibmV0VmFsaWRhdG9yLnZhbGlkYXRvci53ZWlnaHQudmFsdWUoKSxub2RlSUQ6ZS5zdWJuZXRWYWxpZGF0b3IudmFsaWRhdG9yLm5vZGVJZC52YWx1ZSgpLHN0YXJ0OmUuc3VibmV0VmFsaWRhdG9yLnZhbGlkYXRvci5zdGFydFRpbWUudmFsdWUoKS50b1N0cmluZygpLGVuZDplLnN1Ym5ldFZhbGlkYXRvci52YWxpZGF0b3IuZW5kVGltZS52YWx1ZSgpLnRvU3RyaW5nKCksc3VibmV0SUQ6ZS5nZXRTdWJuZXRJRCgpLnZhbHVlKCksLi4uYX0pOm51bGw7ZXhwb3J0e2UgYXMgZGVmYXVsdH07XG4iLCJpbXBvcnR7YXZtU2VyaWFsIGFzIHQscHZtU2VyaWFsIGFzIGUsVHJhbnNmZXJPdXRwdXQgYXMgc31mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydCBvIGZyb21cInhzc1wiO2ltcG9ydHtUeFR5cGUgYXMgdX1mcm9tXCIuLi8uLi9tb2RlbHMuanNcIjtpbXBvcnR7Z2V0VW5peE5vdyBhcyBhfWZyb21cIi4uL2dldFVuaXhOb3cuanNcIjtjb25zdCByPXI9PnQuaXNBdm1CYXNlVHgocil8fGUuaXNQdm1CYXNlVHgocik/YXN5bmMoe2ZlZURhdGE6ZSxjdXJyZW50QWRkcmVzczpuLHByb3ZpZGVyOml9KT0+e2NvbnN0IHA9ci5iYXNlVHgsbT1hd2FpdChhc3luYyhlLG8pPT57Y29uc3QgdT1lLmJhc2VUeCxhPW5ldyBTZXQ7aWYodS5vdXRwdXRzLmZvckVhY2goKHQ9PnthLmFkZCh0LmFzc2V0SWQudmFsdWUoKSl9KSksdC5pc0F2bUJhc2VUeChlKSl7Y29uc3QgdD1hd2FpdCBQcm9taXNlLmFsbChbLi4uYS52YWx1ZXMoKV0ubWFwKCh0PT5vLmdldEFwaVgoKS5nZXRBc3NldERlc2NyaXB0aW9uKHQpKSkpO3JldHVybiB1Lm91dHB1dHMucmVkdWNlKCgoZSx1KT0+e2lmKHUub3V0cHV0IGluc3RhbmNlb2Ygcyl7Y29uc3Qgcz11LmFzc2V0SWQudmFsdWUoKSxyPVsuLi5hLnZhbHVlcygpXS5pbmRleE9mKHMpLG49dFtyXSxpPXUub3V0cHV0Lm91dHB1dE93bmVycy5hZGRycy5tYXAoKHQ9PmBYLSR7dC50b1N0cmluZyhvLmdldENvbnRleHQoKS5ocnApfWApKTtyZXR1cm5bLi4uZSx7YXNzZXRJZDpzLGFtb3VudDp1Lm91dHB1dC5hbW91bnQoKSxsb2NrdGltZTp1Lm91dHB1dC5nZXRMb2NrdGltZSgpLHRocmVzaG9sZDpCaWdJbnQodS5vdXRwdXQuZ2V0VGhyZXNob2xkKCkpLGFzc2V0RGVzY3JpcHRpb246bixvd25lcnM6aSxpc0F2YXg6by5nZXRDb250ZXh0KCkuYXZheEFzc2V0SUQ9PT1zfV19cmV0dXJuIGV9KSxbXSl9cmV0dXJuIHUub3V0cHV0cy5yZWR1Y2UoKCh0LGUpPT57aWYoZS5vdXRwdXQgaW5zdGFuY2VvZiBzKXtjb25zdCBzPWUuYXNzZXRJZC52YWx1ZSgpLHU9ZS5vdXRwdXQub3V0cHV0T3duZXJzLmFkZHJzLm1hcCgodD0+YFAtJHt0LnRvU3RyaW5nKG8uZ2V0Q29udGV4dCgpLmhycCl9YCkpO3JldHVyblsuLi50LHthc3NldElkOnMsYW1vdW50OmUub3V0cHV0LmFtb3VudCgpLGxvY2t0aW1lOmUub3V0cHV0LmdldExvY2t0aW1lKCksdGhyZXNob2xkOkJpZ0ludChlLm91dHB1dC5nZXRUaHJlc2hvbGQoKSksb3duZXJzOnUsaXNBdmF4Om8uZ2V0Q29udGV4dCgpLmF2YXhBc3NldElEPT09c31dfXJldHVybiB0fSksW10pfSkocixpKSxjPWEoKSxkPW0uZmlsdGVyKCh0PT4hKDE9PT10Lm93bmVycy5sZW5ndGgmJnQub3duZXJzWzBdPT09biYmdC5sb2NrdGltZTw9YykpKTtyZXR1cm57dHlwZTp1LkJhc2UsY2hhaW46ci5nZXRWTSgpLG91dHB1dHM6ZCxtZW1vOm8oQnVmZmVyLmZyb20ocC5tZW1vLnRvQnl0ZXMoKSkudG9TdHJpbmcoXCJ1dGYtOFwiLDQpKSwuLi5lfX06bnVsbDtleHBvcnR7ciBhcyBkZWZhdWx0fTtcbiIsImltcG9ydHtwdm1TZXJpYWwgYXMgZSxBZGRyZXNzIGFzIGEsTm9kZUlkIGFzIG59ZnJvbVwiQGF2YWxhYnMvYXZhbGFuY2hlanNcIjtpbXBvcnR7VHhUeXBlIGFzIHR9ZnJvbVwiLi4vLi4vbW9kZWxzLmpzXCI7Y29uc3Qgcj1yPT5lLmlzQ29udmVydFN1Ym5ldFRvTDFUeChyKT8oe2ZlZURhdGE6ZSxwcm92aWRlcjpvfSk9Pntjb25zdCBzPW8uZ2V0SHJwKCksaT1lPT5gUC0ke2UudG9TdHJpbmcocyl9YDtyZXR1cm57dHlwZTp0LkNvbnZlcnRTdWJuZXRUb0wxLGNoYWluOnIuZ2V0Vk0oKSxtYW5hZ2VyQWRkcmVzczppKGEuZnJvbUhleChyLmFkZHJlc3MudG9TdHJpbmcoXCJoZXhcIikpKSx2YWxpZGF0b3JzOnIudmFsaWRhdG9ycy5tYXAoKGU9Pih7bm9kZUlkOm4uZnJvbUhleChlLm5vZGVJZC50b1N0cmluZyhcImhleFwiKSkudG9TdHJpbmcoKSxzdGFrZTplLndlaWdodC52YWx1ZSgpLGJhbGFuY2U6ZS5iYWxhbmNlLnZhbHVlKCkscmVtYWluaW5nQmFsYW5jZU93bmVyczplLnJlbWFpbmluZ0JhbGFuY2VPd25lci5hZGRyZXNzZXMubWFwKGkpLGRlYWN0aXZhdGlvbk93bmVyczplLmRlYWN0aXZhdGlvbk93bmVyLmFkZHJlc3Nlcy5tYXAoaSl9KSkpLGNoYWluSUQ6ci5jaGFpbklELnZhbHVlKCksc3VibmV0SUQ6ci5zdWJuZXRJRC52YWx1ZSgpLC4uLmV9fTpudWxsO2V4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwiaW1wb3J0e3B2bVNlcmlhbCBhcyBhfWZyb21cIkBhdmFsYWJzL2F2YWxhbmNoZWpzXCI7aW1wb3J0e1R4VHlwZSBhcyBlfWZyb21cIi4uLy4uL21vZGVscy5qc1wiO2NvbnN0IHQ9dD0+YS5pc0NyZWF0ZUNoYWluVHgodCk/KHtmZWVEYXRhOmF9KT0+KHt0eXBlOmUuQ3JlYXRlQ2hhaW4sY2hhaW46dC5nZXRWTSgpLHN1Ym5ldElEOnQuZ2V0U3VibmV0SUQoKS52YWx1ZSgpLGNoYWluTmFtZTp0LmNoYWluTmFtZS52YWx1ZSgpLGNoYWluSUQ6dC5nZXRCbG9ja2NoYWluSWQoKSx2bUlEOnQudm1JRC52YWx1ZSgpLGZ4SURzOnQuZnhJZHMubWFwKChhPT5hLnZhbHVlKCkpKSxnZW5lc2lzRGF0YTp0LmdlbmVzaXNEYXRhLnRvU3RyaW5nKCksLi4uYX0pOm51bGw7ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCJpbXBvcnR7cHZtU2VyaWFsIGFzIGV9ZnJvbVwiQGF2YWxhYnMvYXZhbGFuY2hlanNcIjtpbXBvcnR7VHhUeXBlIGFzIHR9ZnJvbVwiLi4vLi4vbW9kZWxzLmpzXCI7Y29uc3Qgcj1yPT5lLmlzQ3JlYXRlU3VibmV0VHgocik/KHtmZWVEYXRhOmUscHJvdmlkZXI6YX0pPT4oe3R5cGU6dC5DcmVhdGVTdWJuZXQsY2hhaW46ci5nZXRWTSgpLHRocmVzaG9sZDpyLmdldFN1Ym5ldE93bmVycygpLnRocmVzaG9sZC52YWx1ZSgpLGNvbnRyb2xLZXlzOnIuZ2V0U3VibmV0T3duZXJzKCkuYWRkcnMubWFwKChlPT5gUC0ke2UudG9TdHJpbmcoYS5nZXRIcnAoKSl9YCkpLC4uLmV9KTpudWxsO2V4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwiaW1wb3J0e3B2bVNlcmlhbCBhcyBhfWZyb21cIkBhdmFsYWJzL2F2YWxhbmNoZWpzXCI7aW1wb3J0e1R4VHlwZSBhcyB0fWZyb21cIi4uLy4uL21vZGVscy5qc1wiO2NvbnN0IGk9aT0+YS5pc0Rpc2FibGVMMVZhbGlkYXRvclR4KGkpPyh7ZmVlRGF0YTphfSk9Pih7dHlwZTp0LkRpc2FibGVMMVZhbGlkYXRvcixjaGFpbjppLmdldFZNKCksdmFsaWRhdGlvbklkOmkudmFsaWRhdGlvbklkLnRvU3RyaW5nKCksLi4uYX0pOm51bGw7ZXhwb3J0e2kgYXMgZGVmYXVsdH07XG4iLCJpbXBvcnR7cHZtU2VyaWFsIGFzIHQsYXZtU2VyaWFsIGFzIG8sZXZtU2VyaWFsIGFzIGF9ZnJvbVwiQGF2YWxhYnMvYXZhbGFuY2hlanNcIjtpbXBvcnR7VHhUeXBlIGFzIHN9ZnJvbVwiLi4vLi4vbW9kZWxzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi91dGlscy9jaGFpbklkVG9WbS5qc1wiO2ltcG9ydHtnZXRUcmFuc2ZlcmFibGVPdXRwdXRBbW91bnQgYXMgaX1mcm9tXCIuL3V0aWxzL2dldFRyYW5zZmVyYWJsZUFtb3VudC5qc1wiO2NvbnN0IG49bj0+dC5pc0V4cG9ydFR4KG4pfHxvLmlzRXhwb3J0VHgobil8fGEuaXNFeHBvcnRUeChuKT9hLmlzRXhwb3J0VHgobik/KHtmZWVEYXRhOnQsYXNzZXRJZDpvfSk9Pih7dHlwZTpzLkV4cG9ydCxjaGFpbjpuLmdldFZNKCksZGVzdGluYXRpb246ZShuLmRlc3RpbmF0aW9uQ2hhaW4udG9TdHJpbmcoKSksYW1vdW50Omkobi5leHBvcnRlZE91dHB1dHMsbyksLi4udH0pOih7ZmVlRGF0YTp0LGFzc2V0SWQ6b30pPT4oe3R5cGU6cy5FeHBvcnQsY2hhaW46bi5nZXRWTSgpLGRlc3RpbmF0aW9uOmUobi5kZXN0aW5hdGlvbi52YWx1ZSgpKSxhbW91bnQ6aShuLm91dHMsbyksLi4udH0pOm51bGw7ZXhwb3J0e24gYXMgZGVmYXVsdH07XG4iLCJpbXBvcnR7cHZtU2VyaWFsIGFzIHQsYXZtU2VyaWFsIGFzIG8sZXZtU2VyaWFsIGFzIGF9ZnJvbVwiQGF2YWxhYnMvYXZhbGFuY2hlanNcIjtpbXBvcnR7VHhUeXBlIGFzIHN9ZnJvbVwiLi4vLi4vbW9kZWxzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi91dGlscy9jaGFpbklkVG9WbS5qc1wiO2ltcG9ydHtnZXRUcmFuc2ZlcmFibGVJbnB1dEFtb3VudCBhcyByfWZyb21cIi4vdXRpbHMvZ2V0VHJhbnNmZXJhYmxlQW1vdW50LmpzXCI7Y29uc3QgbT1tPT50LmlzSW1wb3J0VHgobSl8fG8uaXNJbXBvcnRUeChtKXx8YS5pc0ltcG9ydFR4KG0pP2EuaXNJbXBvcnRUeChtKT8oe2ZlZURhdGE6dCxhc3NldElkOm99KT0+KHt0eXBlOnMuSW1wb3J0LGNoYWluOm0uZ2V0Vk0oKSxzb3VyY2U6ZShtLnNvdXJjZUNoYWluLnZhbHVlKCkpLGFtb3VudDpyKG0uaW1wb3J0ZWRJbnB1dHMsbyksLi4udH0pOih7ZmVlRGF0YTp0LGFzc2V0SWQ6b30pPT4oe3R5cGU6cy5JbXBvcnQsY2hhaW46bS5nZXRWTSgpLHNvdXJjZTplKG0uc291cmNlQ2hhaW4udmFsdWUoKSksYW1vdW50OnIobS5pbnMsbyksLi4udH0pOm51bGw7ZXhwb3J0e20gYXMgZGVmYXVsdH07XG4iLCJpbXBvcnR7cHZtU2VyaWFsIGFzIGF9ZnJvbVwiQGF2YWxhYnMvYXZhbGFuY2hlanNcIjtpbXBvcnR7VHhUeXBlIGFzIGV9ZnJvbVwiLi4vLi4vbW9kZWxzLmpzXCI7Y29uc3QgbD1sPT5hLmlzSW5jcmVhc2VMMVZhbGlkYXRvckJhbGFuY2VUeChsKT8oe2ZlZURhdGE6YX0pPT4oe3R5cGU6ZS5JbmNyZWFzZUwxVmFsaWRhdG9yQmFsYW5jZSxjaGFpbjpsLmdldFZNKCksYmFsYW5jZTpsLmJhbGFuY2UudmFsdWUoKSx2YWxpZGF0aW9uSWQ6bC52YWxpZGF0aW9uSWQudG9TdHJpbmcoKSwuLi5hfSk6bnVsbDtleHBvcnR7bCBhcyBkZWZhdWx0fTtcbiIsImltcG9ydHtwdm1TZXJpYWwgYXMgYX1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydHtUeFR5cGUgYXMgZX1mcm9tXCIuLi8uLi9tb2RlbHMuanNcIjtjb25zdCB0PXQ9PmEuaXNSZWdpc3RlckwxVmFsaWRhdG9yVHgodCk/KHtmZWVEYXRhOmF9KT0+KHt0eXBlOmUuUmVnaXN0ZXJMMVZhbGlkYXRvcixjaGFpbjp0LmdldFZNKCksYmFsYW5jZTp0LmJhbGFuY2UudmFsdWUoKSwuLi5hfSk6bnVsbDtleHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsImltcG9ydHtwdm1TZXJpYWwgYXMgZX1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydHtUeFR5cGUgYXMgdH1mcm9tXCIuLi8uLi9tb2RlbHMuanNcIjtjb25zdCBhPWE9PmUuaXNSZW1vdmVTdWJuZXRWYWxpZGF0b3JUeChhKT8oe2ZlZURhdGE6ZX0pPT4oe3R5cGU6dC5SZW1vdmVTdWJuZXRWYWxpZGF0b3IsY2hhaW46YS5nZXRWTSgpLG5vZGVJRDphLm5vZGVJZC50b1N0cmluZygpLHN1Ym5ldElEOmEuZ2V0U3VibmV0SUQoKS52YWx1ZSgpLC4uLmV9KTpudWxsO2V4cG9ydHthIGFzIGRlZmF1bHR9O1xuIiwiaW1wb3J0e3B2bVNlcmlhbCBhcyBhfWZyb21cIkBhdmFsYWJzL2F2YWxhbmNoZWpzXCI7aW1wb3J0e1R4VHlwZSBhcyB0fWZyb21cIi4uLy4uL21vZGVscy5qc1wiO2NvbnN0IGU9ZT0+YS5pc1NldEwxVmFsaWRhdG9yV2VpZ2h0VHgoZSk/KHtmZWVEYXRhOmF9KT0+KHt0eXBlOnQuU2V0TDFWYWxpZGF0b3JXZWlnaHQsY2hhaW46ZS5nZXRWTSgpLC4uLmF9KTpudWxsO2V4cG9ydHtlIGFzIGRlZmF1bHR9O1xuIiwiaW1wb3J0e3B2bVNlcmlhbCBhcyBlfWZyb21cIkBhdmFsYWJzL2F2YWxhbmNoZWpzXCI7aW1wb3J0e1R4VHlwZSBhcyB0fWZyb21cIi4uLy4uL21vZGVscy5qc1wiO2NvbnN0IHI9cj0+ZS5pc1RyYW5zZmVyU3VibmV0T3duZXJzaGlwVHgocik/KHtmZWVEYXRhOmUscHJvdmlkZXI6c30pPT4oe3R5cGU6dC5UcmFuc2ZlclN1Ym5ldE93bmVyc2hpcCxjaGFpbjpyLmdldFZNKCksc3VibmV0SUQ6ci5zdWJuZXRJRC52YWx1ZSgpLHRocmVzaG9sZDpyLmdldFN1Ym5ldE93bmVycygpLnRocmVzaG9sZC52YWx1ZSgpLGNvbnRyb2xLZXlzOnIuZ2V0U3VibmV0T3duZXJzKCkuYWRkcnMubWFwKChlPT5gUC0ke2UudG9TdHJpbmcocy5nZXRIcnAoKSl9YCkpLC4uLmV9KTpudWxsO2V4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwiaW1wb3J0XCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydFwiQGF2YWxhYnMvY29yZS11dGlscy1zZGtcIjtpbXBvcnRcImV0aGVyc1wiO2ltcG9ydHtNYWlubmV0Q29udGV4dCBhcyBjLEZ1amlDb250ZXh0IGFzIGEsRGV2bmV0Q29udGV4dCBhcyBpfWZyb21cIi4uLy4uLy4uL3Byb3ZpZGVycy9jb25zdGFudHMuanNcIjtpbXBvcnRcIkBhdmFsYWJzL2NvcmUtY2hhaW5zLXNka1wiO2NvbnN0IG49bj0+e2lmKFtjLnhCbG9ja2NoYWluSUQsYS54QmxvY2tjaGFpbklELGkueEJsb2NrY2hhaW5JRF0uaW5jbHVkZXMobikpcmV0dXJuXCJBVk1cIjtpZihbYy5wQmxvY2tjaGFpbklELGEucEJsb2NrY2hhaW5JRCxpLnBCbG9ja2NoYWluSURdLmluY2x1ZGVzKG4pKXJldHVyblwiUFZNXCI7aWYoW2MuY0Jsb2NrY2hhaW5JRCxhLmNCbG9ja2NoYWluSUQsaS5jQmxvY2tjaGFpbklEXS5pbmNsdWRlcyhuKSlyZXR1cm5cIkVWTVwiO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gY2hhaW4gaWQuIEZhaWxlZCB0byBnZXQgYWxpYXMuXCIpfTtleHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsImNvbnN0IHQ9KHQsbik9PnQucmVkdWNlKCgodCxlKT0+ZS5hc3NldElkLnRvU3RyaW5nKCkhPT1uP3Q6dCtlLm91dHB1dC5hbW91bnQoKSksQmlnSW50KDApKSxuPSh0LG4pPT50LnJlZHVjZSgoKHQsZSk9PmUuYXNzZXRJZC50b1N0cmluZygpIT09bj90OnQrZS5pbnB1dC5hbW91bnQoKSksQmlnSW50KDApKTtleHBvcnR7biBhcyBnZXRUcmFuc2ZlcmFibGVJbnB1dEFtb3VudCx0IGFzIGdldFRyYW5zZmVyYWJsZU91dHB1dEFtb3VudH07XG4iLCJpbXBvcnR7dXRpbHMgYXMgZX1mcm9tXCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydHtnZXRVbml4Tm93IGFzIHR9ZnJvbVwiLi9nZXRVbml4Tm93LmpzXCI7aW1wb3J0e2JpbmFyeVNlYXJjaCBhcyBvfWZyb21cIi4uLy4uL3V0aWxzL2JpbmFyeVNlYXJjaC5qc1wiO2ltcG9ydHtzb3J0VVRYT3NCeUFtb3VudERlc2NlbmRpbmcgYXMgcyxzb3J0VVRYT3NCeUFtb3VudEFzY2VuZGluZyBhcyByLHNvcnRVVFhPc1N0YWtpbmcgYXMgbn1mcm9tXCIuL3NvcnRVVFhPcy5qc1wiO2NvbnN0e2dldFV0eG9JbmZvOmR9PWU7dmFyIGE9KGU9PihlLkV4cG9ydFA9XCJFeHBvcnRQXCIsZS5JbXBvcnRQPVwiSW1wb3J0UFwiLGUuQWRkUGVybWlzc2lvbmxlc3NWYWxpZGF0b3I9XCJBZGRQZXJtaXNzaW9ubGVzc1ZhbGlkYXRvclwiLGUuQWRkUGVybWlzc2lvbmxlc3NEZWxlZ2F0b3I9XCJBZGRQZXJtaXNzaW9ubGVzc0RlbGVnYXRvclwiLGUuQmFzZVA9XCJCYXNlUFwiLGUuQ29uc29saWRhdGVQPVwiQ29uc29saWRhdGVQXCIsZSkpKGF8fHt9KTtjb25zdCBpPVwiTm9kZUlELThUQXJXcEZnSDNzYXpFSDhxUDRnVWp0R3RGTXZqdzFhUlwiLHU9XCIxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMUxwb1lZXCIsYz0oZSx0KT0+ZS5yZWR1Y2UoKChlLHQpPT5lK2QodCkuYW1vdW50KSxCaWdJbnQoMCkpLXQsbD17QmFzZVA6e3NvcnRGdW5jdGlvbjpzLHVuc2lnbmVkVHhCdWlsZGVyOih0LG8scyk9Pntjb25zdCByPXQuZ2V0UHJvdmlkZXIoKS5nZXRDb250ZXh0KCk7cmV0dXJuIHQuYmFzZVRYKHt1dHhvU2V0Om5ldyBlLlV0eG9TZXQobyksY2hhaW46XCJQXCIsdG9BZGRyZXNzOnQuZ2V0Q3VycmVudEFkZHJlc3MoXCJQXCIpLGFtb3VudHNQZXJBc3NldDp7W3IuYXZheEFzc2V0SURdOmMobyxyLmJhc2VUeEZlZSl9LGZlZVN0YXRlOnN9KX19LENvbnNvbGlkYXRlUDp7c29ydEZ1bmN0aW9uOnIsdW5zaWduZWRUeEJ1aWxkZXI6KHQsbyxzKT0+e2NvbnN0IHI9dC5nZXRQcm92aWRlcigpLmdldENvbnRleHQoKTtyZXR1cm4gdC5jb25zb2xpZGF0ZVAoe3V0eG9TZXQ6bmV3IGUuVXR4b1NldChvKSxhbW91bnQ6YyhvLHIuYmFzZVR4RmVlKSxmZWVTdGF0ZTpzfSl9fSxBZGRQZXJtaXNzaW9ubGVzc1ZhbGlkYXRvcjp7c29ydEZ1bmN0aW9uOm4sdW5zaWduZWRUeEJ1aWxkZXI6KG8scyxyKT0+by5hZGRQZXJtaXNzaW9ubGVzc1ZhbGlkYXRvcih7dXR4b1NldDpuZXcgZS5VdHhvU2V0KHMpLG5vZGVJZDppLHN0YXJ0OnQoKSxlbmQ6dCgpK0JpZ0ludCgxZTMpLHdlaWdodDpjKHMsby5nZXRQcm92aWRlcigpLmdldENvbnRleHQoKS5iYXNlVHhGZWUpLHN1Ym5ldElkOnUsc2hhcmVzOjUsZmVlU3RhdGU6cixmcm9tQWRkcmVzc2VzOnZvaWQgMCxyZXdhcmRBZGRyZXNzZXM6dm9pZCAwLGRlbGVnYXRvclJld2FyZEFkZHJlc3Nlczp2b2lkIDAscHVibGljS2V5OkJ1ZmZlci5mcm9tKGUuaGV4VG9CdWZmZXIoXCIweDhmOTU0MjNmNzE0MmQwMGE0OGUxMDE0YTNkZThkMjg5MDdkNDIwZGMzM2IzMDUyYTZkZWUwM2EzZjI5NDFhMzkzYzIzNTFlMzU0NzA0Y2E2NmEzZmMyOTg3MDI4MmUxNVwiKSksc2lnbmF0dXJlOkJ1ZmZlci5mcm9tKGUuaGV4VG9CdWZmZXIoXCIweDg2YTNhYjRjNDVjZmUzMWNhZTM0YzFkMDZmMjEyNDM0YWM3MWIxYmU2Y2ZlMDQ2YzgwYzE2MmUwNTc2MTRhOTRhNWJjOWYxZGVkMWE3MDI5ZGViMGJhNGNhN2M5YjcxNDExZTI5MzQzODY5MWJlNzljMmRiZjE5ZDFjYTdjM2VhZGI5Yzc1NjI0NmZjNWRlNWI3Yjg5NTExYzdkNzMwMmFlMDUxZDllMDNkNzk5MTEzODI5OWI1ZWQ2YTU3MGE5OFwiKSl9KX0sQWRkUGVybWlzc2lvbmxlc3NEZWxlZ2F0b3I6e3NvcnRGdW5jdGlvbjpuLHVuc2lnbmVkVHhCdWlsZGVyOihvLHMscik9Pm8uYWRkUGVybWlzc2lvbmxlc3NEZWxlZ2F0b3Ioe3V0eG9TZXQ6bmV3IGUuVXR4b1NldChzKSxub2RlSWQ6aSxzdGFydDp0KCksZW5kOnQoKStCaWdJbnQoMWUzKSx3ZWlnaHQ6YyhzLG8uZ2V0UHJvdmlkZXIoKS5nZXRDb250ZXh0KCkuYmFzZVR4RmVlKSxzdWJuZXRJZDp1LGZlZVN0YXRlOnJ9KX0sRXhwb3J0UDp7c29ydEZ1bmN0aW9uOnMsdW5zaWduZWRUeEJ1aWxkZXI6KHQsbyxzKT0+dC5leHBvcnRQKHthbW91bnQ6YyhvLHQuZ2V0UHJvdmlkZXIoKS5nZXRDb250ZXh0KCkuYmFzZVR4RmVlKSx1dHhvU2V0Om5ldyBlLlV0eG9TZXQobyksZGVzdGluYXRpb246XCJYXCIsZmVlU3RhdGU6c30pfSxJbXBvcnRQOntzb3J0RnVuY3Rpb246cyx1bnNpZ25lZFR4QnVpbGRlcjoodCxvLHMpPT50LmltcG9ydFAoe3V0eG9TZXQ6bmV3IGUuVXR4b1NldChvKSxzb3VyY2VDaGFpbjpcIlhcIixmZWVTdGF0ZTpzfSl9fSx4PTY1NTM2O2Z1bmN0aW9uIGYoe3dhbGxldDplLHV0eG9zOnMsc2l6ZVN1cHBvcnRlZFR4OnIsbGltaXQ6bj02NTUzNixmZWVTdGF0ZTphfSl7Y29uc3R7c29ydEZ1bmN0aW9uOmksdW5zaWduZWRUeEJ1aWxkZXI6dX09bFtyXSxjPXQoKSx4PWkocy5maWx0ZXIoKGU9Pntjb25zdHtsb2NrdGltZTp0LHN0YWtlYWJsZUxvY2t0aW1lOm99PWQoZSk7cmV0dXJuIHQ8YyYmKG88Y3x8KFwiQWRkUGVybWlzc2lvbmxlc3NEZWxlZ2F0b3JcIj09PXJ8fFwiQWRkUGVybWlzc2lvbmxlc3NWYWxpZGF0b3JcIj09PXIpKX0pKSksZj1vKHgsKHQ9Pnt0cnl7cmV0dXJuIGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5nZXRJbnB1dFV0eG9zKCkucmVkdWNlKCgoZSx0KT0+ZSsoOCs2NSpkKHQpLnRocmVzaG9sZCkpLDApO3JldHVybiA2K2UudG9CeXRlcygpLmxlbmd0aCt0fSh1KGUsdCxhKSl9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUubG9nKFwiVW5hYmxlIHRvIGVzdGltYXRlIHNpemUgb2YgdXR4b3NcIix7ZTplLHV0eG9zOnQubWFwKGQpfSksbisxfX0pLG4pO3JldHVybi0xPT09Zj9bXTp4LnNsaWNlKDAsZisxKX1leHBvcnR7eCBhcyBQX0NIQUlOX1RYX1NJWkVfTElNSVQsYSBhcyBTaXplU3VwcG9ydGVkVHgsZiBhcyBnZXRNYXhpbXVtVXR4b1NldH07XG4iLCJpbXBvcnR7V2FsbGV0QWJzdHJhY3QgYXMgc31mcm9tXCIuL1dhbGxldEFic3RyYWN0LmpzXCI7aW1wb3J0XCJAYXZhbGFicy9hdmFsYW5jaGVqc1wiO2ltcG9ydFwiLi4vdXRpbHMvcG9wdWxhdGVDcmVkZW50aWFsLmpzXCI7aW1wb3J0XCJAYXZhbGFicy9nbGFjaWVyLXNka1wiO2ltcG9ydFwiQGF2YWxhYnMvY29yZS11dGlscy1zZGtcIjtpbXBvcnR7aXNBZGRyZXNzIGFzIGV9ZnJvbVwiZXRoZXJzXCI7aW1wb3J0XCIuLi9wcm92aWRlcnMvY29uc3RhbnRzLmpzXCI7aW1wb3J0XCJAYXZhbGFicy9jb3JlLWNoYWlucy1zZGtcIjtpbXBvcnRcImNyZWF0ZS1oYXNoXCI7aW1wb3J0XCJiaXAzMlwiO2ltcG9ydFwiYmlwMzlcIjtpbXBvcnR7aXNCZWNoMzJBZGRyZXNzIGFzIHJ9ZnJvbVwiLi4vdXRpbHMvaXNCZWNoMzJBZGRyZXNzLmpzXCI7aW1wb3J0XCJ4c3NcIjtpbXBvcnRcImJpcDMyLXBhdGhcIjtjbGFzcyB0IGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihzLHQsYSxkLGkpe2lmKHN1cGVyKGkpLHRoaXMuYWRkcmVzc0M9cyx0aGlzLmFkZHJlc3NDb3JlRXRoPXQsdGhpcy54cEFkZHJlc3Nlcz1hLHRoaXMueHBDaGFuZ2VBZGRyZXNzPWQsYS5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IGhhdmUgYXQgbGVhc3QgMSB4cCBhZGRyZXNzLlwiKTtpZighZShzKSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBDLUNoYWluIChFVk0pIGFkZHJlc3NcIik7aWYoYS5zb21lKChzPT4hcihzLCExKSkpKXRocm93IG5ldyBFcnJvcihcIkdpdmVuIGFkZHJlc3NlcyBtdXN0IGJlIHZhbGlkIGF2YWxhbmNoZSBiZWNoMzIgYWRkcmVzc2VzIHdpdGhvdXQgdGhlIGNoYWluIGFsaWFzIHByZWZpeFwiKTtpZighcih0LCExKSl0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiBDb3JlRXRoIGFkZHJlc3MgbXVzdCBiZSB2YWxpZCBhdmFsYW5jaGUgYmVjaDMyIGFkZHJlc3NlcyB3aXRob3V0IHRoZSBjaGFpbiBhbGlhcyBwcmVmaXhcIik7dGhpcy5zZXRDaGFuZ2VBZGRyZXNzKGQpfXNldENoYW5nZUFkZHJlc3Mocyl7aWYoIXIocywhMSkpdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4gYWRkcmVzcyBtdXN0IGJlIHZhbGlkIGF2YWxhbmNoZSBiZWNoMzIgYWRkcmVzc2VzIHdpdGhvdXQgdGhlIGNoYWluIGFsaWFzIHByZWZpeFwiKTt0aGlzLnhwQ2hhbmdlQWRkcmVzcz1zfWdldEFkZHJlc3NFVk0oKXtyZXR1cm4gdGhpcy5hZGRyZXNzQ31nZXRBZGRyZXNzZXMocyl7cmV0dXJuKFwiQ1wiPT09cz9bdGhpcy5hZGRyZXNzQ29yZUV0aF06dGhpcy54cEFkZHJlc3NlcykubWFwKChlPT50aGlzLnByb3ZpZGVyLmZvcm1hdEFkZHJlc3MoZSxzKSkpfWdldENoYW5nZUFkZHJlc3Mocyl7Y29uc3QgZT1cIkNcIj09PXM/dGhpcy5hZGRyZXNzQ29yZUV0aDp0aGlzLnhwQ2hhbmdlQWRkcmVzcztyZXR1cm4gdGhpcy5wcm92aWRlci5mb3JtYXRBZGRyZXNzKGUscyl9Z2V0Q3VycmVudEFkZHJlc3Mocyl7Y29uc3QgZT1cIkNcIj09PXM/dGhpcy5hZGRyZXNzQ29yZUV0aDp0aGlzLnhwQWRkcmVzc2VzWzBdO3JldHVybiB0aGlzLnByb3ZpZGVyLmZvcm1hdEFkZHJlc3MoZSxzKX19ZXhwb3J0e3QgYXMgQWRkcmVzc1dhbGxldH07XG4iLCJpbXBvcnR7UHNidCBhcyBlfWZyb21cImJpdGNvaW5qcy1saWJcIjtmdW5jdGlvbiB0KHQscixhKXtjb25zdCBzPW5ldyBlKHtuZXR3b3JrOmF9KTtyZXR1cm4gdC5mb3JFYWNoKChlPT57cy5hZGRJbnB1dCh7aGFzaDplLnR4SGFzaCxpbmRleDplLmluZGV4LHdpdG5lc3NVdHhvOntzY3JpcHQ6QnVmZmVyLmZyb20oZS5zY3JpcHQsXCJoZXhcIiksdmFsdWU6ZS52YWx1ZX19KX0pKSxyLmZvckVhY2goKGU9PntzLmFkZE91dHB1dCh7dmFsdWU6ZS52YWx1ZSxhZGRyZXNzOmUuYWRkcmVzc30pfSkpLHN9ZXhwb3J0e3QgYXMgY3JlYXRlUHNidH07XG4iLCJpbXBvcnR7Y3JlYXRlUHNidCBhcyB0fWZyb21cIi4vY3JlYXRlUHNidC5qc1wiO2ltcG9ydHtzZWxlY3RVdHhvcyBhcyBlfWZyb21cIi4vc2VsZWN0VXR4b3MuanNcIjtpbXBvcnR7ZmlsdGVyRHVwbGljYXRlVVRYT3MgYXMgb31mcm9tXCIuL2ZpbHRlckR1cGxpY2F0ZVVUWE9zLmpzXCI7ZnVuY3Rpb24gcyhzLHIsbixjLGkscCl7Y29uc3QgdT1vKGkpLGY9ZShzLHIsbixjLHUpO3JldHVybiBmLmlucHV0cz97Li4uZixwc2J0OnQoZi5pbnB1dHMsZi5vdXRwdXRzLHApfTooY29uc29sZS5sb2coXCJVbmFibGUgdG8gY29uc3RydWN0IHRyYW5zYWN0aW9uLCBmZWUgbmVlZGVkOiBcIixmLmZlZSksZil9ZXhwb3J0e3MgYXMgY3JlYXRlVHJhbnNmZXJUeH07XG4iLCJmdW5jdGlvbiB0KHQpe2NvbnN0IG49W107cmV0dXJuIHQuZmlsdGVyKCh0PT57Y29uc3Qgcj10LnR4SGFzaCt0LmluZGV4LnRvU3RyaW5nKCk7cmV0dXJuIW4uaW5jbHVkZXMocikmJihuLnB1c2gociksITApfSkpfWV4cG9ydHt0IGFzIGZpbHRlckR1cGxpY2F0ZVVUWE9zfTtcbiIsImltcG9ydHtzZWxlY3RVdHhvcyBhcyB0fWZyb21cIi4vc2VsZWN0VXR4b3MuanNcIjtpbXBvcnR7c3VtVVRYT3MgYXMgb31mcm9tXCIuL3N1bVVUWE9zLmpzXCI7ZnVuY3Rpb24gcihyLHMsZSxuKXtjb25zdCBmPW8ocik7aWYoIWYpcmV0dXJuIDA7Y29uc3R7ZmVlOm19PXQocyxlLGYsbixyKTtyZXR1cm4gZi1tfWV4cG9ydHtyIGFzIGdldE1heFRyYW5zZmVyQW1vdW50fTtcbiIsImltcG9ydCBlIGZyb21cImNvaW5zZWxlY3RcIjtmdW5jdGlvbiB0KHQsdSxzLG4sbyl7Y29uc3Qgcj1be2FkZHJlc3M6dCx2YWx1ZTpzfV0se2lucHV0czpwLG91dHB1dHM6ZixmZWU6aX09ZShvLHIsbik7aWYoIXB8fCFmKXJldHVybntmZWU6aX07Y29uc3QgYT1bZlswXV0sYz1mWzFdO3JldHVybiBjJiZhLnB1c2goe2FkZHJlc3M6dSx2YWx1ZTpjLnZhbHVlfSkse2lucHV0czpwLG91dHB1dHM6YSxmZWU6aX19ZXhwb3J0e3QgYXMgc2VsZWN0VXR4b3N9O1xuIiwiaW1wb3J0e2NvbXBpbGVUcmFuc2FjdGlvbiBhcyBvfWZyb21cIkBzb2xhbmEva2l0XCI7Y29uc3QgdD10PT5vKHQpO2V4cG9ydHt0IGFzIGNvbXBpbGVTb2xhbmFUeH07XG4iLCJpbXBvcnR7Z2V0QmFzZTY0RW5jb2RlZFdpcmVUcmFuc2FjdGlvbiBhcyBvfWZyb21cIkBzb2xhbmEva2l0XCI7Y29uc3QgdD10PT5vKHQpO2V4cG9ydHt0IGFzIHNlcmlhbGl6ZVNvbGFuYVR4fTtcbiIsImltcG9ydHtjcmVhdGVOb29wU2lnbmVyIGFzIG8sYWRkcmVzcyBhcyB0LHBpcGUgYXMgYSxjcmVhdGVUcmFuc2FjdGlvbk1lc3NhZ2UgYXMgcixzZXRUcmFuc2FjdGlvbk1lc3NhZ2VMaWZldGltZVVzaW5nQmxvY2toYXNoIGFzIHMsc2V0VHJhbnNhY3Rpb25NZXNzYWdlRmVlUGF5ZXIgYXMgbixhcHBlbmRUcmFuc2FjdGlvbk1lc3NhZ2VJbnN0cnVjdGlvbnMgYXMgZX1mcm9tXCJAc29sYW5hL2tpdFwiO2ltcG9ydHtnZXRUcmFuc2ZlclNvbEluc3RydWN0aW9uIGFzIG19ZnJvbVwiQHNvbGFuYS1wcm9ncmFtL3N5c3RlbVwiO2NvbnN0IGk9YXN5bmMoe2Zyb206aSx0bzpjLGFtb3VudDpwLHByb3ZpZGVyOnV9KT0+e2NvbnN0e3ZhbHVlOmx9PWF3YWl0IHUuZ2V0TGF0ZXN0QmxvY2toYXNoKCkuc2VuZCgpLGQ9W20oe3NvdXJjZTpvKHQoaSkpLGRlc3RpbmF0aW9uOnQoYyksYW1vdW50OnB9KV07cmV0dXJuIGEocih7dmVyc2lvbjowfSksKG89PnMobCxvKSksKG89Pm4odChpKSxvKSksKG89PmUoZCxvKSkpfTtleHBvcnR7aSBhcyB0cmFuc2ZlclNvbH07XG4iLCJpbXBvcnR7YWRkcmVzcyBhcyB0LGNyZWF0ZU5vb3BTaWduZXIgYXMgbyxwaXBlIGFzIGEsY3JlYXRlVHJhbnNhY3Rpb25NZXNzYWdlIGFzIHIsc2V0VHJhbnNhY3Rpb25NZXNzYWdlTGlmZXRpbWVVc2luZ0Jsb2NraGFzaCBhcyBuLHNldFRyYW5zYWN0aW9uTWVzc2FnZUZlZVBheWVyIGFzIGUsYXBwZW5kVHJhbnNhY3Rpb25NZXNzYWdlSW5zdHJ1Y3Rpb25zIGFzIGl9ZnJvbVwiQHNvbGFuYS9raXRcIjtpbXBvcnR7ZmluZEFzc29jaWF0ZWRUb2tlblBkYSBhcyBtLFRPS0VOX1BST0dSQU1fQUREUkVTUyBhcyBzLGdldENyZWF0ZUFzc29jaWF0ZWRUb2tlbklkZW1wb3RlbnRJbnN0cnVjdGlvbiBhcyB3LGdldFRyYW5zZmVySW5zdHJ1Y3Rpb24gYXMgcH1mcm9tXCJAc29sYW5hLXByb2dyYW0vdG9rZW5cIjtjb25zdCB1PWFzeW5jKHtmcm9tOnUsdG86YyxtaW50OmssYW1vdW50OmcscHJvdmlkZXI6bH0pPT57Y29uc3RbZF09YXdhaXQgbSh7bWludDp0KGspLG93bmVyOnQodSksdG9rZW5Qcm9ncmFtOnN9KSxbZl09YXdhaXQgbSh7bWludDp0KGspLG93bmVyOnQoYyksdG9rZW5Qcm9ncmFtOnN9KSxoPWF3YWl0IHcoe3BheWVyOm8odCh1KSksbWludDp0KGspLG93bmVyOnQoYyksYXRhOmZ9KSx2PXAoe2Ftb3VudDpnLHNvdXJjZTpkLGRlc3RpbmF0aW9uOmYsYXV0aG9yaXR5Om8odCh1KSl9KSx7dmFsdWU6eX09YXdhaXQgbC5nZXRMYXRlc3RCbG9ja2hhc2goKS5zZW5kKCk7cmV0dXJuIGEocih7dmVyc2lvbjowfSksKHQ9Pm4oeSx0KSksKG89PmUodCh1KSxvKSksKHQ9PmkoW2gsdl0sdCkpKX07ZXhwb3J0e3UgYXMgdHJhbnNmZXJUb2tlbn07XG4iLCJmdW5jdGlvbiB0KHQsZSxyKXtsZXQgbj0wLG89dC5sZW5ndGgtMTtpZihlKHQpPD1yKXJldHVybiBvO2xldCBsPS0xO2Zvcig7bjw9bzspe2NvbnN0IGY9TWF0aC5mbG9vcigobitvKS8yKTtlKHQuc2xpY2UoMCxmKzEpKTw9cj8obD1mLG49ZisxKTpvPWYtMX1yZXR1cm4gbH1leHBvcnR7dCBhcyBiaW5hcnlTZWFyY2h9O1xuIiwiaW1wb3J0IHsgZ2V0RW51bUVuY29kZXIsIGdldFUzMkVuY29kZXIsIGdldEVudW1EZWNvZGVyLCBnZXRVMzJEZWNvZGVyLCBjb21iaW5lQ29kZWMsIGdldFN0cnVjdEVuY29kZXIsIGdldEFkZHJlc3NFbmNvZGVyLCBnZXRVNjRFbmNvZGVyLCBnZXRTdHJ1Y3REZWNvZGVyLCBnZXRBZGRyZXNzRGVjb2RlciwgZ2V0VTY0RGVjb2RlciwgZGVjb2RlQWNjb3VudCwgYXNzZXJ0QWNjb3VudEV4aXN0cywgZmV0Y2hFbmNvZGVkQWNjb3VudCwgYXNzZXJ0QWNjb3VudHNFeGlzdCwgZmV0Y2hFbmNvZGVkQWNjb3VudHMsIGNvbnRhaW5zQnl0ZXMsIGlzUHJvZ3JhbUVycm9yLCB0cmFuc2Zvcm1FbmNvZGVyLCBhZGRFbmNvZGVyU2l6ZVByZWZpeCwgZ2V0VXRmOEVuY29kZXIsIGFkZERlY29kZXJTaXplUHJlZml4LCBnZXRVdGY4RGVjb2RlciwgQkFTRV9BQ0NPVU5UX1NJWkUsIEFjY291bnRSb2xlLCB1cGdyYWRlUm9sZVRvU2lnbmVyLCBpc1RyYW5zYWN0aW9uU2lnbmVyIGFzIGlzVHJhbnNhY3Rpb25TaWduZXIkMSB9IGZyb20gJ0Bzb2xhbmEva2l0JztcblxuLy8gc3JjL2dlbmVyYXRlZC9hY2NvdW50cy9ub25jZS50c1xudmFyIE5vbmNlU3RhdGUgPSAvKiBAX19QVVJFX18gKi8gKChOb25jZVN0YXRlMikgPT4ge1xuICBOb25jZVN0YXRlMltOb25jZVN0YXRlMltcIlVuaW5pdGlhbGl6ZWRcIl0gPSAwXSA9IFwiVW5pbml0aWFsaXplZFwiO1xuICBOb25jZVN0YXRlMltOb25jZVN0YXRlMltcIkluaXRpYWxpemVkXCJdID0gMV0gPSBcIkluaXRpYWxpemVkXCI7XG4gIHJldHVybiBOb25jZVN0YXRlMjtcbn0pKE5vbmNlU3RhdGUgfHwge30pO1xuZnVuY3Rpb24gZ2V0Tm9uY2VTdGF0ZUVuY29kZXIoKSB7XG4gIHJldHVybiBnZXRFbnVtRW5jb2RlcihOb25jZVN0YXRlLCB7IHNpemU6IGdldFUzMkVuY29kZXIoKSB9KTtcbn1cbmZ1bmN0aW9uIGdldE5vbmNlU3RhdGVEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0RW51bURlY29kZXIoTm9uY2VTdGF0ZSwgeyBzaXplOiBnZXRVMzJEZWNvZGVyKCkgfSk7XG59XG5mdW5jdGlvbiBnZXROb25jZVN0YXRlQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoZ2V0Tm9uY2VTdGF0ZUVuY29kZXIoKSwgZ2V0Tm9uY2VTdGF0ZURlY29kZXIoKSk7XG59XG52YXIgTm9uY2VWZXJzaW9uID0gLyogQF9fUFVSRV9fICovICgoTm9uY2VWZXJzaW9uMikgPT4ge1xuICBOb25jZVZlcnNpb24yW05vbmNlVmVyc2lvbjJbXCJMZWdhY3lcIl0gPSAwXSA9IFwiTGVnYWN5XCI7XG4gIE5vbmNlVmVyc2lvbjJbTm9uY2VWZXJzaW9uMltcIkN1cnJlbnRcIl0gPSAxXSA9IFwiQ3VycmVudFwiO1xuICByZXR1cm4gTm9uY2VWZXJzaW9uMjtcbn0pKE5vbmNlVmVyc2lvbiB8fCB7fSk7XG5mdW5jdGlvbiBnZXROb25jZVZlcnNpb25FbmNvZGVyKCkge1xuICByZXR1cm4gZ2V0RW51bUVuY29kZXIoTm9uY2VWZXJzaW9uLCB7IHNpemU6IGdldFUzMkVuY29kZXIoKSB9KTtcbn1cbmZ1bmN0aW9uIGdldE5vbmNlVmVyc2lvbkRlY29kZXIoKSB7XG4gIHJldHVybiBnZXRFbnVtRGVjb2RlcihOb25jZVZlcnNpb24sIHsgc2l6ZTogZ2V0VTMyRGVjb2RlcigpIH0pO1xufVxuZnVuY3Rpb24gZ2V0Tm9uY2VWZXJzaW9uQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoZ2V0Tm9uY2VWZXJzaW9uRW5jb2RlcigpLCBnZXROb25jZVZlcnNpb25EZWNvZGVyKCkpO1xufVxuXG4vLyBzcmMvZ2VuZXJhdGVkL2FjY291bnRzL25vbmNlLnRzXG5mdW5jdGlvbiBnZXROb25jZUVuY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICBbXCJ2ZXJzaW9uXCIsIGdldE5vbmNlVmVyc2lvbkVuY29kZXIoKV0sXG4gICAgW1wic3RhdGVcIiwgZ2V0Tm9uY2VTdGF0ZUVuY29kZXIoKV0sXG4gICAgW1wiYXV0aG9yaXR5XCIsIGdldEFkZHJlc3NFbmNvZGVyKCldLFxuICAgIFtcImJsb2NraGFzaFwiLCBnZXRBZGRyZXNzRW5jb2RlcigpXSxcbiAgICBbXCJsYW1wb3J0c1BlclNpZ25hdHVyZVwiLCBnZXRVNjRFbmNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0Tm9uY2VEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1widmVyc2lvblwiLCBnZXROb25jZVZlcnNpb25EZWNvZGVyKCldLFxuICAgIFtcInN0YXRlXCIsIGdldE5vbmNlU3RhdGVEZWNvZGVyKCldLFxuICAgIFtcImF1dGhvcml0eVwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXSxcbiAgICBbXCJibG9ja2hhc2hcIiwgZ2V0QWRkcmVzc0RlY29kZXIoKV0sXG4gICAgW1wibGFtcG9ydHNQZXJTaWduYXR1cmVcIiwgZ2V0VTY0RGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldE5vbmNlQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoZ2V0Tm9uY2VFbmNvZGVyKCksIGdldE5vbmNlRGVjb2RlcigpKTtcbn1cbmZ1bmN0aW9uIGRlY29kZU5vbmNlKGVuY29kZWRBY2NvdW50KSB7XG4gIHJldHVybiBkZWNvZGVBY2NvdW50KFxuICAgIGVuY29kZWRBY2NvdW50LFxuICAgIGdldE5vbmNlRGVjb2RlcigpXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaE5vbmNlKHJwYywgYWRkcmVzcywgY29uZmlnKSB7XG4gIGNvbnN0IG1heWJlQWNjb3VudCA9IGF3YWl0IGZldGNoTWF5YmVOb25jZShycGMsIGFkZHJlc3MsIGNvbmZpZyk7XG4gIGFzc2VydEFjY291bnRFeGlzdHMobWF5YmVBY2NvdW50KTtcbiAgcmV0dXJuIG1heWJlQWNjb3VudDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTWF5YmVOb25jZShycGMsIGFkZHJlc3MsIGNvbmZpZykge1xuICBjb25zdCBtYXliZUFjY291bnQgPSBhd2FpdCBmZXRjaEVuY29kZWRBY2NvdW50KHJwYywgYWRkcmVzcywgY29uZmlnKTtcbiAgcmV0dXJuIGRlY29kZU5vbmNlKG1heWJlQWNjb3VudCk7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFsbE5vbmNlKHJwYywgYWRkcmVzc2VzLCBjb25maWcpIHtcbiAgY29uc3QgbWF5YmVBY2NvdW50cyA9IGF3YWl0IGZldGNoQWxsTWF5YmVOb25jZShycGMsIGFkZHJlc3NlcywgY29uZmlnKTtcbiAgYXNzZXJ0QWNjb3VudHNFeGlzdChtYXliZUFjY291bnRzKTtcbiAgcmV0dXJuIG1heWJlQWNjb3VudHM7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFsbE1heWJlTm9uY2UocnBjLCBhZGRyZXNzZXMsIGNvbmZpZykge1xuICBjb25zdCBtYXliZUFjY291bnRzID0gYXdhaXQgZmV0Y2hFbmNvZGVkQWNjb3VudHMocnBjLCBhZGRyZXNzZXMsIGNvbmZpZyk7XG4gIHJldHVybiBtYXliZUFjY291bnRzLm1hcCgobWF5YmVBY2NvdW50KSA9PiBkZWNvZGVOb25jZShtYXliZUFjY291bnQpKTtcbn1cbmZ1bmN0aW9uIGdldE5vbmNlU2l6ZSgpIHtcbiAgcmV0dXJuIDgwO1xufVxudmFyIFNZU1RFTV9QUk9HUkFNX0FERFJFU1MgPSBcIjExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXCI7XG52YXIgU3lzdGVtQWNjb3VudCA9IC8qIEBfX1BVUkVfXyAqLyAoKFN5c3RlbUFjY291bnQyKSA9PiB7XG4gIFN5c3RlbUFjY291bnQyW1N5c3RlbUFjY291bnQyW1wiTm9uY2VcIl0gPSAwXSA9IFwiTm9uY2VcIjtcbiAgcmV0dXJuIFN5c3RlbUFjY291bnQyO1xufSkoU3lzdGVtQWNjb3VudCB8fCB7fSk7XG52YXIgU3lzdGVtSW5zdHJ1Y3Rpb24gPSAvKiBAX19QVVJFX18gKi8gKChTeXN0ZW1JbnN0cnVjdGlvbjIpID0+IHtcbiAgU3lzdGVtSW5zdHJ1Y3Rpb24yW1N5c3RlbUluc3RydWN0aW9uMltcIkNyZWF0ZUFjY291bnRcIl0gPSAwXSA9IFwiQ3JlYXRlQWNjb3VudFwiO1xuICBTeXN0ZW1JbnN0cnVjdGlvbjJbU3lzdGVtSW5zdHJ1Y3Rpb24yW1wiQXNzaWduXCJdID0gMV0gPSBcIkFzc2lnblwiO1xuICBTeXN0ZW1JbnN0cnVjdGlvbjJbU3lzdGVtSW5zdHJ1Y3Rpb24yW1wiVHJhbnNmZXJTb2xcIl0gPSAyXSA9IFwiVHJhbnNmZXJTb2xcIjtcbiAgU3lzdGVtSW5zdHJ1Y3Rpb24yW1N5c3RlbUluc3RydWN0aW9uMltcIkNyZWF0ZUFjY291bnRXaXRoU2VlZFwiXSA9IDNdID0gXCJDcmVhdGVBY2NvdW50V2l0aFNlZWRcIjtcbiAgU3lzdGVtSW5zdHJ1Y3Rpb24yW1N5c3RlbUluc3RydWN0aW9uMltcIkFkdmFuY2VOb25jZUFjY291bnRcIl0gPSA0XSA9IFwiQWR2YW5jZU5vbmNlQWNjb3VudFwiO1xuICBTeXN0ZW1JbnN0cnVjdGlvbjJbU3lzdGVtSW5zdHJ1Y3Rpb24yW1wiV2l0aGRyYXdOb25jZUFjY291bnRcIl0gPSA1XSA9IFwiV2l0aGRyYXdOb25jZUFjY291bnRcIjtcbiAgU3lzdGVtSW5zdHJ1Y3Rpb24yW1N5c3RlbUluc3RydWN0aW9uMltcIkluaXRpYWxpemVOb25jZUFjY291bnRcIl0gPSA2XSA9IFwiSW5pdGlhbGl6ZU5vbmNlQWNjb3VudFwiO1xuICBTeXN0ZW1JbnN0cnVjdGlvbjJbU3lzdGVtSW5zdHJ1Y3Rpb24yW1wiQXV0aG9yaXplTm9uY2VBY2NvdW50XCJdID0gN10gPSBcIkF1dGhvcml6ZU5vbmNlQWNjb3VudFwiO1xuICBTeXN0ZW1JbnN0cnVjdGlvbjJbU3lzdGVtSW5zdHJ1Y3Rpb24yW1wiQWxsb2NhdGVcIl0gPSA4XSA9IFwiQWxsb2NhdGVcIjtcbiAgU3lzdGVtSW5zdHJ1Y3Rpb24yW1N5c3RlbUluc3RydWN0aW9uMltcIkFsbG9jYXRlV2l0aFNlZWRcIl0gPSA5XSA9IFwiQWxsb2NhdGVXaXRoU2VlZFwiO1xuICBTeXN0ZW1JbnN0cnVjdGlvbjJbU3lzdGVtSW5zdHJ1Y3Rpb24yW1wiQXNzaWduV2l0aFNlZWRcIl0gPSAxMF0gPSBcIkFzc2lnbldpdGhTZWVkXCI7XG4gIFN5c3RlbUluc3RydWN0aW9uMltTeXN0ZW1JbnN0cnVjdGlvbjJbXCJUcmFuc2ZlclNvbFdpdGhTZWVkXCJdID0gMTFdID0gXCJUcmFuc2ZlclNvbFdpdGhTZWVkXCI7XG4gIFN5c3RlbUluc3RydWN0aW9uMltTeXN0ZW1JbnN0cnVjdGlvbjJbXCJVcGdyYWRlTm9uY2VBY2NvdW50XCJdID0gMTJdID0gXCJVcGdyYWRlTm9uY2VBY2NvdW50XCI7XG4gIHJldHVybiBTeXN0ZW1JbnN0cnVjdGlvbjI7XG59KShTeXN0ZW1JbnN0cnVjdGlvbiB8fCB7fSk7XG5mdW5jdGlvbiBpZGVudGlmeVN5c3RlbUluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGNvbnN0IGRhdGEgPSBcImRhdGFcIiBpbiBpbnN0cnVjdGlvbiA/IGluc3RydWN0aW9uLmRhdGEgOiBpbnN0cnVjdGlvbjtcbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VTMyRW5jb2RlcigpLmVuY29kZSgwKSwgMCkpIHtcbiAgICByZXR1cm4gMCAvKiBDcmVhdGVBY2NvdW50ICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoMSksIDApKSB7XG4gICAgcmV0dXJuIDEgLyogQXNzaWduICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoMiksIDApKSB7XG4gICAgcmV0dXJuIDIgLyogVHJhbnNmZXJTb2wgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VTMyRW5jb2RlcigpLmVuY29kZSgzKSwgMCkpIHtcbiAgICByZXR1cm4gMyAvKiBDcmVhdGVBY2NvdW50V2l0aFNlZWQgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VTMyRW5jb2RlcigpLmVuY29kZSg0KSwgMCkpIHtcbiAgICByZXR1cm4gNCAvKiBBZHZhbmNlTm9uY2VBY2NvdW50ICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoNSksIDApKSB7XG4gICAgcmV0dXJuIDUgLyogV2l0aGRyYXdOb25jZUFjY291bnQgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VTMyRW5jb2RlcigpLmVuY29kZSg2KSwgMCkpIHtcbiAgICByZXR1cm4gNiAvKiBJbml0aWFsaXplTm9uY2VBY2NvdW50ICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoNyksIDApKSB7XG4gICAgcmV0dXJuIDcgLyogQXV0aG9yaXplTm9uY2VBY2NvdW50ICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoOCksIDApKSB7XG4gICAgcmV0dXJuIDggLyogQWxsb2NhdGUgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VTMyRW5jb2RlcigpLmVuY29kZSg5KSwgMCkpIHtcbiAgICByZXR1cm4gOSAvKiBBbGxvY2F0ZVdpdGhTZWVkICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoMTApLCAwKSkge1xuICAgIHJldHVybiAxMCAvKiBBc3NpZ25XaXRoU2VlZCAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVMzJFbmNvZGVyKCkuZW5jb2RlKDExKSwgMCkpIHtcbiAgICByZXR1cm4gMTEgLyogVHJhbnNmZXJTb2xXaXRoU2VlZCAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVMzJFbmNvZGVyKCkuZW5jb2RlKDEyKSwgMCkpIHtcbiAgICByZXR1cm4gMTIgLyogVXBncmFkZU5vbmNlQWNjb3VudCAqLztcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgXCJUaGUgcHJvdmlkZWQgaW5zdHJ1Y3Rpb24gY291bGQgbm90IGJlIGlkZW50aWZpZWQgYXMgYSBzeXN0ZW0gaW5zdHJ1Y3Rpb24uXCJcbiAgKTtcbn1cblxuLy8gc3JjL2dlbmVyYXRlZC9lcnJvcnMvc3lzdGVtLnRzXG52YXIgU1lTVEVNX0VSUk9SX19BQ0NPVU5UX0FMUkVBRFlfSU5fVVNFID0gMDtcbnZhciBTWVNURU1fRVJST1JfX1JFU1VMVF9XSVRIX05FR0FUSVZFX0xBTVBPUlRTID0gMTtcbnZhciBTWVNURU1fRVJST1JfX0lOVkFMSURfUFJPR1JBTV9JRCA9IDI7XG52YXIgU1lTVEVNX0VSUk9SX19JTlZBTElEX0FDQ09VTlRfREFUQV9MRU5HVEggPSAzO1xudmFyIFNZU1RFTV9FUlJPUl9fTUFYX1NFRURfTEVOR1RIX0VYQ0VFREVEID0gNDtcbnZhciBTWVNURU1fRVJST1JfX0FERFJFU1NfV0lUSF9TRUVEX01JU01BVENIID0gNTtcbnZhciBTWVNURU1fRVJST1JfX05PTkNFX05PX1JFQ0VOVF9CTE9DS0hBU0hFUyA9IDY7XG52YXIgU1lTVEVNX0VSUk9SX19OT05DRV9CTE9DS0hBU0hfTk9UX0VYUElSRUQgPSA3O1xudmFyIFNZU1RFTV9FUlJPUl9fTk9OQ0VfVU5FWFBFQ1RFRF9CTE9DS0hBU0hfVkFMVUUgPSA4O1xudmFyIHN5c3RlbUVycm9yTWVzc2FnZXM7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIHN5c3RlbUVycm9yTWVzc2FnZXMgPSB7XG4gICAgW1NZU1RFTV9FUlJPUl9fQUNDT1VOVF9BTFJFQURZX0lOX1VTRV06IGBhbiBhY2NvdW50IHdpdGggdGhlIHNhbWUgYWRkcmVzcyBhbHJlYWR5IGV4aXN0c2AsXG4gICAgW1NZU1RFTV9FUlJPUl9fQUREUkVTU19XSVRIX1NFRURfTUlTTUFUQ0hdOiBgcHJvdmlkZWQgYWRkcmVzcyBkb2VzIG5vdCBtYXRjaCBhZGRyZXNzZWQgZGVyaXZlZCBmcm9tIHNlZWRgLFxuICAgIFtTWVNURU1fRVJST1JfX0lOVkFMSURfQUNDT1VOVF9EQVRBX0xFTkdUSF06IGBjYW5ub3QgYWxsb2NhdGUgYWNjb3VudCBkYXRhIG9mIHRoaXMgbGVuZ3RoYCxcbiAgICBbU1lTVEVNX0VSUk9SX19JTlZBTElEX1BST0dSQU1fSURdOiBgY2Fubm90IGFzc2lnbiBhY2NvdW50IHRvIHRoaXMgcHJvZ3JhbSBpZGAsXG4gICAgW1NZU1RFTV9FUlJPUl9fTUFYX1NFRURfTEVOR1RIX0VYQ0VFREVEXTogYGxlbmd0aCBvZiByZXF1ZXN0ZWQgc2VlZCBpcyB0b28gbG9uZ2AsXG4gICAgW1NZU1RFTV9FUlJPUl9fTk9OQ0VfQkxPQ0tIQVNIX05PVF9FWFBJUkVEXTogYHN0b3JlZCBub25jZSBpcyBzdGlsbCBpbiByZWNlbnRfYmxvY2toYXNoZXNgLFxuICAgIFtTWVNURU1fRVJST1JfX05PTkNFX05PX1JFQ0VOVF9CTE9DS0hBU0hFU106IGBhZHZhbmNpbmcgc3RvcmVkIG5vbmNlIHJlcXVpcmVzIGEgcG9wdWxhdGVkIFJlY2VudEJsb2NraGFzaGVzIHN5c3ZhcmAsXG4gICAgW1NZU1RFTV9FUlJPUl9fTk9OQ0VfVU5FWFBFQ1RFRF9CTE9DS0hBU0hfVkFMVUVdOiBgc3BlY2lmaWVkIG5vbmNlIGRvZXMgbm90IG1hdGNoIHN0b3JlZCBub25jZWAsXG4gICAgW1NZU1RFTV9FUlJPUl9fUkVTVUxUX1dJVEhfTkVHQVRJVkVfTEFNUE9SVFNdOiBgYWNjb3VudCBkb2VzIG5vdCBoYXZlIGVub3VnaCBTT0wgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uYFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U3lzdGVtRXJyb3JNZXNzYWdlKGNvZGUpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHJldHVybiBzeXN0ZW1FcnJvck1lc3NhZ2VzW2NvZGVdO1xuICB9XG4gIHJldHVybiBcIkVycm9yIG1lc3NhZ2Ugbm90IGF2YWlsYWJsZSBpbiBwcm9kdWN0aW9uIGJ1bmRsZXMuXCI7XG59XG5mdW5jdGlvbiBpc1N5c3RlbUVycm9yKGVycm9yLCB0cmFuc2FjdGlvbk1lc3NhZ2UsIGNvZGUpIHtcbiAgcmV0dXJuIGlzUHJvZ3JhbUVycm9yKFxuICAgIGVycm9yLFxuICAgIHRyYW5zYWN0aW9uTWVzc2FnZSxcbiAgICBTWVNURU1fUFJPR1JBTV9BRERSRVNTLFxuICAgIGNvZGVcbiAgKTtcbn1cbmZ1bmN0aW9uIGV4cGVjdEFkZHJlc3ModmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGEgQWRkcmVzcy5cIik7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBcImFkZHJlc3NcIiBpbiB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5hZGRyZXNzO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZVswXTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MsIG9wdGlvbmFsQWNjb3VudFN0cmF0ZWd5KSB7XG4gIHJldHVybiAoYWNjb3VudCkgPT4ge1xuICAgIGlmICghYWNjb3VudC52YWx1ZSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgICBhZGRyZXNzOiBwcm9ncmFtQWRkcmVzcyxcbiAgICAgICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB3cml0YWJsZVJvbGUgPSBhY2NvdW50LmlzV3JpdGFibGUgPyBBY2NvdW50Um9sZS5XUklUQUJMRSA6IEFjY291bnRSb2xlLlJFQURPTkxZO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGFkZHJlc3M6IGV4cGVjdEFkZHJlc3MoYWNjb3VudC52YWx1ZSksXG4gICAgICByb2xlOiBpc1RyYW5zYWN0aW9uU2lnbmVyKGFjY291bnQudmFsdWUpID8gdXBncmFkZVJvbGVUb1NpZ25lcih3cml0YWJsZVJvbGUpIDogd3JpdGFibGVSb2xlLFxuICAgICAgLi4uaXNUcmFuc2FjdGlvblNpZ25lcihhY2NvdW50LnZhbHVlKSA/IHsgc2lnbmVyOiBhY2NvdW50LnZhbHVlIH0gOiB7fVxuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gaXNUcmFuc2FjdGlvblNpZ25lcih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJhZGRyZXNzXCIgaW4gdmFsdWUgJiYgaXNUcmFuc2FjdGlvblNpZ25lciQxKHZhbHVlKTtcbn1cblxuLy8gc3JjL2dlbmVyYXRlZC9pbnN0cnVjdGlvbnMvYWR2YW5jZU5vbmNlQWNjb3VudC50c1xudmFyIEFEVkFOQ0VfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SID0gNDtcbmZ1bmN0aW9uIGdldEFkdmFuY2VOb25jZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVMzJFbmNvZGVyKCkuZW5jb2RlKEFEVkFOQ0VfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEFkdmFuY2VOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkVuY29kZXIoKV1dKSxcbiAgICAodmFsdWUpID0+ICh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGRpc2NyaW1pbmF0b3I6IEFEVkFOQ0VfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEFkdmFuY2VOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldXSk7XG59XG5mdW5jdGlvbiBnZXRBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0QWR2YW5jZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSxcbiAgICBnZXRBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gU1lTVEVNX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBub25jZUFjY291bnQ6IHsgdmFsdWU6IGlucHV0Lm5vbmNlQWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgcmVjZW50QmxvY2toYXNoZXNTeXN2YXI6IHtcbiAgICAgIHZhbHVlOiBpbnB1dC5yZWNlbnRCbG9ja2hhc2hlc1N5c3ZhciA/PyBudWxsLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9LFxuICAgIG5vbmNlQXV0aG9yaXR5OiB7IHZhbHVlOiBpbnB1dC5ub25jZUF1dGhvcml0eSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgaWYgKCFhY2NvdW50cy5yZWNlbnRCbG9ja2hhc2hlc1N5c3Zhci52YWx1ZSkge1xuICAgIGFjY291bnRzLnJlY2VudEJsb2NraGFzaGVzU3lzdmFyLnZhbHVlID0gXCJTeXN2YXJSZWNlbnRCMW9ja0hhc2hlczExMTExMTExMTExMTExMTExMTExXCI7XG4gIH1cbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubm9uY2VBY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnJlY2VudEJsb2NraGFzaGVzU3lzdmFyKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm5vbmNlQXV0aG9yaXR5KVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0QWR2YW5jZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoe30pXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlQWR2YW5jZU5vbmNlQWNjb3VudEluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG5vbmNlQWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIHJlY2VudEJsb2NraGFzaGVzU3lzdmFyOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgbm9uY2VBdXRob3JpdHk6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEFkdmFuY2VOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKFxuICAgICAgaW5zdHJ1Y3Rpb24uZGF0YVxuICAgIClcbiAgfTtcbn1cbnZhciBBTExPQ0FURV9ESVNDUklNSU5BVE9SID0gODtcbmZ1bmN0aW9uIGdldEFsbG9jYXRlRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VTMyRW5jb2RlcigpLmVuY29kZShBTExPQ0FURV9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEFsbG9jYXRlSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkVuY29kZXIoKV0sXG4gICAgICBbXCJzcGFjZVwiLCBnZXRVNjRFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogQUxMT0NBVEVfRElTQ1JJTUlOQVRPUiB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0QWxsb2NhdGVJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldLFxuICAgIFtcInNwYWNlXCIsIGdldFU2NERlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRBbGxvY2F0ZUluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldEFsbG9jYXRlSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEFsbG9jYXRlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRBbGxvY2F0ZUluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFNZU1RFTV9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgbmV3QWNjb3VudDogeyB2YWx1ZTogaW5wdXQubmV3QWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubmV3QWNjb3VudCldLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldEFsbG9jYXRlSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlQWxsb2NhdGVJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBuZXdBY2NvdW50OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRBbGxvY2F0ZUluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoaW5zdHJ1Y3Rpb24uZGF0YSlcbiAgfTtcbn1cbnZhciBBTExPQ0FURV9XSVRIX1NFRURfRElTQ1JJTUlOQVRPUiA9IDk7XG5mdW5jdGlvbiBnZXRBbGxvY2F0ZVdpdGhTZWVkRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VTMyRW5jb2RlcigpLmVuY29kZShBTExPQ0FURV9XSVRIX1NFRURfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRBbGxvY2F0ZVdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkVuY29kZXIoKV0sXG4gICAgICBbXCJiYXNlXCIsIGdldEFkZHJlc3NFbmNvZGVyKCldLFxuICAgICAgW1wic2VlZFwiLCBhZGRFbmNvZGVyU2l6ZVByZWZpeChnZXRVdGY4RW5jb2RlcigpLCBnZXRVNjRFbmNvZGVyKCkpXSxcbiAgICAgIFtcInNwYWNlXCIsIGdldFU2NEVuY29kZXIoKV0sXG4gICAgICBbXCJwcm9ncmFtQWRkcmVzc1wiLCBnZXRBZGRyZXNzRW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IEFMTE9DQVRFX1dJVEhfU0VFRF9ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRBbGxvY2F0ZVdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VTMyRGVjb2RlcigpXSxcbiAgICBbXCJiYXNlXCIsIGdldEFkZHJlc3NEZWNvZGVyKCldLFxuICAgIFtcInNlZWRcIiwgYWRkRGVjb2RlclNpemVQcmVmaXgoZ2V0VXRmOERlY29kZXIoKSwgZ2V0VTY0RGVjb2RlcigpKV0sXG4gICAgW1wic3BhY2VcIiwgZ2V0VTY0RGVjb2RlcigpXSxcbiAgICBbXCJwcm9ncmFtQWRkcmVzc1wiLCBnZXRBZGRyZXNzRGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEFsbG9jYXRlV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRBbGxvY2F0ZVdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEFsbG9jYXRlV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEFsbG9jYXRlV2l0aFNlZWRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBTWVNURU1fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG5ld0FjY291bnQ6IHsgdmFsdWU6IGlucHV0Lm5ld0FjY291bnQgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIGJhc2VBY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5iYXNlQWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubmV3QWNjb3VudCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5iYXNlQWNjb3VudClcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldEFsbG9jYXRlV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKFxuICAgICAgYXJnc1xuICAgIClcbiAgfTtcbiAgcmV0dXJuIGluc3RydWN0aW9uO1xufVxuZnVuY3Rpb24gcGFyc2VBbGxvY2F0ZVdpdGhTZWVkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgbmV3QWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIGJhc2VBY2NvdW50OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRBbGxvY2F0ZVdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIEFTU0lHTl9ESVNDUklNSU5BVE9SID0gMTtcbmZ1bmN0aW9uIGdldEFzc2lnbkRpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoQVNTSUdOX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0QXNzaWduSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkVuY29kZXIoKV0sXG4gICAgICBbXCJwcm9ncmFtQWRkcmVzc1wiLCBnZXRBZGRyZXNzRW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IEFTU0lHTl9ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRBc3NpZ25JbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldLFxuICAgIFtcInByb2dyYW1BZGRyZXNzXCIsIGdldEFkZHJlc3NEZWNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0QXNzaWduSW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0QXNzaWduSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEFzc2lnbkluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0QXNzaWduSW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gU1lTVEVNX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtnZXRBY2NvdW50TWV0YShhY2NvdW50cy5hY2NvdW50KV0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0QXNzaWduSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlQXNzaWduSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgYWNjb3VudDogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0QXNzaWduSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIEFTU0lHTl9XSVRIX1NFRURfRElTQ1JJTUlOQVRPUiA9IDEwO1xuZnVuY3Rpb24gZ2V0QXNzaWduV2l0aFNlZWREaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVMzJFbmNvZGVyKCkuZW5jb2RlKEFTU0lHTl9XSVRIX1NFRURfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRBc3NpZ25XaXRoU2VlZEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1xuICAgICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJFbmNvZGVyKCldLFxuICAgICAgW1wiYmFzZVwiLCBnZXRBZGRyZXNzRW5jb2RlcigpXSxcbiAgICAgIFtcInNlZWRcIiwgYWRkRW5jb2RlclNpemVQcmVmaXgoZ2V0VXRmOEVuY29kZXIoKSwgZ2V0VTY0RW5jb2RlcigpKV0sXG4gICAgICBbXCJwcm9ncmFtQWRkcmVzc1wiLCBnZXRBZGRyZXNzRW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IEFTU0lHTl9XSVRIX1NFRURfRElTQ1JJTUlOQVRPUiB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0QXNzaWduV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldLFxuICAgIFtcImJhc2VcIiwgZ2V0QWRkcmVzc0RlY29kZXIoKV0sXG4gICAgW1wic2VlZFwiLCBhZGREZWNvZGVyU2l6ZVByZWZpeChnZXRVdGY4RGVjb2RlcigpLCBnZXRVNjREZWNvZGVyKCkpXSxcbiAgICBbXCJwcm9ncmFtQWRkcmVzc1wiLCBnZXRBZGRyZXNzRGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEFzc2lnbldpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0QXNzaWduV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0QXNzaWduV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEFzc2lnbldpdGhTZWVkSW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gU1lTVEVNX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBiYXNlQWNjb3VudDogeyB2YWx1ZTogaW5wdXQuYmFzZUFjY291bnQgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmFjY291bnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYmFzZUFjY291bnQpXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRBc3NpZ25XaXRoU2VlZEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUFzc2lnbldpdGhTZWVkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgYWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIGJhc2VBY2NvdW50OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRBc3NpZ25XaXRoU2VlZEluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoaW5zdHJ1Y3Rpb24uZGF0YSlcbiAgfTtcbn1cbnZhciBBVVRIT1JJWkVfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SID0gNztcbmZ1bmN0aW9uIGdldEF1dGhvcml6ZU5vbmNlQWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoQVVUSE9SSVpFX05PTkNFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRBdXRob3JpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VTMyRW5jb2RlcigpXSxcbiAgICAgIFtcIm5ld05vbmNlQXV0aG9yaXR5XCIsIGdldEFkZHJlc3NFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoe1xuICAgICAgLi4udmFsdWUsXG4gICAgICBkaXNjcmltaW5hdG9yOiBBVVRIT1JJWkVfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEF1dGhvcml6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkRlY29kZXIoKV0sXG4gICAgW1wibmV3Tm9uY2VBdXRob3JpdHlcIiwgZ2V0QWRkcmVzc0RlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRBdXRob3JpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRBdXRob3JpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0QXV0aG9yaXplTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRBdXRob3JpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBTWVNURU1fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG5vbmNlQWNjb3VudDogeyB2YWx1ZTogaW5wdXQubm9uY2VBY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBub25jZUF1dGhvcml0eTogeyB2YWx1ZTogaW5wdXQubm9uY2VBdXRob3JpdHkgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm5vbmNlQWNjb3VudCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5ub25jZUF1dGhvcml0eSlcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldEF1dGhvcml6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUF1dGhvcml6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG5vbmNlQWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG5vbmNlQXV0aG9yaXR5OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRBdXRob3JpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKFxuICAgICAgaW5zdHJ1Y3Rpb24uZGF0YVxuICAgIClcbiAgfTtcbn1cbnZhciBDUkVBVEVfQUNDT1VOVF9ESVNDUklNSU5BVE9SID0gMDtcbmZ1bmN0aW9uIGdldENyZWF0ZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVMzJFbmNvZGVyKCkuZW5jb2RlKENSRUFURV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0Q3JlYXRlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1xuICAgICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJFbmNvZGVyKCldLFxuICAgICAgW1wibGFtcG9ydHNcIiwgZ2V0VTY0RW5jb2RlcigpXSxcbiAgICAgIFtcInNwYWNlXCIsIGdldFU2NEVuY29kZXIoKV0sXG4gICAgICBbXCJwcm9ncmFtQWRkcmVzc1wiLCBnZXRBZGRyZXNzRW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IENSRUFURV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldENyZWF0ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldLFxuICAgIFtcImxhbXBvcnRzXCIsIGdldFU2NERlY29kZXIoKV0sXG4gICAgW1wic3BhY2VcIiwgZ2V0VTY0RGVjb2RlcigpXSxcbiAgICBbXCJwcm9ncmFtQWRkcmVzc1wiLCBnZXRBZGRyZXNzRGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldENyZWF0ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRDcmVhdGVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldENyZWF0ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldENyZWF0ZUFjY291bnRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBTWVNURU1fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIHBheWVyOiB7IHZhbHVlOiBpbnB1dC5wYXllciA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgbmV3QWNjb3VudDogeyB2YWx1ZTogaW5wdXQubmV3QWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCBieXRlRGVsdGEgPSBbTnVtYmVyKGFyZ3Muc3BhY2UpICsgQkFTRV9BQ0NPVU5UX1NJWkVdLnJlZHVjZShcbiAgICAoYSwgYikgPT4gYSArIGIsXG4gICAgMFxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5wYXllciksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5uZXdBY2NvdW50KVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0Q3JlYXRlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IC4uLmluc3RydWN0aW9uLCBieXRlRGVsdGEgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUNyZWF0ZUFjY291bnRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBwYXllcjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG5ld0FjY291bnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldENyZWF0ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgQ1JFQVRFX0FDQ09VTlRfV0lUSF9TRUVEX0RJU0NSSU1JTkFUT1IgPSAzO1xuZnVuY3Rpb24gZ2V0Q3JlYXRlQWNjb3VudFdpdGhTZWVkRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VTMyRW5jb2RlcigpLmVuY29kZShDUkVBVEVfQUNDT1VOVF9XSVRIX1NFRURfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBY2NvdW50V2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VTMyRW5jb2RlcigpXSxcbiAgICAgIFtcImJhc2VcIiwgZ2V0QWRkcmVzc0VuY29kZXIoKV0sXG4gICAgICBbXCJzZWVkXCIsIGFkZEVuY29kZXJTaXplUHJlZml4KGdldFV0ZjhFbmNvZGVyKCksIGdldFU2NEVuY29kZXIoKSldLFxuICAgICAgW1wiYW1vdW50XCIsIGdldFU2NEVuY29kZXIoKV0sXG4gICAgICBbXCJzcGFjZVwiLCBnZXRVNjRFbmNvZGVyKCldLFxuICAgICAgW1wicHJvZ3JhbUFkZHJlc3NcIiwgZ2V0QWRkcmVzc0VuY29kZXIoKV1cbiAgICBdKSxcbiAgICAodmFsdWUpID0+ICh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGRpc2NyaW1pbmF0b3I6IENSRUFURV9BQ0NPVU5UX1dJVEhfU0VFRF9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldENyZWF0ZUFjY291bnRXaXRoU2VlZEluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkRlY29kZXIoKV0sXG4gICAgW1wiYmFzZVwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXSxcbiAgICBbXCJzZWVkXCIsIGFkZERlY29kZXJTaXplUHJlZml4KGdldFV0ZjhEZWNvZGVyKCksIGdldFU2NERlY29kZXIoKSldLFxuICAgIFtcImFtb3VudFwiLCBnZXRVNjREZWNvZGVyKCldLFxuICAgIFtcInNwYWNlXCIsIGdldFU2NERlY29kZXIoKV0sXG4gICAgW1wicHJvZ3JhbUFkZHJlc3NcIiwgZ2V0QWRkcmVzc0RlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBY2NvdW50V2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRDcmVhdGVBY2NvdW50V2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0Q3JlYXRlQWNjb3VudFdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBY2NvdW50V2l0aFNlZWRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBTWVNURU1fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIHBheWVyOiB7IHZhbHVlOiBpbnB1dC5wYXllciA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgbmV3QWNjb3VudDogeyB2YWx1ZTogaW5wdXQubmV3QWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgYmFzZUFjY291bnQ6IHsgdmFsdWU6IGlucHV0LmJhc2VBY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5wYXllciksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5uZXdBY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmJhc2VBY2NvdW50KVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0Q3JlYXRlQWNjb3VudFdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlQ3JlYXRlQWNjb3VudFdpdGhTZWVkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgcGF5ZXI6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBuZXdBY2NvdW50OiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgYmFzZUFjY291bnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldENyZWF0ZUFjY291bnRXaXRoU2VlZEluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoXG4gICAgICBpbnN0cnVjdGlvbi5kYXRhXG4gICAgKVxuICB9O1xufVxudmFyIElOSVRJQUxJWkVfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SID0gNjtcbmZ1bmN0aW9uIGdldEluaXRpYWxpemVOb25jZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVMzJFbmNvZGVyKCkuZW5jb2RlKElOSVRJQUxJWkVfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VTMyRW5jb2RlcigpXSxcbiAgICAgIFtcIm5vbmNlQXV0aG9yaXR5XCIsIGdldEFkZHJlc3NFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoe1xuICAgICAgLi4udmFsdWUsXG4gICAgICBkaXNjcmltaW5hdG9yOiBJTklUSUFMSVpFX05PTkNFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUlxuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VTMyRGVjb2RlcigpXSxcbiAgICBbXCJub25jZUF1dGhvcml0eVwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRJbml0aWFsaXplTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEluaXRpYWxpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBTWVNURU1fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG5vbmNlQWNjb3VudDogeyB2YWx1ZTogaW5wdXQubm9uY2VBY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICByZWNlbnRCbG9ja2hhc2hlc1N5c3Zhcjoge1xuICAgICAgdmFsdWU6IGlucHV0LnJlY2VudEJsb2NraGFzaGVzU3lzdmFyID8/IG51bGwsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgcmVudFN5c3ZhcjogeyB2YWx1ZTogaW5wdXQucmVudFN5c3ZhciA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgaWYgKCFhY2NvdW50cy5yZWNlbnRCbG9ja2hhc2hlc1N5c3Zhci52YWx1ZSkge1xuICAgIGFjY291bnRzLnJlY2VudEJsb2NraGFzaGVzU3lzdmFyLnZhbHVlID0gXCJTeXN2YXJSZWNlbnRCMW9ja0hhc2hlczExMTExMTExMTExMTExMTExMTExXCI7XG4gIH1cbiAgaWYgKCFhY2NvdW50cy5yZW50U3lzdmFyLnZhbHVlKSB7XG4gICAgYWNjb3VudHMucmVudFN5c3Zhci52YWx1ZSA9IFwiU3lzdmFyUmVudDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVwiO1xuICB9XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm5vbmNlQWNjb3VudCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5yZWNlbnRCbG9ja2hhc2hlc1N5c3ZhciksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5yZW50U3lzdmFyKVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0SW5pdGlhbGl6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUluaXRpYWxpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBub25jZUFjY291bnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICByZWNlbnRCbG9ja2hhc2hlc1N5c3ZhcjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIHJlbnRTeXN2YXI6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKFxuICAgICAgaW5zdHJ1Y3Rpb24uZGF0YVxuICAgIClcbiAgfTtcbn1cbnZhciBUUkFOU0ZFUl9TT0xfRElTQ1JJTUlOQVRPUiA9IDI7XG5mdW5jdGlvbiBnZXRUcmFuc2ZlclNvbERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoVFJBTlNGRVJfU09MX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNmZXJTb2xJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VTMyRW5jb2RlcigpXSxcbiAgICAgIFtcImFtb3VudFwiLCBnZXRVNjRFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogVFJBTlNGRVJfU09MX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVyU29sSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VTMyRGVjb2RlcigpXSxcbiAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVyU29sSW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0VHJhbnNmZXJTb2xJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0VHJhbnNmZXJTb2xJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVyU29sSW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gU1lTVEVNX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBzb3VyY2U6IHsgdmFsdWU6IGlucHV0LnNvdXJjZSA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgZGVzdGluYXRpb246IHsgdmFsdWU6IGlucHV0LmRlc3RpbmF0aW9uID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnNvdXJjZSksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5kZXN0aW5hdGlvbilcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldFRyYW5zZmVyU29sSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlVHJhbnNmZXJTb2xJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBzb3VyY2U6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBkZXN0aW5hdGlvbjogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0VHJhbnNmZXJTb2xJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgVFJBTlNGRVJfU09MX1dJVEhfU0VFRF9ESVNDUklNSU5BVE9SID0gMTE7XG5mdW5jdGlvbiBnZXRUcmFuc2ZlclNvbFdpdGhTZWVkRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VTMyRW5jb2RlcigpLmVuY29kZShUUkFOU0ZFUl9TT0xfV0lUSF9TRUVEX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNmZXJTb2xXaXRoU2VlZEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1xuICAgICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJFbmNvZGVyKCldLFxuICAgICAgW1wiYW1vdW50XCIsIGdldFU2NEVuY29kZXIoKV0sXG4gICAgICBbXCJmcm9tU2VlZFwiLCBhZGRFbmNvZGVyU2l6ZVByZWZpeChnZXRVdGY4RW5jb2RlcigpLCBnZXRVNjRFbmNvZGVyKCkpXSxcbiAgICAgIFtcImZyb21Pd25lclwiLCBnZXRBZGRyZXNzRW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHtcbiAgICAgIC4uLnZhbHVlLFxuICAgICAgZGlzY3JpbWluYXRvcjogVFJBTlNGRVJfU09MX1dJVEhfU0VFRF9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVyU29sV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldLFxuICAgIFtcImFtb3VudFwiLCBnZXRVNjREZWNvZGVyKCldLFxuICAgIFtcImZyb21TZWVkXCIsIGFkZERlY29kZXJTaXplUHJlZml4KGdldFV0ZjhEZWNvZGVyKCksIGdldFU2NERlY29kZXIoKSldLFxuICAgIFtcImZyb21Pd25lclwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVyU29sV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRUcmFuc2ZlclNvbFdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldFRyYW5zZmVyU29sV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVyU29sV2l0aFNlZWRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBTWVNURU1fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIHNvdXJjZTogeyB2YWx1ZTogaW5wdXQuc291cmNlID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBiYXNlQWNjb3VudDogeyB2YWx1ZTogaW5wdXQuYmFzZUFjY291bnQgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfSxcbiAgICBkZXN0aW5hdGlvbjogeyB2YWx1ZTogaW5wdXQuZGVzdGluYXRpb24gPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuc291cmNlKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmJhc2VBY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmRlc3RpbmF0aW9uKVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0VHJhbnNmZXJTb2xXaXRoU2VlZEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZVRyYW5zZmVyU29sV2l0aFNlZWRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBzb3VyY2U6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBiYXNlQWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIGRlc3RpbmF0aW9uOiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRUcmFuc2ZlclNvbFdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShcbiAgICAgIGluc3RydWN0aW9uLmRhdGFcbiAgICApXG4gIH07XG59XG52YXIgVVBHUkFERV9OT05DRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IgPSAxMjtcbmZ1bmN0aW9uIGdldFVwZ3JhZGVOb25jZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVMzJFbmNvZGVyKCkuZW5jb2RlKFVQR1JBREVfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldFVwZ3JhZGVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkVuY29kZXIoKV1dKSxcbiAgICAodmFsdWUpID0+ICh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGRpc2NyaW1pbmF0b3I6IFVQR1JBREVfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFVwZ3JhZGVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldXSk7XG59XG5mdW5jdGlvbiBnZXRVcGdyYWRlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0VXBncmFkZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSxcbiAgICBnZXRVcGdyYWRlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRVcGdyYWRlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gU1lTVEVNX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBub25jZUFjY291bnQ6IHsgdmFsdWU6IGlucHV0Lm5vbmNlQWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubm9uY2VBY2NvdW50KV0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0VXBncmFkZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoe30pXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlVXBncmFkZU5vbmNlQWNjb3VudEluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG5vbmNlQWNjb3VudDogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0VXBncmFkZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoXG4gICAgICBpbnN0cnVjdGlvbi5kYXRhXG4gICAgKVxuICB9O1xufVxudmFyIFdJVEhEUkFXX05PTkNFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUiA9IDU7XG5mdW5jdGlvbiBnZXRXaXRoZHJhd05vbmNlQWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFUzMkVuY29kZXIoKS5lbmNvZGUoV0lUSERSQVdfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldFdpdGhkcmF3Tm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFUzMkVuY29kZXIoKV0sXG4gICAgICBbXCJ3aXRoZHJhd0Ftb3VudFwiLCBnZXRVNjRFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoe1xuICAgICAgLi4udmFsdWUsXG4gICAgICBkaXNjcmltaW5hdG9yOiBXSVRIRFJBV19OT05DRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1JcbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0V2l0aGRyYXdOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVMzJEZWNvZGVyKCldLFxuICAgIFtcIndpdGhkcmF3QW1vdW50XCIsIGdldFU2NERlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldFdpdGhkcmF3Tm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldFdpdGhkcmF3Tm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFNZU1RFTV9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgbm9uY2VBY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5ub25jZUFjY291bnQgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIHJlY2lwaWVudEFjY291bnQ6IHtcbiAgICAgIHZhbHVlOiBpbnB1dC5yZWNpcGllbnRBY2NvdW50ID8/IG51bGwsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICByZWNlbnRCbG9ja2hhc2hlc1N5c3Zhcjoge1xuICAgICAgdmFsdWU6IGlucHV0LnJlY2VudEJsb2NraGFzaGVzU3lzdmFyID8/IG51bGwsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgcmVudFN5c3ZhcjogeyB2YWx1ZTogaW5wdXQucmVudFN5c3ZhciA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9LFxuICAgIG5vbmNlQXV0aG9yaXR5OiB7IHZhbHVlOiBpbnB1dC5ub25jZUF1dGhvcml0eSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgaWYgKCFhY2NvdW50cy5yZWNlbnRCbG9ja2hhc2hlc1N5c3Zhci52YWx1ZSkge1xuICAgIGFjY291bnRzLnJlY2VudEJsb2NraGFzaGVzU3lzdmFyLnZhbHVlID0gXCJTeXN2YXJSZWNlbnRCMW9ja0hhc2hlczExMTExMTExMTExMTExMTExMTExXCI7XG4gIH1cbiAgaWYgKCFhY2NvdW50cy5yZW50U3lzdmFyLnZhbHVlKSB7XG4gICAgYWNjb3VudHMucmVudFN5c3Zhci52YWx1ZSA9IFwiU3lzdmFyUmVudDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVwiO1xuICB9XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm5vbmNlQWNjb3VudCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5yZWNpcGllbnRBY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnJlY2VudEJsb2NraGFzaGVzU3lzdmFyKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnJlbnRTeXN2YXIpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubm9uY2VBdXRob3JpdHkpXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZVdpdGhkcmF3Tm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgbm9uY2VBY2NvdW50OiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgcmVjaXBpZW50QWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIHJlY2VudEJsb2NraGFzaGVzU3lzdmFyOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgcmVudFN5c3ZhcjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG5vbmNlQXV0aG9yaXR5OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoXG4gICAgICBpbnN0cnVjdGlvbi5kYXRhXG4gICAgKVxuICB9O1xufVxuXG5leHBvcnQgeyBBRFZBTkNFX05PTkNFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUiwgQUxMT0NBVEVfRElTQ1JJTUlOQVRPUiwgQUxMT0NBVEVfV0lUSF9TRUVEX0RJU0NSSU1JTkFUT1IsIEFTU0lHTl9ESVNDUklNSU5BVE9SLCBBU1NJR05fV0lUSF9TRUVEX0RJU0NSSU1JTkFUT1IsIEFVVEhPUklaRV9OT05DRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IsIENSRUFURV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IsIENSRUFURV9BQ0NPVU5UX1dJVEhfU0VFRF9ESVNDUklNSU5BVE9SLCBJTklUSUFMSVpFX05PTkNFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUiwgTm9uY2VTdGF0ZSwgTm9uY2VWZXJzaW9uLCBTWVNURU1fRVJST1JfX0FDQ09VTlRfQUxSRUFEWV9JTl9VU0UsIFNZU1RFTV9FUlJPUl9fQUREUkVTU19XSVRIX1NFRURfTUlTTUFUQ0gsIFNZU1RFTV9FUlJPUl9fSU5WQUxJRF9BQ0NPVU5UX0RBVEFfTEVOR1RILCBTWVNURU1fRVJST1JfX0lOVkFMSURfUFJPR1JBTV9JRCwgU1lTVEVNX0VSUk9SX19NQVhfU0VFRF9MRU5HVEhfRVhDRUVERUQsIFNZU1RFTV9FUlJPUl9fTk9OQ0VfQkxPQ0tIQVNIX05PVF9FWFBJUkVELCBTWVNURU1fRVJST1JfX05PTkNFX05PX1JFQ0VOVF9CTE9DS0hBU0hFUywgU1lTVEVNX0VSUk9SX19OT05DRV9VTkVYUEVDVEVEX0JMT0NLSEFTSF9WQUxVRSwgU1lTVEVNX0VSUk9SX19SRVNVTFRfV0lUSF9ORUdBVElWRV9MQU1QT1JUUywgU1lTVEVNX1BST0dSQU1fQUREUkVTUywgU3lzdGVtQWNjb3VudCwgU3lzdGVtSW5zdHJ1Y3Rpb24sIFRSQU5TRkVSX1NPTF9ESVNDUklNSU5BVE9SLCBUUkFOU0ZFUl9TT0xfV0lUSF9TRUVEX0RJU0NSSU1JTkFUT1IsIFVQR1JBREVfTk9OQ0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SLCBXSVRIRFJBV19OT05DRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IsIGRlY29kZU5vbmNlLCBmZXRjaEFsbE1heWJlTm9uY2UsIGZldGNoQWxsTm9uY2UsIGZldGNoTWF5YmVOb25jZSwgZmV0Y2hOb25jZSwgZ2V0QWR2YW5jZU5vbmNlQWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0QWR2YW5jZU5vbmNlQWNjb3VudEluc3RydWN0aW9uLCBnZXRBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEFkdmFuY2VOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0QWxsb2NhdGVEaXNjcmltaW5hdG9yQnl0ZXMsIGdldEFsbG9jYXRlSW5zdHJ1Y3Rpb24sIGdldEFsbG9jYXRlSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEFsbG9jYXRlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0QWxsb2NhdGVJbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRBbGxvY2F0ZVdpdGhTZWVkRGlzY3JpbWluYXRvckJ5dGVzLCBnZXRBbGxvY2F0ZVdpdGhTZWVkSW5zdHJ1Y3Rpb24sIGdldEFsbG9jYXRlV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0QWxsb2NhdGVXaXRoU2VlZEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldEFsbG9jYXRlV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRBc3NpZ25EaXNjcmltaW5hdG9yQnl0ZXMsIGdldEFzc2lnbkluc3RydWN0aW9uLCBnZXRBc3NpZ25JbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0QXNzaWduSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0QXNzaWduSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0QXNzaWduV2l0aFNlZWREaXNjcmltaW5hdG9yQnl0ZXMsIGdldEFzc2lnbldpdGhTZWVkSW5zdHJ1Y3Rpb24sIGdldEFzc2lnbldpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEFzc2lnbldpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0QXNzaWduV2l0aFNlZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRBdXRob3JpemVOb25jZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMsIGdldEF1dGhvcml6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uLCBnZXRBdXRob3JpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0QXV0aG9yaXplTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0QXV0aG9yaXplTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0Q3JlYXRlQWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0Q3JlYXRlQWNjb3VudEluc3RydWN0aW9uLCBnZXRDcmVhdGVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldENyZWF0ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRDcmVhdGVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0Q3JlYXRlQWNjb3VudFdpdGhTZWVkRGlzY3JpbWluYXRvckJ5dGVzLCBnZXRDcmVhdGVBY2NvdW50V2l0aFNlZWRJbnN0cnVjdGlvbiwgZ2V0Q3JlYXRlQWNjb3VudFdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldENyZWF0ZUFjY291bnRXaXRoU2VlZEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldENyZWF0ZUFjY291bnRXaXRoU2VlZEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldEluaXRpYWxpemVOb25jZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMsIGdldEluaXRpYWxpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbiwgZ2V0SW5pdGlhbGl6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRJbml0aWFsaXplTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0SW5pdGlhbGl6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldE5vbmNlQ29kZWMsIGdldE5vbmNlRGVjb2RlciwgZ2V0Tm9uY2VFbmNvZGVyLCBnZXROb25jZVNpemUsIGdldE5vbmNlU3RhdGVDb2RlYywgZ2V0Tm9uY2VTdGF0ZURlY29kZXIsIGdldE5vbmNlU3RhdGVFbmNvZGVyLCBnZXROb25jZVZlcnNpb25Db2RlYywgZ2V0Tm9uY2VWZXJzaW9uRGVjb2RlciwgZ2V0Tm9uY2VWZXJzaW9uRW5jb2RlciwgZ2V0U3lzdGVtRXJyb3JNZXNzYWdlLCBnZXRUcmFuc2ZlclNvbERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0VHJhbnNmZXJTb2xJbnN0cnVjdGlvbiwgZ2V0VHJhbnNmZXJTb2xJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0VHJhbnNmZXJTb2xJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRUcmFuc2ZlclNvbEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldFRyYW5zZmVyU29sV2l0aFNlZWREaXNjcmltaW5hdG9yQnl0ZXMsIGdldFRyYW5zZmVyU29sV2l0aFNlZWRJbnN0cnVjdGlvbiwgZ2V0VHJhbnNmZXJTb2xXaXRoU2VlZEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRUcmFuc2ZlclNvbFdpdGhTZWVkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0VHJhbnNmZXJTb2xXaXRoU2VlZEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldFVwZ3JhZGVOb25jZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMsIGdldFVwZ3JhZGVOb25jZUFjY291bnRJbnN0cnVjdGlvbiwgZ2V0VXBncmFkZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRVcGdyYWRlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0VXBncmFkZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldFdpdGhkcmF3Tm9uY2VBY2NvdW50RGlzY3JpbWluYXRvckJ5dGVzLCBnZXRXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uLCBnZXRXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldFdpdGhkcmF3Tm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgaWRlbnRpZnlTeXN0ZW1JbnN0cnVjdGlvbiwgaXNTeXN0ZW1FcnJvciwgcGFyc2VBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24sIHBhcnNlQWxsb2NhdGVJbnN0cnVjdGlvbiwgcGFyc2VBbGxvY2F0ZVdpdGhTZWVkSW5zdHJ1Y3Rpb24sIHBhcnNlQXNzaWduSW5zdHJ1Y3Rpb24sIHBhcnNlQXNzaWduV2l0aFNlZWRJbnN0cnVjdGlvbiwgcGFyc2VBdXRob3JpemVOb25jZUFjY291bnRJbnN0cnVjdGlvbiwgcGFyc2VDcmVhdGVBY2NvdW50SW5zdHJ1Y3Rpb24sIHBhcnNlQ3JlYXRlQWNjb3VudFdpdGhTZWVkSW5zdHJ1Y3Rpb24sIHBhcnNlSW5pdGlhbGl6ZU5vbmNlQWNjb3VudEluc3RydWN0aW9uLCBwYXJzZVRyYW5zZmVyU29sSW5zdHJ1Y3Rpb24sIHBhcnNlVHJhbnNmZXJTb2xXaXRoU2VlZEluc3RydWN0aW9uLCBwYXJzZVVwZ3JhZGVOb25jZUFjY291bnRJbnN0cnVjdGlvbiwgcGFyc2VXaXRoZHJhd05vbmNlQWNjb3VudEluc3RydWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiaW1wb3J0IHsgZ2V0U3RydWN0RW5jb2RlciwgZ2V0T3B0aW9uRW5jb2RlciwgZ2V0QWRkcmVzc0VuY29kZXIsIGdldFUzMkVuY29kZXIsIGdldFU2NEVuY29kZXIsIGdldFU4RW5jb2RlciwgZ2V0Qm9vbGVhbkVuY29kZXIsIGdldFN0cnVjdERlY29kZXIsIGdldE9wdGlvbkRlY29kZXIsIGdldEFkZHJlc3NEZWNvZGVyLCBnZXRVMzJEZWNvZGVyLCBnZXRVNjREZWNvZGVyLCBnZXRVOERlY29kZXIsIGdldEJvb2xlYW5EZWNvZGVyLCBjb21iaW5lQ29kZWMsIGRlY29kZUFjY291bnQsIGFzc2VydEFjY291bnRFeGlzdHMsIGZldGNoRW5jb2RlZEFjY291bnQsIGFzc2VydEFjY291bnRzRXhpc3QsIGZldGNoRW5jb2RlZEFjY291bnRzLCBnZXRBcnJheUVuY29kZXIsIGdldEFycmF5RGVjb2RlciwgZ2V0RW51bUVuY29kZXIsIGdldEVudW1EZWNvZGVyLCBjb250YWluc0J5dGVzLCBpc1Byb2dyYW1FcnJvciwgdHJhbnNmb3JtRW5jb2RlciwgQWNjb3VudFJvbGUsIGdldFByb2dyYW1EZXJpdmVkQWRkcmVzcywgbm9uZSwgZ2V0VXRmOEVuY29kZXIsIGdldFV0ZjhEZWNvZGVyLCB1cGdyYWRlUm9sZVRvU2lnbmVyLCBpc1RyYW5zYWN0aW9uU2lnbmVyIGFzIGlzVHJhbnNhY3Rpb25TaWduZXIkMSB9IGZyb20gJ0Bzb2xhbmEva2l0JztcblxuLy8gc3JjL2dlbmVyYXRlZC9hY2NvdW50cy9taW50LnRzXG5mdW5jdGlvbiBnZXRNaW50RW5jb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdEVuY29kZXIoW1xuICAgIFtcbiAgICAgIFwibWludEF1dGhvcml0eVwiLFxuICAgICAgZ2V0T3B0aW9uRW5jb2RlcihnZXRBZGRyZXNzRW5jb2RlcigpLCB7XG4gICAgICAgIHByZWZpeDogZ2V0VTMyRW5jb2RlcigpLFxuICAgICAgICBub25lVmFsdWU6IFwiemVyb2VzXCJcbiAgICAgIH0pXG4gICAgXSxcbiAgICBbXCJzdXBwbHlcIiwgZ2V0VTY0RW5jb2RlcigpXSxcbiAgICBbXCJkZWNpbWFsc1wiLCBnZXRVOEVuY29kZXIoKV0sXG4gICAgW1wiaXNJbml0aWFsaXplZFwiLCBnZXRCb29sZWFuRW5jb2RlcigpXSxcbiAgICBbXG4gICAgICBcImZyZWV6ZUF1dGhvcml0eVwiLFxuICAgICAgZ2V0T3B0aW9uRW5jb2RlcihnZXRBZGRyZXNzRW5jb2RlcigpLCB7XG4gICAgICAgIHByZWZpeDogZ2V0VTMyRW5jb2RlcigpLFxuICAgICAgICBub25lVmFsdWU6IFwiemVyb2VzXCJcbiAgICAgIH0pXG4gICAgXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldE1pbnREZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1xuICAgICAgXCJtaW50QXV0aG9yaXR5XCIsXG4gICAgICBnZXRPcHRpb25EZWNvZGVyKGdldEFkZHJlc3NEZWNvZGVyKCksIHtcbiAgICAgICAgcHJlZml4OiBnZXRVMzJEZWNvZGVyKCksXG4gICAgICAgIG5vbmVWYWx1ZTogXCJ6ZXJvZXNcIlxuICAgICAgfSlcbiAgICBdLFxuICAgIFtcInN1cHBseVwiLCBnZXRVNjREZWNvZGVyKCldLFxuICAgIFtcImRlY2ltYWxzXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJpc0luaXRpYWxpemVkXCIsIGdldEJvb2xlYW5EZWNvZGVyKCldLFxuICAgIFtcbiAgICAgIFwiZnJlZXplQXV0aG9yaXR5XCIsXG4gICAgICBnZXRPcHRpb25EZWNvZGVyKGdldEFkZHJlc3NEZWNvZGVyKCksIHtcbiAgICAgICAgcHJlZml4OiBnZXRVMzJEZWNvZGVyKCksXG4gICAgICAgIG5vbmVWYWx1ZTogXCJ6ZXJvZXNcIlxuICAgICAgfSlcbiAgICBdXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0TWludENvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldE1pbnRFbmNvZGVyKCksIGdldE1pbnREZWNvZGVyKCkpO1xufVxuZnVuY3Rpb24gZGVjb2RlTWludChlbmNvZGVkQWNjb3VudCkge1xuICByZXR1cm4gZGVjb2RlQWNjb3VudChcbiAgICBlbmNvZGVkQWNjb3VudCxcbiAgICBnZXRNaW50RGVjb2RlcigpXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaE1pbnQocnBjLCBhZGRyZXNzLCBjb25maWcpIHtcbiAgY29uc3QgbWF5YmVBY2NvdW50ID0gYXdhaXQgZmV0Y2hNYXliZU1pbnQocnBjLCBhZGRyZXNzLCBjb25maWcpO1xuICBhc3NlcnRBY2NvdW50RXhpc3RzKG1heWJlQWNjb3VudCk7XG4gIHJldHVybiBtYXliZUFjY291bnQ7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaE1heWJlTWludChycGMsIGFkZHJlc3MsIGNvbmZpZykge1xuICBjb25zdCBtYXliZUFjY291bnQgPSBhd2FpdCBmZXRjaEVuY29kZWRBY2NvdW50KHJwYywgYWRkcmVzcywgY29uZmlnKTtcbiAgcmV0dXJuIGRlY29kZU1pbnQobWF5YmVBY2NvdW50KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQWxsTWludChycGMsIGFkZHJlc3NlcywgY29uZmlnKSB7XG4gIGNvbnN0IG1heWJlQWNjb3VudHMgPSBhd2FpdCBmZXRjaEFsbE1heWJlTWludChycGMsIGFkZHJlc3NlcywgY29uZmlnKTtcbiAgYXNzZXJ0QWNjb3VudHNFeGlzdChtYXliZUFjY291bnRzKTtcbiAgcmV0dXJuIG1heWJlQWNjb3VudHM7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFsbE1heWJlTWludChycGMsIGFkZHJlc3NlcywgY29uZmlnKSB7XG4gIGNvbnN0IG1heWJlQWNjb3VudHMgPSBhd2FpdCBmZXRjaEVuY29kZWRBY2NvdW50cyhycGMsIGFkZHJlc3NlcywgY29uZmlnKTtcbiAgcmV0dXJuIG1heWJlQWNjb3VudHMubWFwKChtYXliZUFjY291bnQpID0+IGRlY29kZU1pbnQobWF5YmVBY2NvdW50KSk7XG59XG5mdW5jdGlvbiBnZXRNaW50U2l6ZSgpIHtcbiAgcmV0dXJuIDgyO1xufVxuZnVuY3Rpb24gZ2V0TXVsdGlzaWdFbmNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgW1wibVwiLCBnZXRVOEVuY29kZXIoKV0sXG4gICAgW1wiblwiLCBnZXRVOEVuY29kZXIoKV0sXG4gICAgW1wiaXNJbml0aWFsaXplZFwiLCBnZXRCb29sZWFuRW5jb2RlcigpXSxcbiAgICBbXCJzaWduZXJzXCIsIGdldEFycmF5RW5jb2RlcihnZXRBZGRyZXNzRW5jb2RlcigpLCB7IHNpemU6IDExIH0pXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldE11bHRpc2lnRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcIm1cIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcIm5cIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcImlzSW5pdGlhbGl6ZWRcIiwgZ2V0Qm9vbGVhbkRlY29kZXIoKV0sXG4gICAgW1wic2lnbmVyc1wiLCBnZXRBcnJheURlY29kZXIoZ2V0QWRkcmVzc0RlY29kZXIoKSwgeyBzaXplOiAxMSB9KV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRNdWx0aXNpZ0NvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldE11bHRpc2lnRW5jb2RlcigpLCBnZXRNdWx0aXNpZ0RlY29kZXIoKSk7XG59XG5mdW5jdGlvbiBkZWNvZGVNdWx0aXNpZyhlbmNvZGVkQWNjb3VudCkge1xuICByZXR1cm4gZGVjb2RlQWNjb3VudChcbiAgICBlbmNvZGVkQWNjb3VudCxcbiAgICBnZXRNdWx0aXNpZ0RlY29kZXIoKVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNdWx0aXNpZyhycGMsIGFkZHJlc3MsIGNvbmZpZykge1xuICBjb25zdCBtYXliZUFjY291bnQgPSBhd2FpdCBmZXRjaE1heWJlTXVsdGlzaWcocnBjLCBhZGRyZXNzLCBjb25maWcpO1xuICBhc3NlcnRBY2NvdW50RXhpc3RzKG1heWJlQWNjb3VudCk7XG4gIHJldHVybiBtYXliZUFjY291bnQ7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaE1heWJlTXVsdGlzaWcocnBjLCBhZGRyZXNzLCBjb25maWcpIHtcbiAgY29uc3QgbWF5YmVBY2NvdW50ID0gYXdhaXQgZmV0Y2hFbmNvZGVkQWNjb3VudChycGMsIGFkZHJlc3MsIGNvbmZpZyk7XG4gIHJldHVybiBkZWNvZGVNdWx0aXNpZyhtYXliZUFjY291bnQpO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbGxNdWx0aXNpZyhycGMsIGFkZHJlc3NlcywgY29uZmlnKSB7XG4gIGNvbnN0IG1heWJlQWNjb3VudHMgPSBhd2FpdCBmZXRjaEFsbE1heWJlTXVsdGlzaWcocnBjLCBhZGRyZXNzZXMsIGNvbmZpZyk7XG4gIGFzc2VydEFjY291bnRzRXhpc3QobWF5YmVBY2NvdW50cyk7XG4gIHJldHVybiBtYXliZUFjY291bnRzO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbGxNYXliZU11bHRpc2lnKHJwYywgYWRkcmVzc2VzLCBjb25maWcpIHtcbiAgY29uc3QgbWF5YmVBY2NvdW50cyA9IGF3YWl0IGZldGNoRW5jb2RlZEFjY291bnRzKHJwYywgYWRkcmVzc2VzLCBjb25maWcpO1xuICByZXR1cm4gbWF5YmVBY2NvdW50cy5tYXAoKG1heWJlQWNjb3VudCkgPT4gZGVjb2RlTXVsdGlzaWcobWF5YmVBY2NvdW50KSk7XG59XG5mdW5jdGlvbiBnZXRNdWx0aXNpZ1NpemUoKSB7XG4gIHJldHVybiAzNTU7XG59XG52YXIgQWNjb3VudFN0YXRlID0gLyogQF9fUFVSRV9fICovICgoQWNjb3VudFN0YXRlMikgPT4ge1xuICBBY2NvdW50U3RhdGUyW0FjY291bnRTdGF0ZTJbXCJVbmluaXRpYWxpemVkXCJdID0gMF0gPSBcIlVuaW5pdGlhbGl6ZWRcIjtcbiAgQWNjb3VudFN0YXRlMltBY2NvdW50U3RhdGUyW1wiSW5pdGlhbGl6ZWRcIl0gPSAxXSA9IFwiSW5pdGlhbGl6ZWRcIjtcbiAgQWNjb3VudFN0YXRlMltBY2NvdW50U3RhdGUyW1wiRnJvemVuXCJdID0gMl0gPSBcIkZyb3plblwiO1xuICByZXR1cm4gQWNjb3VudFN0YXRlMjtcbn0pKEFjY291bnRTdGF0ZSB8fCB7fSk7XG5mdW5jdGlvbiBnZXRBY2NvdW50U3RhdGVFbmNvZGVyKCkge1xuICByZXR1cm4gZ2V0RW51bUVuY29kZXIoQWNjb3VudFN0YXRlKTtcbn1cbmZ1bmN0aW9uIGdldEFjY291bnRTdGF0ZURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRFbnVtRGVjb2RlcihBY2NvdW50U3RhdGUpO1xufVxuZnVuY3Rpb24gZ2V0QWNjb3VudFN0YXRlQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoZ2V0QWNjb3VudFN0YXRlRW5jb2RlcigpLCBnZXRBY2NvdW50U3RhdGVEZWNvZGVyKCkpO1xufVxudmFyIEF1dGhvcml0eVR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChBdXRob3JpdHlUeXBlMikgPT4ge1xuICBBdXRob3JpdHlUeXBlMltBdXRob3JpdHlUeXBlMltcIk1pbnRUb2tlbnNcIl0gPSAwXSA9IFwiTWludFRva2Vuc1wiO1xuICBBdXRob3JpdHlUeXBlMltBdXRob3JpdHlUeXBlMltcIkZyZWV6ZUFjY291bnRcIl0gPSAxXSA9IFwiRnJlZXplQWNjb3VudFwiO1xuICBBdXRob3JpdHlUeXBlMltBdXRob3JpdHlUeXBlMltcIkFjY291bnRPd25lclwiXSA9IDJdID0gXCJBY2NvdW50T3duZXJcIjtcbiAgQXV0aG9yaXR5VHlwZTJbQXV0aG9yaXR5VHlwZTJbXCJDbG9zZUFjY291bnRcIl0gPSAzXSA9IFwiQ2xvc2VBY2NvdW50XCI7XG4gIHJldHVybiBBdXRob3JpdHlUeXBlMjtcbn0pKEF1dGhvcml0eVR5cGUgfHwge30pO1xuZnVuY3Rpb24gZ2V0QXV0aG9yaXR5VHlwZUVuY29kZXIoKSB7XG4gIHJldHVybiBnZXRFbnVtRW5jb2RlcihBdXRob3JpdHlUeXBlKTtcbn1cbmZ1bmN0aW9uIGdldEF1dGhvcml0eVR5cGVEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0RW51bURlY29kZXIoQXV0aG9yaXR5VHlwZSk7XG59XG5mdW5jdGlvbiBnZXRBdXRob3JpdHlUeXBlQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoZ2V0QXV0aG9yaXR5VHlwZUVuY29kZXIoKSwgZ2V0QXV0aG9yaXR5VHlwZURlY29kZXIoKSk7XG59XG5cbi8vIHNyYy9nZW5lcmF0ZWQvYWNjb3VudHMvdG9rZW4udHNcbmZ1bmN0aW9uIGdldFRva2VuRW5jb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdEVuY29kZXIoW1xuICAgIFtcIm1pbnRcIiwgZ2V0QWRkcmVzc0VuY29kZXIoKV0sXG4gICAgW1wib3duZXJcIiwgZ2V0QWRkcmVzc0VuY29kZXIoKV0sXG4gICAgW1wiYW1vdW50XCIsIGdldFU2NEVuY29kZXIoKV0sXG4gICAgW1xuICAgICAgXCJkZWxlZ2F0ZVwiLFxuICAgICAgZ2V0T3B0aW9uRW5jb2RlcihnZXRBZGRyZXNzRW5jb2RlcigpLCB7XG4gICAgICAgIHByZWZpeDogZ2V0VTMyRW5jb2RlcigpLFxuICAgICAgICBub25lVmFsdWU6IFwiemVyb2VzXCJcbiAgICAgIH0pXG4gICAgXSxcbiAgICBbXCJzdGF0ZVwiLCBnZXRBY2NvdW50U3RhdGVFbmNvZGVyKCldLFxuICAgIFtcbiAgICAgIFwiaXNOYXRpdmVcIixcbiAgICAgIGdldE9wdGlvbkVuY29kZXIoZ2V0VTY0RW5jb2RlcigpLCB7XG4gICAgICAgIHByZWZpeDogZ2V0VTMyRW5jb2RlcigpLFxuICAgICAgICBub25lVmFsdWU6IFwiemVyb2VzXCJcbiAgICAgIH0pXG4gICAgXSxcbiAgICBbXCJkZWxlZ2F0ZWRBbW91bnRcIiwgZ2V0VTY0RW5jb2RlcigpXSxcbiAgICBbXG4gICAgICBcImNsb3NlQXV0aG9yaXR5XCIsXG4gICAgICBnZXRPcHRpb25FbmNvZGVyKGdldEFkZHJlc3NFbmNvZGVyKCksIHtcbiAgICAgICAgcHJlZml4OiBnZXRVMzJFbmNvZGVyKCksXG4gICAgICAgIG5vbmVWYWx1ZTogXCJ6ZXJvZXNcIlxuICAgICAgfSlcbiAgICBdXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0VG9rZW5EZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wibWludFwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXSxcbiAgICBbXCJvd25lclwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXSxcbiAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RGVjb2RlcigpXSxcbiAgICBbXG4gICAgICBcImRlbGVnYXRlXCIsXG4gICAgICBnZXRPcHRpb25EZWNvZGVyKGdldEFkZHJlc3NEZWNvZGVyKCksIHtcbiAgICAgICAgcHJlZml4OiBnZXRVMzJEZWNvZGVyKCksXG4gICAgICAgIG5vbmVWYWx1ZTogXCJ6ZXJvZXNcIlxuICAgICAgfSlcbiAgICBdLFxuICAgIFtcInN0YXRlXCIsIGdldEFjY291bnRTdGF0ZURlY29kZXIoKV0sXG4gICAgW1xuICAgICAgXCJpc05hdGl2ZVwiLFxuICAgICAgZ2V0T3B0aW9uRGVjb2RlcihnZXRVNjREZWNvZGVyKCksIHtcbiAgICAgICAgcHJlZml4OiBnZXRVMzJEZWNvZGVyKCksXG4gICAgICAgIG5vbmVWYWx1ZTogXCJ6ZXJvZXNcIlxuICAgICAgfSlcbiAgICBdLFxuICAgIFtcImRlbGVnYXRlZEFtb3VudFwiLCBnZXRVNjREZWNvZGVyKCldLFxuICAgIFtcbiAgICAgIFwiY2xvc2VBdXRob3JpdHlcIixcbiAgICAgIGdldE9wdGlvbkRlY29kZXIoZ2V0QWRkcmVzc0RlY29kZXIoKSwge1xuICAgICAgICBwcmVmaXg6IGdldFUzMkRlY29kZXIoKSxcbiAgICAgICAgbm9uZVZhbHVlOiBcInplcm9lc1wiXG4gICAgICB9KVxuICAgIF1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRUb2tlbkNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldFRva2VuRW5jb2RlcigpLCBnZXRUb2tlbkRlY29kZXIoKSk7XG59XG5mdW5jdGlvbiBkZWNvZGVUb2tlbihlbmNvZGVkQWNjb3VudCkge1xuICByZXR1cm4gZGVjb2RlQWNjb3VudChcbiAgICBlbmNvZGVkQWNjb3VudCxcbiAgICBnZXRUb2tlbkRlY29kZXIoKVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hUb2tlbihycGMsIGFkZHJlc3MsIGNvbmZpZykge1xuICBjb25zdCBtYXliZUFjY291bnQgPSBhd2FpdCBmZXRjaE1heWJlVG9rZW4ocnBjLCBhZGRyZXNzLCBjb25maWcpO1xuICBhc3NlcnRBY2NvdW50RXhpc3RzKG1heWJlQWNjb3VudCk7XG4gIHJldHVybiBtYXliZUFjY291bnQ7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaE1heWJlVG9rZW4ocnBjLCBhZGRyZXNzLCBjb25maWcpIHtcbiAgY29uc3QgbWF5YmVBY2NvdW50ID0gYXdhaXQgZmV0Y2hFbmNvZGVkQWNjb3VudChycGMsIGFkZHJlc3MsIGNvbmZpZyk7XG4gIHJldHVybiBkZWNvZGVUb2tlbihtYXliZUFjY291bnQpO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbGxUb2tlbihycGMsIGFkZHJlc3NlcywgY29uZmlnKSB7XG4gIGNvbnN0IG1heWJlQWNjb3VudHMgPSBhd2FpdCBmZXRjaEFsbE1heWJlVG9rZW4ocnBjLCBhZGRyZXNzZXMsIGNvbmZpZyk7XG4gIGFzc2VydEFjY291bnRzRXhpc3QobWF5YmVBY2NvdW50cyk7XG4gIHJldHVybiBtYXliZUFjY291bnRzO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbGxNYXliZVRva2VuKHJwYywgYWRkcmVzc2VzLCBjb25maWcpIHtcbiAgY29uc3QgbWF5YmVBY2NvdW50cyA9IGF3YWl0IGZldGNoRW5jb2RlZEFjY291bnRzKHJwYywgYWRkcmVzc2VzLCBjb25maWcpO1xuICByZXR1cm4gbWF5YmVBY2NvdW50cy5tYXAoKG1heWJlQWNjb3VudCkgPT4gZGVjb2RlVG9rZW4obWF5YmVBY2NvdW50KSk7XG59XG5mdW5jdGlvbiBnZXRUb2tlblNpemUoKSB7XG4gIHJldHVybiAxNjU7XG59XG52YXIgQVNTT0NJQVRFRF9UT0tFTl9QUk9HUkFNX0FERFJFU1MgPSBcIkFUb2tlbkdQdmJkR1Z4cjFiMmh2WmJzaXFXNXhXSDI1ZWZUTnNMSkE4a25MXCI7XG52YXIgQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb24gPSAvKiBAX19QVVJFX18gKi8gKChBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbjIpID0+IHtcbiAgQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb24yW0Fzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uMltcIkNyZWF0ZUFzc29jaWF0ZWRUb2tlblwiXSA9IDBdID0gXCJDcmVhdGVBc3NvY2lhdGVkVG9rZW5cIjtcbiAgQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb24yW0Fzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uMltcIkNyZWF0ZUFzc29jaWF0ZWRUb2tlbklkZW1wb3RlbnRcIl0gPSAxXSA9IFwiQ3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudFwiO1xuICBBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbjJbQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb24yW1wiUmVjb3Zlck5lc3RlZEFzc29jaWF0ZWRUb2tlblwiXSA9IDJdID0gXCJSZWNvdmVyTmVzdGVkQXNzb2NpYXRlZFRva2VuXCI7XG4gIHJldHVybiBBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbjI7XG59KShBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbiB8fCB7fSk7XG5mdW5jdGlvbiBpZGVudGlmeUFzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGNvbnN0IGRhdGEgPSBcImRhdGFcIiBpbiBpbnN0cnVjdGlvbiA/IGluc3RydWN0aW9uLmRhdGEgOiBpbnN0cnVjdGlvbjtcbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDApLCAwKSkge1xuICAgIHJldHVybiAwIC8qIENyZWF0ZUFzc29jaWF0ZWRUb2tlbiAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoMSksIDApKSB7XG4gICAgcmV0dXJuIDEgLyogQ3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudCAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoMiksIDApKSB7XG4gICAgcmV0dXJuIDIgLyogUmVjb3Zlck5lc3RlZEFzc29jaWF0ZWRUb2tlbiAqLztcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgXCJUaGUgcHJvdmlkZWQgaW5zdHJ1Y3Rpb24gY291bGQgbm90IGJlIGlkZW50aWZpZWQgYXMgYSBhc3NvY2lhdGVkVG9rZW4gaW5zdHJ1Y3Rpb24uXCJcbiAgKTtcbn1cbnZhciBUT0tFTl9QUk9HUkFNX0FERFJFU1MgPSBcIlRva2Vua2VnUWZlWnlpTndBSmJOYkdLUEZYQ1d1QnZmOVNzNjIzVlE1REFcIjtcbnZhciBUb2tlbkFjY291bnQgPSAvKiBAX19QVVJFX18gKi8gKChUb2tlbkFjY291bnQyKSA9PiB7XG4gIFRva2VuQWNjb3VudDJbVG9rZW5BY2NvdW50MltcIk1pbnRcIl0gPSAwXSA9IFwiTWludFwiO1xuICBUb2tlbkFjY291bnQyW1Rva2VuQWNjb3VudDJbXCJUb2tlblwiXSA9IDFdID0gXCJUb2tlblwiO1xuICBUb2tlbkFjY291bnQyW1Rva2VuQWNjb3VudDJbXCJNdWx0aXNpZ1wiXSA9IDJdID0gXCJNdWx0aXNpZ1wiO1xuICByZXR1cm4gVG9rZW5BY2NvdW50Mjtcbn0pKFRva2VuQWNjb3VudCB8fCB7fSk7XG5mdW5jdGlvbiBpZGVudGlmeVRva2VuQWNjb3VudChhY2NvdW50KSB7XG4gIGNvbnN0IGRhdGEgPSBcImRhdGFcIiBpbiBhY2NvdW50ID8gYWNjb3VudC5kYXRhIDogYWNjb3VudDtcbiAgaWYgKGRhdGEubGVuZ3RoID09PSA4Mikge1xuICAgIHJldHVybiAwIC8qIE1pbnQgKi87XG4gIH1cbiAgaWYgKGRhdGEubGVuZ3RoID09PSAxNjUpIHtcbiAgICByZXR1cm4gMSAvKiBUb2tlbiAqLztcbiAgfVxuICBpZiAoZGF0YS5sZW5ndGggPT09IDM1NSkge1xuICAgIHJldHVybiAyIC8qIE11bHRpc2lnICovO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICBcIlRoZSBwcm92aWRlZCBhY2NvdW50IGNvdWxkIG5vdCBiZSBpZGVudGlmaWVkIGFzIGEgdG9rZW4gYWNjb3VudC5cIlxuICApO1xufVxudmFyIFRva2VuSW5zdHJ1Y3Rpb24gPSAvKiBAX19QVVJFX18gKi8gKChUb2tlbkluc3RydWN0aW9uMikgPT4ge1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIkluaXRpYWxpemVNaW50XCJdID0gMF0gPSBcIkluaXRpYWxpemVNaW50XCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiSW5pdGlhbGl6ZUFjY291bnRcIl0gPSAxXSA9IFwiSW5pdGlhbGl6ZUFjY291bnRcIjtcbiAgVG9rZW5JbnN0cnVjdGlvbjJbVG9rZW5JbnN0cnVjdGlvbjJbXCJJbml0aWFsaXplTXVsdGlzaWdcIl0gPSAyXSA9IFwiSW5pdGlhbGl6ZU11bHRpc2lnXCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiVHJhbnNmZXJcIl0gPSAzXSA9IFwiVHJhbnNmZXJcIjtcbiAgVG9rZW5JbnN0cnVjdGlvbjJbVG9rZW5JbnN0cnVjdGlvbjJbXCJBcHByb3ZlXCJdID0gNF0gPSBcIkFwcHJvdmVcIjtcbiAgVG9rZW5JbnN0cnVjdGlvbjJbVG9rZW5JbnN0cnVjdGlvbjJbXCJSZXZva2VcIl0gPSA1XSA9IFwiUmV2b2tlXCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiU2V0QXV0aG9yaXR5XCJdID0gNl0gPSBcIlNldEF1dGhvcml0eVwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIk1pbnRUb1wiXSA9IDddID0gXCJNaW50VG9cIjtcbiAgVG9rZW5JbnN0cnVjdGlvbjJbVG9rZW5JbnN0cnVjdGlvbjJbXCJCdXJuXCJdID0gOF0gPSBcIkJ1cm5cIjtcbiAgVG9rZW5JbnN0cnVjdGlvbjJbVG9rZW5JbnN0cnVjdGlvbjJbXCJDbG9zZUFjY291bnRcIl0gPSA5XSA9IFwiQ2xvc2VBY2NvdW50XCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiRnJlZXplQWNjb3VudFwiXSA9IDEwXSA9IFwiRnJlZXplQWNjb3VudFwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIlRoYXdBY2NvdW50XCJdID0gMTFdID0gXCJUaGF3QWNjb3VudFwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIlRyYW5zZmVyQ2hlY2tlZFwiXSA9IDEyXSA9IFwiVHJhbnNmZXJDaGVja2VkXCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiQXBwcm92ZUNoZWNrZWRcIl0gPSAxM10gPSBcIkFwcHJvdmVDaGVja2VkXCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiTWludFRvQ2hlY2tlZFwiXSA9IDE0XSA9IFwiTWludFRvQ2hlY2tlZFwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIkJ1cm5DaGVja2VkXCJdID0gMTVdID0gXCJCdXJuQ2hlY2tlZFwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIkluaXRpYWxpemVBY2NvdW50MlwiXSA9IDE2XSA9IFwiSW5pdGlhbGl6ZUFjY291bnQyXCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiU3luY05hdGl2ZVwiXSA9IDE3XSA9IFwiU3luY05hdGl2ZVwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIkluaXRpYWxpemVBY2NvdW50M1wiXSA9IDE4XSA9IFwiSW5pdGlhbGl6ZUFjY291bnQzXCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiSW5pdGlhbGl6ZU11bHRpc2lnMlwiXSA9IDE5XSA9IFwiSW5pdGlhbGl6ZU11bHRpc2lnMlwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIkluaXRpYWxpemVNaW50MlwiXSA9IDIwXSA9IFwiSW5pdGlhbGl6ZU1pbnQyXCI7XG4gIFRva2VuSW5zdHJ1Y3Rpb24yW1Rva2VuSW5zdHJ1Y3Rpb24yW1wiR2V0QWNjb3VudERhdGFTaXplXCJdID0gMjFdID0gXCJHZXRBY2NvdW50RGF0YVNpemVcIjtcbiAgVG9rZW5JbnN0cnVjdGlvbjJbVG9rZW5JbnN0cnVjdGlvbjJbXCJJbml0aWFsaXplSW1tdXRhYmxlT3duZXJcIl0gPSAyMl0gPSBcIkluaXRpYWxpemVJbW11dGFibGVPd25lclwiO1xuICBUb2tlbkluc3RydWN0aW9uMltUb2tlbkluc3RydWN0aW9uMltcIkFtb3VudFRvVWlBbW91bnRcIl0gPSAyM10gPSBcIkFtb3VudFRvVWlBbW91bnRcIjtcbiAgVG9rZW5JbnN0cnVjdGlvbjJbVG9rZW5JbnN0cnVjdGlvbjJbXCJVaUFtb3VudFRvQW1vdW50XCJdID0gMjRdID0gXCJVaUFtb3VudFRvQW1vdW50XCI7XG4gIHJldHVybiBUb2tlbkluc3RydWN0aW9uMjtcbn0pKFRva2VuSW5zdHJ1Y3Rpb24gfHwge30pO1xuZnVuY3Rpb24gaWRlbnRpZnlUb2tlbkluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGNvbnN0IGRhdGEgPSBcImRhdGFcIiBpbiBpbnN0cnVjdGlvbiA/IGluc3RydWN0aW9uLmRhdGEgOiBpbnN0cnVjdGlvbjtcbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDApLCAwKSkge1xuICAgIHJldHVybiAwIC8qIEluaXRpYWxpemVNaW50ICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgxKSwgMCkpIHtcbiAgICByZXR1cm4gMSAvKiBJbml0aWFsaXplQWNjb3VudCAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoMiksIDApKSB7XG4gICAgcmV0dXJuIDIgLyogSW5pdGlhbGl6ZU11bHRpc2lnICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgzKSwgMCkpIHtcbiAgICByZXR1cm4gMyAvKiBUcmFuc2ZlciAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoNCksIDApKSB7XG4gICAgcmV0dXJuIDQgLyogQXBwcm92ZSAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoNSksIDApKSB7XG4gICAgcmV0dXJuIDUgLyogUmV2b2tlICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSg2KSwgMCkpIHtcbiAgICByZXR1cm4gNiAvKiBTZXRBdXRob3JpdHkgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDcpLCAwKSkge1xuICAgIHJldHVybiA3IC8qIE1pbnRUbyAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoOCksIDApKSB7XG4gICAgcmV0dXJuIDggLyogQnVybiAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoOSksIDApKSB7XG4gICAgcmV0dXJuIDkgLyogQ2xvc2VBY2NvdW50ICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgxMCksIDApKSB7XG4gICAgcmV0dXJuIDEwIC8qIEZyZWV6ZUFjY291bnQgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDExKSwgMCkpIHtcbiAgICByZXR1cm4gMTEgLyogVGhhd0FjY291bnQgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDEyKSwgMCkpIHtcbiAgICByZXR1cm4gMTIgLyogVHJhbnNmZXJDaGVja2VkICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgxMyksIDApKSB7XG4gICAgcmV0dXJuIDEzIC8qIEFwcHJvdmVDaGVja2VkICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgxNCksIDApKSB7XG4gICAgcmV0dXJuIDE0IC8qIE1pbnRUb0NoZWNrZWQgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDE1KSwgMCkpIHtcbiAgICByZXR1cm4gMTUgLyogQnVybkNoZWNrZWQgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDE2KSwgMCkpIHtcbiAgICByZXR1cm4gMTYgLyogSW5pdGlhbGl6ZUFjY291bnQyICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgxNyksIDApKSB7XG4gICAgcmV0dXJuIDE3IC8qIFN5bmNOYXRpdmUgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDE4KSwgMCkpIHtcbiAgICByZXR1cm4gMTggLyogSW5pdGlhbGl6ZUFjY291bnQzICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgxOSksIDApKSB7XG4gICAgcmV0dXJuIDE5IC8qIEluaXRpYWxpemVNdWx0aXNpZzIgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDIwKSwgMCkpIHtcbiAgICByZXR1cm4gMjAgLyogSW5pdGlhbGl6ZU1pbnQyICovO1xuICB9XG4gIGlmIChjb250YWluc0J5dGVzKGRhdGEsIGdldFU4RW5jb2RlcigpLmVuY29kZSgyMSksIDApKSB7XG4gICAgcmV0dXJuIDIxIC8qIEdldEFjY291bnREYXRhU2l6ZSAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoMjIpLCAwKSkge1xuICAgIHJldHVybiAyMiAvKiBJbml0aWFsaXplSW1tdXRhYmxlT3duZXIgKi87XG4gIH1cbiAgaWYgKGNvbnRhaW5zQnl0ZXMoZGF0YSwgZ2V0VThFbmNvZGVyKCkuZW5jb2RlKDIzKSwgMCkpIHtcbiAgICByZXR1cm4gMjMgLyogQW1vdW50VG9VaUFtb3VudCAqLztcbiAgfVxuICBpZiAoY29udGFpbnNCeXRlcyhkYXRhLCBnZXRVOEVuY29kZXIoKS5lbmNvZGUoMjQpLCAwKSkge1xuICAgIHJldHVybiAyNCAvKiBVaUFtb3VudFRvQW1vdW50ICovO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICBcIlRoZSBwcm92aWRlZCBpbnN0cnVjdGlvbiBjb3VsZCBub3QgYmUgaWRlbnRpZmllZCBhcyBhIHRva2VuIGluc3RydWN0aW9uLlwiXG4gICk7XG59XG5cbi8vIHNyYy9nZW5lcmF0ZWQvZXJyb3JzL2Fzc29jaWF0ZWRUb2tlbi50c1xudmFyIEFTU09DSUFURURfVE9LRU5fRVJST1JfX0lOVkFMSURfT1dORVIgPSAwO1xudmFyIGFzc29jaWF0ZWRUb2tlbkVycm9yTWVzc2FnZXM7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIGFzc29jaWF0ZWRUb2tlbkVycm9yTWVzc2FnZXMgPSB7XG4gICAgW0FTU09DSUFURURfVE9LRU5fRVJST1JfX0lOVkFMSURfT1dORVJdOiBgQXNzb2NpYXRlZCB0b2tlbiBhY2NvdW50IG93bmVyIGRvZXMgbm90IG1hdGNoIGFkZHJlc3MgZGVyaXZhdGlvbmBcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEFzc29jaWF0ZWRUb2tlbkVycm9yTWVzc2FnZShjb2RlKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICByZXR1cm4gYXNzb2NpYXRlZFRva2VuRXJyb3JNZXNzYWdlc1tjb2RlXTtcbiAgfVxuICByZXR1cm4gXCJFcnJvciBtZXNzYWdlIG5vdCBhdmFpbGFibGUgaW4gcHJvZHVjdGlvbiBidW5kbGVzLlwiO1xufVxuZnVuY3Rpb24gaXNBc3NvY2lhdGVkVG9rZW5FcnJvcihlcnJvciwgdHJhbnNhY3Rpb25NZXNzYWdlLCBjb2RlKSB7XG4gIHJldHVybiBpc1Byb2dyYW1FcnJvcihcbiAgICBlcnJvcixcbiAgICB0cmFuc2FjdGlvbk1lc3NhZ2UsXG4gICAgQVNTT0NJQVRFRF9UT0tFTl9QUk9HUkFNX0FERFJFU1MsXG4gICAgY29kZVxuICApO1xufVxudmFyIFRPS0VOX0VSUk9SX19OT1RfUkVOVF9FWEVNUFQgPSAwO1xudmFyIFRPS0VOX0VSUk9SX19JTlNVRkZJQ0lFTlRfRlVORFMgPSAxO1xudmFyIFRPS0VOX0VSUk9SX19JTlZBTElEX01JTlQgPSAyO1xudmFyIFRPS0VOX0VSUk9SX19NSU5UX01JU01BVENIID0gMztcbnZhciBUT0tFTl9FUlJPUl9fT1dORVJfTUlTTUFUQ0ggPSA0O1xudmFyIFRPS0VOX0VSUk9SX19GSVhFRF9TVVBQTFkgPSA1O1xudmFyIFRPS0VOX0VSUk9SX19BTFJFQURZX0lOX1VTRSA9IDY7XG52YXIgVE9LRU5fRVJST1JfX0lOVkFMSURfTlVNQkVSX09GX1BST1ZJREVEX1NJR05FUlMgPSA3O1xudmFyIFRPS0VOX0VSUk9SX19JTlZBTElEX05VTUJFUl9PRl9SRVFVSVJFRF9TSUdORVJTID0gODtcbnZhciBUT0tFTl9FUlJPUl9fVU5JTklUSUFMSVpFRF9TVEFURSA9IDk7XG52YXIgVE9LRU5fRVJST1JfX05BVElWRV9OT1RfU1VQUE9SVEVEID0gMTA7XG52YXIgVE9LRU5fRVJST1JfX05PTl9OQVRJVkVfSEFTX0JBTEFOQ0UgPSAxMTtcbnZhciBUT0tFTl9FUlJPUl9fSU5WQUxJRF9JTlNUUlVDVElPTiA9IDEyO1xudmFyIFRPS0VOX0VSUk9SX19JTlZBTElEX1NUQVRFID0gMTM7XG52YXIgVE9LRU5fRVJST1JfX09WRVJGTE9XID0gMTQ7XG52YXIgVE9LRU5fRVJST1JfX0FVVEhPUklUWV9UWVBFX05PVF9TVVBQT1JURUQgPSAxNTtcbnZhciBUT0tFTl9FUlJPUl9fTUlOVF9DQU5OT1RfRlJFRVpFID0gMTY7XG52YXIgVE9LRU5fRVJST1JfX0FDQ09VTlRfRlJPWkVOID0gMTc7XG52YXIgVE9LRU5fRVJST1JfX01JTlRfREVDSU1BTFNfTUlTTUFUQ0ggPSAxODtcbnZhciBUT0tFTl9FUlJPUl9fTk9OX05BVElWRV9OT1RfU1VQUE9SVEVEID0gMTk7XG52YXIgdG9rZW5FcnJvck1lc3NhZ2VzO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICB0b2tlbkVycm9yTWVzc2FnZXMgPSB7XG4gICAgW1RPS0VOX0VSUk9SX19BQ0NPVU5UX0ZST1pFTl06IGBBY2NvdW50IGlzIGZyb3plbmAsXG4gICAgW1RPS0VOX0VSUk9SX19BTFJFQURZX0lOX1VTRV06IGBBbHJlYWR5IGluIHVzZWAsXG4gICAgW1RPS0VOX0VSUk9SX19BVVRIT1JJVFlfVFlQRV9OT1RfU1VQUE9SVEVEXTogYEFjY291bnQgZG9lcyBub3Qgc3VwcG9ydCBzcGVjaWZpZWQgYXV0aG9yaXR5IHR5cGVgLFxuICAgIFtUT0tFTl9FUlJPUl9fRklYRURfU1VQUExZXTogYEZpeGVkIHN1cHBseWAsXG4gICAgW1RPS0VOX0VSUk9SX19JTlNVRkZJQ0lFTlRfRlVORFNdOiBgSW5zdWZmaWNpZW50IGZ1bmRzYCxcbiAgICBbVE9LRU5fRVJST1JfX0lOVkFMSURfSU5TVFJVQ1RJT05dOiBgSW52YWxpZCBpbnN0cnVjdGlvbmAsXG4gICAgW1RPS0VOX0VSUk9SX19JTlZBTElEX01JTlRdOiBgSW52YWxpZCBNaW50YCxcbiAgICBbVE9LRU5fRVJST1JfX0lOVkFMSURfTlVNQkVSX09GX1BST1ZJREVEX1NJR05FUlNdOiBgSW52YWxpZCBudW1iZXIgb2YgcHJvdmlkZWQgc2lnbmVyc2AsXG4gICAgW1RPS0VOX0VSUk9SX19JTlZBTElEX05VTUJFUl9PRl9SRVFVSVJFRF9TSUdORVJTXTogYEludmFsaWQgbnVtYmVyIG9mIHJlcXVpcmVkIHNpZ25lcnNgLFxuICAgIFtUT0tFTl9FUlJPUl9fSU5WQUxJRF9TVEFURV06IGBTdGF0ZSBpcyBpbnZhbGlkIGZvciByZXF1ZXN0ZWQgb3BlcmF0aW9uYCxcbiAgICBbVE9LRU5fRVJST1JfX01JTlRfQ0FOTk9UX0ZSRUVaRV06IGBUaGlzIHRva2VuIG1pbnQgY2Fubm90IGZyZWV6ZSBhY2NvdW50c2AsXG4gICAgW1RPS0VOX0VSUk9SX19NSU5UX0RFQ0lNQUxTX01JU01BVENIXTogYFRoZSBwcm92aWRlZCBkZWNpbWFscyB2YWx1ZSBkaWZmZXJlbnQgZnJvbSB0aGUgTWludCBkZWNpbWFsc2AsXG4gICAgW1RPS0VOX0VSUk9SX19NSU5UX01JU01BVENIXTogYEFjY291bnQgbm90IGFzc29jaWF0ZWQgd2l0aCB0aGlzIE1pbnRgLFxuICAgIFtUT0tFTl9FUlJPUl9fTkFUSVZFX05PVF9TVVBQT1JURURdOiBgSW5zdHJ1Y3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBuYXRpdmUgdG9rZW5zYCxcbiAgICBbVE9LRU5fRVJST1JfX05PTl9OQVRJVkVfSEFTX0JBTEFOQ0VdOiBgTm9uLW5hdGl2ZSBhY2NvdW50IGNhbiBvbmx5IGJlIGNsb3NlZCBpZiBpdHMgYmFsYW5jZSBpcyB6ZXJvYCxcbiAgICBbVE9LRU5fRVJST1JfX05PTl9OQVRJVkVfTk9UX1NVUFBPUlRFRF06IGBJbnN0cnVjdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG5vbi1uYXRpdmUgdG9rZW5zYCxcbiAgICBbVE9LRU5fRVJST1JfX05PVF9SRU5UX0VYRU1QVF06IGBMYW1wb3J0IGJhbGFuY2UgYmVsb3cgcmVudC1leGVtcHQgdGhyZXNob2xkYCxcbiAgICBbVE9LRU5fRVJST1JfX09WRVJGTE9XXTogYE9wZXJhdGlvbiBvdmVyZmxvd2VkYCxcbiAgICBbVE9LRU5fRVJST1JfX09XTkVSX01JU01BVENIXTogYE93bmVyIGRvZXMgbm90IG1hdGNoYCxcbiAgICBbVE9LRU5fRVJST1JfX1VOSU5JVElBTElaRURfU1RBVEVdOiBgU3RhdGUgaXMgdW5pdGl0aWFsaXplZGBcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFRva2VuRXJyb3JNZXNzYWdlKGNvZGUpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHJldHVybiB0b2tlbkVycm9yTWVzc2FnZXNbY29kZV07XG4gIH1cbiAgcmV0dXJuIFwiRXJyb3IgbWVzc2FnZSBub3QgYXZhaWxhYmxlIGluIHByb2R1Y3Rpb24gYnVuZGxlcy5cIjtcbn1cbmZ1bmN0aW9uIGlzVG9rZW5FcnJvcihlcnJvciwgdHJhbnNhY3Rpb25NZXNzYWdlLCBjb2RlKSB7XG4gIHJldHVybiBpc1Byb2dyYW1FcnJvcihcbiAgICBlcnJvcixcbiAgICB0cmFuc2FjdGlvbk1lc3NhZ2UsXG4gICAgVE9LRU5fUFJPR1JBTV9BRERSRVNTLFxuICAgIGNvZGVcbiAgKTtcbn1cbmZ1bmN0aW9uIGV4cGVjdEFkZHJlc3ModmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGEgQWRkcmVzcy5cIik7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBcImFkZHJlc3NcIiBpbiB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5hZGRyZXNzO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZVswXTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MsIG9wdGlvbmFsQWNjb3VudFN0cmF0ZWd5KSB7XG4gIHJldHVybiAoYWNjb3VudCkgPT4ge1xuICAgIGlmICghYWNjb3VudC52YWx1ZSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgICBhZGRyZXNzOiBwcm9ncmFtQWRkcmVzcyxcbiAgICAgICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB3cml0YWJsZVJvbGUgPSBhY2NvdW50LmlzV3JpdGFibGUgPyBBY2NvdW50Um9sZS5XUklUQUJMRSA6IEFjY291bnRSb2xlLlJFQURPTkxZO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGFkZHJlc3M6IGV4cGVjdEFkZHJlc3MoYWNjb3VudC52YWx1ZSksXG4gICAgICByb2xlOiBpc1RyYW5zYWN0aW9uU2lnbmVyKGFjY291bnQudmFsdWUpID8gdXBncmFkZVJvbGVUb1NpZ25lcih3cml0YWJsZVJvbGUpIDogd3JpdGFibGVSb2xlLFxuICAgICAgLi4uaXNUcmFuc2FjdGlvblNpZ25lcihhY2NvdW50LnZhbHVlKSA/IHsgc2lnbmVyOiBhY2NvdW50LnZhbHVlIH0gOiB7fVxuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gaXNUcmFuc2FjdGlvblNpZ25lcih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJhZGRyZXNzXCIgaW4gdmFsdWUgJiYgaXNUcmFuc2FjdGlvblNpZ25lciQxKHZhbHVlKTtcbn1cblxuLy8gc3JjL2dlbmVyYXRlZC9pbnN0cnVjdGlvbnMvYW1vdW50VG9VaUFtb3VudC50c1xudmFyIEFNT1VOVF9UT19VSV9BTU9VTlRfRElTQ1JJTUlOQVRPUiA9IDIzO1xuZnVuY3Rpb24gZ2V0QW1vdW50VG9VaUFtb3VudERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShBTU9VTlRfVE9fVUlfQU1PVU5UX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0QW1vdW50VG9VaUFtb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1xuICAgICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOEVuY29kZXIoKV0sXG4gICAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IEFNT1VOVF9UT19VSV9BTU9VTlRfRElTQ1JJTUlOQVRPUiB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0QW1vdW50VG9VaUFtb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEFtb3VudFRvVWlBbW91bnRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRBbW91bnRUb1VpQW1vdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEFtb3VudFRvVWlBbW91bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEFtb3VudFRvVWlBbW91bnRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBUT0tFTl9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgbWludDogeyB2YWx1ZTogaW5wdXQubWludCA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW2dldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnQpXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRBbW91bnRUb1VpQW1vdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlQW1vdW50VG9VaUFtb3VudEluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEFtb3VudFRvVWlBbW91bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgQVBQUk9WRV9ESVNDUklNSU5BVE9SID0gNDtcbmZ1bmN0aW9uIGdldEFwcHJvdmVEaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVOEVuY29kZXIoKS5lbmNvZGUoQVBQUk9WRV9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmVJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wiYW1vdW50XCIsIGdldFU2NEVuY29kZXIoKV1cbiAgICBdKSxcbiAgICAodmFsdWUpID0+ICh7IC4uLnZhbHVlLCBkaXNjcmltaW5hdG9yOiBBUFBST1ZFX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmVJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV0sXG4gICAgW1wiYW1vdW50XCIsIGdldFU2NERlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRBcHByb3ZlSW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0QXBwcm92ZUluc3RydWN0aW9uRGF0YUVuY29kZXIoKSxcbiAgICBnZXRBcHByb3ZlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRBcHByb3ZlSW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIHNvdXJjZTogeyB2YWx1ZTogaW5wdXQuc291cmNlID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBkZWxlZ2F0ZTogeyB2YWx1ZTogaW5wdXQuZGVsZWdhdGUgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfSxcbiAgICBvd25lcjogeyB2YWx1ZTogaW5wdXQub3duZXIgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGNvbnN0IHJlbWFpbmluZ0FjY291bnRzID0gKGFyZ3MubXVsdGlTaWduZXJzID8/IFtdKS5tYXAoXG4gICAgKHNpZ25lcikgPT4gKHtcbiAgICAgIGFkZHJlc3M6IHNpZ25lci5hZGRyZXNzLFxuICAgICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlfU0lHTkVSLFxuICAgICAgc2lnbmVyXG4gICAgfSlcbiAgKTtcbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuc291cmNlKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmRlbGVnYXRlKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyKSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRBcHByb3ZlSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlQXBwcm92ZUluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIHNvdXJjZTogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIGRlbGVnYXRlOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgb3duZXI6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEFwcHJvdmVJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgQVBQUk9WRV9DSEVDS0VEX0RJU0NSSU1JTkFUT1IgPSAxMztcbmZ1bmN0aW9uIGdldEFwcHJvdmVDaGVja2VkRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKEFQUFJPVkVfQ0hFQ0tFRF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcImFtb3VudFwiLCBnZXRVNjRFbmNvZGVyKCldLFxuICAgICAgW1wiZGVjaW1hbHNcIiwgZ2V0VThFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogQVBQUk9WRV9DSEVDS0VEX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcImFtb3VudFwiLCBnZXRVNjREZWNvZGVyKCldLFxuICAgIFtcImRlY2ltYWxzXCIsIGdldFU4RGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0QXBwcm92ZUNoZWNrZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0QXBwcm92ZUNoZWNrZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIHNvdXJjZTogeyB2YWx1ZTogaW5wdXQuc291cmNlID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgZGVsZWdhdGU6IHsgdmFsdWU6IGlucHV0LmRlbGVnYXRlID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgb3duZXI6IHsgdmFsdWU6IGlucHV0Lm93bmVyID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCByZW1haW5pbmdBY2NvdW50cyA9IChhcmdzLm11bHRpU2lnbmVycyA/PyBbXSkubWFwKFxuICAgIChzaWduZXIpID0+ICh7XG4gICAgICBhZGRyZXNzOiBzaWduZXIuYWRkcmVzcyxcbiAgICAgIHJvbGU6IEFjY291bnRSb2xlLlJFQURPTkxZX1NJR05FUixcbiAgICAgIHNpZ25lclxuICAgIH0pXG4gICk7XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnNvdXJjZSksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5taW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmRlbGVnYXRlKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyKSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRBcHByb3ZlQ2hlY2tlZEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgc291cmNlOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgbWludDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIGRlbGVnYXRlOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgb3duZXI6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIEJVUk5fRElTQ1JJTUlOQVRPUiA9IDg7XG5mdW5jdGlvbiBnZXRCdXJuRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKEJVUk5fRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRCdXJuSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcImFtb3VudFwiLCBnZXRVNjRFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogQlVSTl9ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRCdXJuSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcImFtb3VudFwiLCBnZXRVNjREZWNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0QnVybkluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldEJ1cm5JbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0QnVybkluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0QnVybkluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBhdXRob3JpdHk6IHsgdmFsdWU6IGlucHV0LmF1dGhvcml0eSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSAoYXJncy5tdWx0aVNpZ25lcnMgPz8gW10pLm1hcChcbiAgICAoc2lnbmVyKSA9PiAoe1xuICAgICAgYWRkcmVzczogc2lnbmVyLmFkZHJlc3MsXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVIsXG4gICAgICBzaWduZXJcbiAgICB9KVxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5hY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYXV0aG9yaXR5KSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRCdXJuSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlQnVybkluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIGFjY291bnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBtaW50OiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgYXV0aG9yaXR5OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRCdXJuSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIEJVUk5fQ0hFQ0tFRF9ESVNDUklNSU5BVE9SID0gMTU7XG5mdW5jdGlvbiBnZXRCdXJuQ2hlY2tlZERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShCVVJOX0NIRUNLRURfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1xuICAgICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOEVuY29kZXIoKV0sXG4gICAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RW5jb2RlcigpXSxcbiAgICAgIFtcImRlY2ltYWxzXCIsIGdldFU4RW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IEJVUk5fQ0hFQ0tFRF9ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RGVjb2RlcigpXSxcbiAgICBbXCJkZWNpbWFsc1wiLCBnZXRVOERlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldEJ1cm5DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEJ1cm5DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBhdXRob3JpdHk6IHsgdmFsdWU6IGlucHV0LmF1dGhvcml0eSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSAoYXJncy5tdWx0aVNpZ25lcnMgPz8gW10pLm1hcChcbiAgICAoc2lnbmVyKSA9PiAoe1xuICAgICAgYWRkcmVzczogc2lnbmVyLmFkZHJlc3MsXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVIsXG4gICAgICBzaWduZXJcbiAgICB9KVxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5hY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYXV0aG9yaXR5KSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUJ1cm5DaGVja2VkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgYWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBhdXRob3JpdHk6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEJ1cm5DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIENMT1NFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUiA9IDk7XG5mdW5jdGlvbiBnZXRDbG9zZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVOEVuY29kZXIoKS5lbmNvZGUoQ0xPU0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldENsb3NlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogQ0xPU0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRDbG9zZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV1dKTtcbn1cbmZ1bmN0aW9uIGdldENsb3NlQWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldENsb3NlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSxcbiAgICBnZXRDbG9zZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldENsb3NlQWNjb3VudEluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBkZXN0aW5hdGlvbjogeyB2YWx1ZTogaW5wdXQuZGVzdGluYXRpb24gPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIG93bmVyOiB7IHZhbHVlOiBpbnB1dC5vd25lciA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSAoYXJncy5tdWx0aVNpZ25lcnMgPz8gW10pLm1hcChcbiAgICAoc2lnbmVyKSA9PiAoe1xuICAgICAgYWRkcmVzczogc2lnbmVyLmFkZHJlc3MsXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVIsXG4gICAgICBzaWduZXJcbiAgICB9KVxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5hY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmRlc3RpbmF0aW9uKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyKSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRDbG9zZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUNsb3NlQWNjb3VudEluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIGFjY291bnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBkZXN0aW5hdGlvbjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG93bmVyOiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRDbG9zZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBmaW5kQXNzb2NpYXRlZFRva2VuUGRhKHNlZWRzLCBjb25maWcgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcHJvZ3JhbUFkZHJlc3MgPSBcIkFUb2tlbkdQdmJkR1Z4cjFiMmh2WmJzaXFXNXhXSDI1ZWZUTnNMSkE4a25MXCJcbiAgfSA9IGNvbmZpZztcbiAgcmV0dXJuIGF3YWl0IGdldFByb2dyYW1EZXJpdmVkQWRkcmVzcyh7XG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgc2VlZHM6IFtcbiAgICAgIGdldEFkZHJlc3NFbmNvZGVyKCkuZW5jb2RlKHNlZWRzLm93bmVyKSxcbiAgICAgIGdldEFkZHJlc3NFbmNvZGVyKCkuZW5jb2RlKHNlZWRzLnRva2VuUHJvZ3JhbSksXG4gICAgICBnZXRBZGRyZXNzRW5jb2RlcigpLmVuY29kZShzZWVkcy5taW50KVxuICAgIF1cbiAgfSk7XG59XG5cbi8vIHNyYy9nZW5lcmF0ZWQvaW5zdHJ1Y3Rpb25zL2NyZWF0ZUFzc29jaWF0ZWRUb2tlbi50c1xudmFyIENSRUFURV9BU1NPQ0lBVEVEX1RPS0VOX0RJU0NSSU1JTkFUT1IgPSAwO1xuZnVuY3Rpb24gZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKENSRUFURV9BU1NPQ0lBVEVEX1RPS0VOX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOEVuY29kZXIoKV1dKSxcbiAgICAodmFsdWUpID0+ICh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGRpc2NyaW1pbmF0b3I6IENSRUFURV9BU1NPQ0lBVEVEX1RPS0VOX0RJU0NSSU1JTkFUT1JcbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldXSk7XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkFzeW5jKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IEFTU09DSUFURURfVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIHBheWVyOiB7IHZhbHVlOiBpbnB1dC5wYXllciA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgYXRhOiB7IHZhbHVlOiBpbnB1dC5hdGEgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIG93bmVyOiB7IHZhbHVlOiBpbnB1dC5vd25lciA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9LFxuICAgIG1pbnQ6IHsgdmFsdWU6IGlucHV0Lm1pbnQgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfSxcbiAgICBzeXN0ZW1Qcm9ncmFtOiB7IHZhbHVlOiBpbnB1dC5zeXN0ZW1Qcm9ncmFtID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgdG9rZW5Qcm9ncmFtOiB7IHZhbHVlOiBpbnB1dC50b2tlblByb2dyYW0gPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGlmICghYWNjb3VudHMudG9rZW5Qcm9ncmFtLnZhbHVlKSB7XG4gICAgYWNjb3VudHMudG9rZW5Qcm9ncmFtLnZhbHVlID0gXCJUb2tlbmtlZ1FmZVp5aU53QUpiTmJHS1BGWENXdUJ2ZjlTczYyM1ZRNURBXCI7XG4gIH1cbiAgaWYgKCFhY2NvdW50cy5hdGEudmFsdWUpIHtcbiAgICBhY2NvdW50cy5hdGEudmFsdWUgPSBhd2FpdCBmaW5kQXNzb2NpYXRlZFRva2VuUGRhKHtcbiAgICAgIG93bmVyOiBleHBlY3RBZGRyZXNzKGFjY291bnRzLm93bmVyLnZhbHVlKSxcbiAgICAgIHRva2VuUHJvZ3JhbTogZXhwZWN0QWRkcmVzcyhhY2NvdW50cy50b2tlblByb2dyYW0udmFsdWUpLFxuICAgICAgbWludDogZXhwZWN0QWRkcmVzcyhhY2NvdW50cy5taW50LnZhbHVlKVxuICAgIH0pO1xuICB9XG4gIGlmICghYWNjb3VudHMuc3lzdGVtUHJvZ3JhbS52YWx1ZSkge1xuICAgIGFjY291bnRzLnN5c3RlbVByb2dyYW0udmFsdWUgPSBcIjExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXCI7XG4gIH1cbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMucGF5ZXIpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYXRhKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuc3lzdGVtUHJvZ3JhbSksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy50b2tlblByb2dyYW0pXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBBU1NPQ0lBVEVEX1RPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBwYXllcjogeyB2YWx1ZTogaW5wdXQucGF5ZXIgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIGF0YTogeyB2YWx1ZTogaW5wdXQuYXRhID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBvd25lcjogeyB2YWx1ZTogaW5wdXQub3duZXIgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgc3lzdGVtUHJvZ3JhbTogeyB2YWx1ZTogaW5wdXQuc3lzdGVtUHJvZ3JhbSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9LFxuICAgIHRva2VuUHJvZ3JhbTogeyB2YWx1ZTogaW5wdXQudG9rZW5Qcm9ncmFtID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBpZiAoIWFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSkge1xuICAgIGFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSA9IFwiVG9rZW5rZWdRZmVaeWlOd0FKYk5iR0tQRlhDV3VCdmY5U3M2MjNWUTVEQVwiO1xuICB9XG4gIGlmICghYWNjb3VudHMuc3lzdGVtUHJvZ3JhbS52YWx1ZSkge1xuICAgIGFjY291bnRzLnN5c3RlbVByb2dyYW0udmFsdWUgPSBcIjExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXCI7XG4gIH1cbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMucGF5ZXIpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYXRhKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuc3lzdGVtUHJvZ3JhbSksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy50b2tlblByb2dyYW0pXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUNyZWF0ZUFzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCA2KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIHBheWVyOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgYXRhOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgb3duZXI6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBtaW50OiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgc3lzdGVtUHJvZ3JhbTogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIHRva2VuUHJvZ3JhbTogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShcbiAgICAgIGluc3RydWN0aW9uLmRhdGFcbiAgICApXG4gIH07XG59XG52YXIgQ1JFQVRFX0FTU09DSUFURURfVE9LRU5fSURFTVBPVEVOVF9ESVNDUklNSU5BVE9SID0gMTtcbmZ1bmN0aW9uIGdldENyZWF0ZUFzc29jaWF0ZWRUb2tlbklkZW1wb3RlbnREaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVOEVuY29kZXIoKS5lbmNvZGUoXG4gICAgQ1JFQVRFX0FTU09DSUFURURfVE9LRU5fSURFTVBPVEVOVF9ESVNDUklNSU5BVE9SXG4gICk7XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOEVuY29kZXIoKV1dKSxcbiAgICAodmFsdWUpID0+ICh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGRpc2NyaW1pbmF0b3I6IENSRUFURV9BU1NPQ0lBVEVEX1RPS0VOX0lERU1QT1RFTlRfRElTQ1JJTUlOQVRPUlxuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldXSk7XG59XG5mdW5jdGlvbiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSxcbiAgICBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25Bc3luYyhpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBBU1NPQ0lBVEVEX1RPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBwYXllcjogeyB2YWx1ZTogaW5wdXQucGF5ZXIgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIGF0YTogeyB2YWx1ZTogaW5wdXQuYXRhID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBvd25lcjogeyB2YWx1ZTogaW5wdXQub3duZXIgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgc3lzdGVtUHJvZ3JhbTogeyB2YWx1ZTogaW5wdXQuc3lzdGVtUHJvZ3JhbSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9LFxuICAgIHRva2VuUHJvZ3JhbTogeyB2YWx1ZTogaW5wdXQudG9rZW5Qcm9ncmFtID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBpZiAoIWFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSkge1xuICAgIGFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSA9IFwiVG9rZW5rZWdRZmVaeWlOd0FKYk5iR0tQRlhDV3VCdmY5U3M2MjNWUTVEQVwiO1xuICB9XG4gIGlmICghYWNjb3VudHMuYXRhLnZhbHVlKSB7XG4gICAgYWNjb3VudHMuYXRhLnZhbHVlID0gYXdhaXQgZmluZEFzc29jaWF0ZWRUb2tlblBkYSh7XG4gICAgICBvd25lcjogZXhwZWN0QWRkcmVzcyhhY2NvdW50cy5vd25lci52YWx1ZSksXG4gICAgICB0b2tlblByb2dyYW06IGV4cGVjdEFkZHJlc3MoYWNjb3VudHMudG9rZW5Qcm9ncmFtLnZhbHVlKSxcbiAgICAgIG1pbnQ6IGV4cGVjdEFkZHJlc3MoYWNjb3VudHMubWludC52YWx1ZSlcbiAgICB9KTtcbiAgfVxuICBpZiAoIWFjY291bnRzLnN5c3RlbVByb2dyYW0udmFsdWUpIHtcbiAgICBhY2NvdW50cy5zeXN0ZW1Qcm9ncmFtLnZhbHVlID0gXCIxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVwiO1xuICB9XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnBheWVyKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmF0YSksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5vd25lciksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5taW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnN5c3RlbVByb2dyYW0pLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMudG9rZW5Qcm9ncmFtKVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoe30pXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIGdldENyZWF0ZUFzc29jaWF0ZWRUb2tlbklkZW1wb3RlbnRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBBU1NPQ0lBVEVEX1RPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBwYXllcjogeyB2YWx1ZTogaW5wdXQucGF5ZXIgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIGF0YTogeyB2YWx1ZTogaW5wdXQuYXRhID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBvd25lcjogeyB2YWx1ZTogaW5wdXQub3duZXIgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgc3lzdGVtUHJvZ3JhbTogeyB2YWx1ZTogaW5wdXQuc3lzdGVtUHJvZ3JhbSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9LFxuICAgIHRva2VuUHJvZ3JhbTogeyB2YWx1ZTogaW5wdXQudG9rZW5Qcm9ncmFtID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBpZiAoIWFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSkge1xuICAgIGFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSA9IFwiVG9rZW5rZWdRZmVaeWlOd0FKYk5iR0tQRlhDV3VCdmY5U3M2MjNWUTVEQVwiO1xuICB9XG4gIGlmICghYWNjb3VudHMuc3lzdGVtUHJvZ3JhbS52YWx1ZSkge1xuICAgIGFjY291bnRzLnN5c3RlbVByb2dyYW0udmFsdWUgPSBcIjExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXCI7XG4gIH1cbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMucGF5ZXIpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYXRhKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuc3lzdGVtUHJvZ3JhbSksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy50b2tlblByb2dyYW0pXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZSh7fSlcbiAgfTtcbiAgcmV0dXJuIGluc3RydWN0aW9uO1xufVxuZnVuY3Rpb24gcGFyc2VDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDYpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgcGF5ZXI6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBhdGE6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBvd25lcjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBzeXN0ZW1Qcm9ncmFtOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgdG9rZW5Qcm9ncmFtOiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShcbiAgICAgIGluc3RydWN0aW9uLmRhdGFcbiAgICApXG4gIH07XG59XG52YXIgRlJFRVpFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUiA9IDEwO1xuZnVuY3Rpb24gZ2V0RnJlZXplQWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShGUkVFWkVfQUNDT1VOVF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXV0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IEZSRUVaRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV1dKTtcbn1cbmZ1bmN0aW9uIGdldEZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRGcmVlemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBUT0tFTl9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgYWNjb3VudDogeyB2YWx1ZTogaW5wdXQuYWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgbWludDogeyB2YWx1ZTogaW5wdXQubWludCA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9LFxuICAgIG93bmVyOiB7IHZhbHVlOiBpbnB1dC5vd25lciA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSAoYXJncy5tdWx0aVNpZ25lcnMgPz8gW10pLm1hcChcbiAgICAoc2lnbmVyKSA9PiAoe1xuICAgICAgYWRkcmVzczogc2lnbmVyLmFkZHJlc3MsXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVIsXG4gICAgICBzaWduZXJcbiAgICB9KVxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5hY2NvdW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMub3duZXIpLFxuICAgICAgLi4ucmVtYWluaW5nQWNjb3VudHNcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldEZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBhY2NvdW50OiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgbWludDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG93bmVyOiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRGcmVlemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIEdFVF9BQ0NPVU5UX0RBVEFfU0laRV9ESVNDUklNSU5BVE9SID0gMjE7XG5mdW5jdGlvbiBnZXRHZXRBY2NvdW50RGF0YVNpemVEaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVOEVuY29kZXIoKS5lbmNvZGUoR0VUX0FDQ09VTlRfREFUQV9TSVpFX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0R2V0QWNjb3VudERhdGFTaXplSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOEVuY29kZXIoKV1dKSxcbiAgICAodmFsdWUpID0+ICh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGRpc2NyaW1pbmF0b3I6IEdFVF9BQ0NPVU5UX0RBVEFfU0laRV9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEdldEFjY291bnREYXRhU2l6ZUluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXV0pO1xufVxuZnVuY3Rpb24gZ2V0R2V0QWNjb3VudERhdGFTaXplSW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0R2V0QWNjb3VudERhdGFTaXplSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEdldEFjY291bnREYXRhU2l6ZUluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0R2V0QWNjb3VudERhdGFTaXplSW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG1pbnQ6IHsgdmFsdWU6IGlucHV0Lm1pbnQgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtnZXRBY2NvdW50TWV0YShhY2NvdW50cy5taW50KV0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0R2V0QWNjb3VudERhdGFTaXplSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZSh7fSlcbiAgfTtcbiAgcmV0dXJuIGluc3RydWN0aW9uO1xufVxuZnVuY3Rpb24gcGFyc2VHZXRBY2NvdW50RGF0YVNpemVJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBtaW50OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRHZXRBY2NvdW50RGF0YVNpemVJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKFxuICAgICAgaW5zdHJ1Y3Rpb24uZGF0YVxuICAgIClcbiAgfTtcbn1cbnZhciBJTklUSUFMSVpFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUiA9IDE7XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShJTklUSUFMSVpFX0FDQ09VTlRfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogSU5JVElBTElaRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldXSk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldEluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudEluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgb3duZXI6IHsgdmFsdWU6IGlucHV0Lm93bmVyID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgcmVudDogeyB2YWx1ZTogaW5wdXQucmVudCA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgaWYgKCFhY2NvdW50cy5yZW50LnZhbHVlKSB7XG4gICAgYWNjb3VudHMucmVudC52YWx1ZSA9IFwiU3lzdmFyUmVudDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVwiO1xuICB9XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmFjY291bnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubWludCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5vd25lciksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5yZW50KVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0SW5pdGlhbGl6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgYWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBvd25lcjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIHJlbnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIElOSVRJQUxJWkVfQUNDT1VOVDJfRElTQ1JJTUlOQVRPUiA9IDE2O1xuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZUFjY291bnQyRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKElOSVRJQUxJWkVfQUNDT1VOVDJfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudDJJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wib3duZXJcIiwgZ2V0QWRkcmVzc0VuY29kZXIoKV1cbiAgICBdKSxcbiAgICAodmFsdWUpID0+ICh7IC4uLnZhbHVlLCBkaXNjcmltaW5hdG9yOiBJTklUSUFMSVpFX0FDQ09VTlQyX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVBY2NvdW50Mkluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJvd25lclwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVBY2NvdW50Mkluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldEluaXRpYWxpemVBY2NvdW50Mkluc3RydWN0aW9uRGF0YUVuY29kZXIoKSxcbiAgICBnZXRJbml0aWFsaXplQWNjb3VudDJJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVBY2NvdW50Mkluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgcmVudDogeyB2YWx1ZTogaW5wdXQucmVudCA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgaWYgKCFhY2NvdW50cy5yZW50LnZhbHVlKSB7XG4gICAgYWNjb3VudHMucmVudC52YWx1ZSA9IFwiU3lzdmFyUmVudDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVwiO1xuICB9XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmFjY291bnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubWludCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5yZW50KVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0SW5pdGlhbGl6ZUFjY291bnQySW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlSW5pdGlhbGl6ZUFjY291bnQySW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgYWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICByZW50OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRJbml0aWFsaXplQWNjb3VudDJJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKFxuICAgICAgaW5zdHJ1Y3Rpb24uZGF0YVxuICAgIClcbiAgfTtcbn1cbnZhciBJTklUSUFMSVpFX0FDQ09VTlQzX0RJU0NSSU1JTkFUT1IgPSAxODtcbmZ1bmN0aW9uIGdldEluaXRpYWxpemVBY2NvdW50M0Rpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShJTklUSUFMSVpFX0FDQ09VTlQzX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZUFjY291bnQzSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcIm93bmVyXCIsIGdldEFkZHJlc3NFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogSU5JVElBTElaRV9BQ0NPVU5UM19ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudDNJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV0sXG4gICAgW1wib3duZXJcIiwgZ2V0QWRkcmVzc0RlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudDNJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRJbml0aWFsaXplQWNjb3VudDNJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0SW5pdGlhbGl6ZUFjY291bnQzSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplQWNjb3VudDNJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBUT0tFTl9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgYWNjb3VudDogeyB2YWx1ZTogaW5wdXQuYWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgbWludDogeyB2YWx1ZTogaW5wdXQubWludCA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW2dldEFjY291bnRNZXRhKGFjY291bnRzLmFjY291bnQpLCBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5taW50KV0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0SW5pdGlhbGl6ZUFjY291bnQzSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlSW5pdGlhbGl6ZUFjY291bnQzSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgYWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVBY2NvdW50M0luc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoXG4gICAgICBpbnN0cnVjdGlvbi5kYXRhXG4gICAgKVxuICB9O1xufVxudmFyIElOSVRJQUxJWkVfSU1NVVRBQkxFX09XTkVSX0RJU0NSSU1JTkFUT1IgPSAyMjtcbmZ1bmN0aW9uIGdldEluaXRpYWxpemVJbW11dGFibGVPd25lckRpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShJTklUSUFMSVpFX0lNTVVUQUJMRV9PV05FUl9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVJbW11dGFibGVPd25lckluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldXSksXG4gICAgKHZhbHVlKSA9PiAoe1xuICAgICAgLi4udmFsdWUsXG4gICAgICBkaXNjcmltaW5hdG9yOiBJTklUSUFMSVpFX0lNTVVUQUJMRV9PV05FUl9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVJbW11dGFibGVPd25lckluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXV0pO1xufVxuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZUltbXV0YWJsZU93bmVySW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0SW5pdGlhbGl6ZUltbXV0YWJsZU93bmVySW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldEluaXRpYWxpemVJbW11dGFibGVPd25lckluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZUltbXV0YWJsZU93bmVySW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIGFjY291bnQ6IHsgdmFsdWU6IGlucHV0LmFjY291bnQgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW2dldEFjY291bnRNZXRhKGFjY291bnRzLmFjY291bnQpXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRJbml0aWFsaXplSW1tdXRhYmxlT3duZXJJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUluaXRpYWxpemVJbW11dGFibGVPd25lckluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIGFjY291bnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVJbW11dGFibGVPd25lckluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoXG4gICAgICBpbnN0cnVjdGlvbi5kYXRhXG4gICAgKVxuICB9O1xufVxudmFyIElOSVRJQUxJWkVfTUlOVF9ESVNDUklNSU5BVE9SID0gMDtcbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNaW50RGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKElOSVRJQUxJWkVfTUlOVF9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcImRlY2ltYWxzXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcIm1pbnRBdXRob3JpdHlcIiwgZ2V0QWRkcmVzc0VuY29kZXIoKV0sXG4gICAgICBbXCJmcmVlemVBdXRob3JpdHlcIiwgZ2V0T3B0aW9uRW5jb2RlcihnZXRBZGRyZXNzRW5jb2RlcigpKV1cbiAgICBdKSxcbiAgICAodmFsdWUpID0+ICh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGRpc2NyaW1pbmF0b3I6IElOSVRJQUxJWkVfTUlOVF9ESVNDUklNSU5BVE9SLFxuICAgICAgZnJlZXplQXV0aG9yaXR5OiB2YWx1ZS5mcmVlemVBdXRob3JpdHkgPz8gbm9uZSgpXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcImRlY2ltYWxzXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJtaW50QXV0aG9yaXR5XCIsIGdldEFkZHJlc3NEZWNvZGVyKCldLFxuICAgIFtcImZyZWV6ZUF1dGhvcml0eVwiLCBnZXRPcHRpb25EZWNvZGVyKGdldEFkZHJlc3NEZWNvZGVyKCkpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0SW5pdGlhbGl6ZU1pbnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0SW5pdGlhbGl6ZU1pbnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG1pbnQ6IHsgdmFsdWU6IGlucHV0Lm1pbnQgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIHJlbnQ6IHsgdmFsdWU6IGlucHV0LnJlbnQgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGlmICghYWNjb3VudHMucmVudC52YWx1ZSkge1xuICAgIGFjY291bnRzLnJlbnQudmFsdWUgPSBcIlN5c3ZhclJlbnQxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTFcIjtcbiAgfVxuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubWludCksIGdldEFjY291bnRNZXRhKGFjY291bnRzLnJlbnQpXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRJbml0aWFsaXplTWludEluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgbWludDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIHJlbnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIElOSVRJQUxJWkVfTUlOVDJfRElTQ1JJTUlOQVRPUiA9IDIwO1xuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZU1pbnQyRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKElOSVRJQUxJWkVfTUlOVDJfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplTWludDJJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wiZGVjaW1hbHNcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wibWludEF1dGhvcml0eVwiLCBnZXRBZGRyZXNzRW5jb2RlcigpXSxcbiAgICAgIFtcImZyZWV6ZUF1dGhvcml0eVwiLCBnZXRPcHRpb25FbmNvZGVyKGdldEFkZHJlc3NFbmNvZGVyKCkpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHtcbiAgICAgIC4uLnZhbHVlLFxuICAgICAgZGlzY3JpbWluYXRvcjogSU5JVElBTElaRV9NSU5UMl9ESVNDUklNSU5BVE9SLFxuICAgICAgZnJlZXplQXV0aG9yaXR5OiB2YWx1ZS5mcmVlemVBdXRob3JpdHkgPz8gbm9uZSgpXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNaW50Mkluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJkZWNpbWFsc1wiLCBnZXRVOERlY29kZXIoKV0sXG4gICAgW1wibWludEF1dGhvcml0eVwiLCBnZXRBZGRyZXNzRGVjb2RlcigpXSxcbiAgICBbXCJmcmVlemVBdXRob3JpdHlcIiwgZ2V0T3B0aW9uRGVjb2RlcihnZXRBZGRyZXNzRGVjb2RlcigpKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplTWludDJJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRJbml0aWFsaXplTWludDJJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0SW5pdGlhbGl6ZU1pbnQySW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplTWludDJJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBUT0tFTl9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgbWludDogeyB2YWx1ZTogaW5wdXQubWludCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubWludCldLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVNaW50Mkluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUluaXRpYWxpemVNaW50Mkluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVNaW50Mkluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoaW5zdHJ1Y3Rpb24uZGF0YSlcbiAgfTtcbn1cbnZhciBJTklUSUFMSVpFX01VTFRJU0lHX0RJU0NSSU1JTkFUT1IgPSAyO1xuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZU11bHRpc2lnRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKElOSVRJQUxJWkVfTVVMVElTSUdfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplTXVsdGlzaWdJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wibVwiLCBnZXRVOEVuY29kZXIoKV1cbiAgICBdKSxcbiAgICAodmFsdWUpID0+ICh7IC4uLnZhbHVlLCBkaXNjcmltaW5hdG9yOiBJTklUSUFMSVpFX01VTFRJU0lHX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJtXCIsIGdldFU4RGVjb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldEluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uRGF0YUVuY29kZXIoKSxcbiAgICBnZXRJbml0aWFsaXplTXVsdGlzaWdJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBtdWx0aXNpZzogeyB2YWx1ZTogaW5wdXQubXVsdGlzaWcgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIHJlbnQ6IHsgdmFsdWU6IGlucHV0LnJlbnQgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGlmICghYWNjb3VudHMucmVudC52YWx1ZSkge1xuICAgIGFjY291bnRzLnJlbnQudmFsdWUgPSBcIlN5c3ZhclJlbnQxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTFcIjtcbiAgfVxuICBjb25zdCByZW1haW5pbmdBY2NvdW50cyA9IGFyZ3Muc2lnbmVycy5tYXAoKGFkZHJlc3MpID0+ICh7XG4gICAgYWRkcmVzcyxcbiAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWVxuICB9KSk7XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm11bHRpc2lnKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnJlbnQpLFxuICAgICAgLi4ucmVtYWluaW5nQWNjb3VudHNcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldEluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG11bHRpc2lnOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgcmVudDogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0SW5pdGlhbGl6ZU11bHRpc2lnSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShcbiAgICAgIGluc3RydWN0aW9uLmRhdGFcbiAgICApXG4gIH07XG59XG52YXIgSU5JVElBTElaRV9NVUxUSVNJRzJfRElTQ1JJTUlOQVRPUiA9IDE5O1xuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkRpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShJTklUSUFMSVpFX01VTFRJU0lHMl9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxpemVNdWx0aXNpZzJJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wibVwiLCBnZXRVOEVuY29kZXIoKV1cbiAgICBdKSxcbiAgICAodmFsdWUpID0+ICh7IC4uLnZhbHVlLCBkaXNjcmltaW5hdG9yOiBJTklUSUFMSVpFX01VTFRJU0lHMl9ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsaXplTXVsdGlzaWcySW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcIm1cIiwgZ2V0VThEZWNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldEluaXRpYWxpemVNdWx0aXNpZzJJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBtdWx0aXNpZzogeyB2YWx1ZTogaW5wdXQubXVsdGlzaWcgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSBhcmdzLnNpZ25lcnMubWFwKChhZGRyZXNzKSA9PiAoe1xuICAgIGFkZHJlc3MsXG4gICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlcbiAgfSkpO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubXVsdGlzaWcpLCAuLi5yZW1haW5pbmdBY2NvdW50c10sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZUluaXRpYWxpemVNdWx0aXNpZzJJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBtdWx0aXNpZzogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoXG4gICAgICBpbnN0cnVjdGlvbi5kYXRhXG4gICAgKVxuICB9O1xufVxudmFyIE1JTlRfVE9fRElTQ1JJTUlOQVRPUiA9IDc7XG5mdW5jdGlvbiBnZXRNaW50VG9EaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVOEVuY29kZXIoKS5lbmNvZGUoTUlOVF9UT19ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldE1pbnRUb0luc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1xuICAgICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOEVuY29kZXIoKV0sXG4gICAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IE1JTlRfVE9fRElTQ1JJTUlOQVRPUiB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0TWludFRvSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcImFtb3VudFwiLCBnZXRVNjREZWNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0TWludFRvSW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0TWludFRvSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldE1pbnRUb0luc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0TWludFRvSW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG1pbnQ6IHsgdmFsdWU6IGlucHV0Lm1pbnQgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIHRva2VuOiB7IHZhbHVlOiBpbnB1dC50b2tlbiA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgbWludEF1dGhvcml0eTogeyB2YWx1ZTogaW5wdXQubWludEF1dGhvcml0eSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSAoYXJncy5tdWx0aVNpZ25lcnMgPz8gW10pLm1hcChcbiAgICAoc2lnbmVyKSA9PiAoe1xuICAgICAgYWRkcmVzczogc2lnbmVyLmFkZHJlc3MsXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVIsXG4gICAgICBzaWduZXJcbiAgICB9KVxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5taW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnRva2VuKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm1pbnRBdXRob3JpdHkpLFxuICAgICAgLi4ucmVtYWluaW5nQWNjb3VudHNcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldE1pbnRUb0luc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZU1pbnRUb0luc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICB0b2tlbjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnRBdXRob3JpdHk6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldE1pbnRUb0luc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoaW5zdHJ1Y3Rpb24uZGF0YSlcbiAgfTtcbn1cbnZhciBNSU5UX1RPX0NIRUNLRURfRElTQ1JJTUlOQVRPUiA9IDE0O1xuZnVuY3Rpb24gZ2V0TWludFRvQ2hlY2tlZERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShNSU5UX1RPX0NIRUNLRURfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRNaW50VG9DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcImFtb3VudFwiLCBnZXRVNjRFbmNvZGVyKCldLFxuICAgICAgW1wiZGVjaW1hbHNcIiwgZ2V0VThFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogTUlOVF9UT19DSEVDS0VEX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldE1pbnRUb0NoZWNrZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV0sXG4gICAgW1wiYW1vdW50XCIsIGdldFU2NERlY29kZXIoKV0sXG4gICAgW1wiZGVjaW1hbHNcIiwgZ2V0VThEZWNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0TWludFRvQ2hlY2tlZEluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldE1pbnRUb0NoZWNrZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0TWludFRvQ2hlY2tlZEluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0TWludFRvQ2hlY2tlZEluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICB0b2tlbjogeyB2YWx1ZTogaW5wdXQudG9rZW4gPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIG1pbnRBdXRob3JpdHk6IHsgdmFsdWU6IGlucHV0Lm1pbnRBdXRob3JpdHkgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGNvbnN0IGFyZ3MgPSB7IC4uLmlucHV0IH07XG4gIGNvbnN0IHJlbWFpbmluZ0FjY291bnRzID0gKGFyZ3MubXVsdGlTaWduZXJzID8/IFtdKS5tYXAoXG4gICAgKHNpZ25lcikgPT4gKHtcbiAgICAgIGFkZHJlc3M6IHNpZ25lci5hZGRyZXNzLFxuICAgICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlfU0lHTkVSLFxuICAgICAgc2lnbmVyXG4gICAgfSlcbiAgKTtcbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubWludCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy50b2tlbiksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5taW50QXV0aG9yaXR5KSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRNaW50VG9DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlTWludFRvQ2hlY2tlZEluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cy5sZW5ndGggPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBhY2NvdW50c1wiKTtcbiAgfVxuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgY29uc3QgZ2V0TmV4dEFjY291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWNjb3VudE1ldGEgPSBpbnN0cnVjdGlvbi5hY2NvdW50c1thY2NvdW50SW5kZXhdO1xuICAgIGFjY291bnRJbmRleCArPSAxO1xuICAgIHJldHVybiBhY2NvdW50TWV0YTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MsXG4gICAgYWNjb3VudHM6IHtcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICB0b2tlbjogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnRBdXRob3JpdHk6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldE1pbnRUb0NoZWNrZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgUkVDT1ZFUl9ORVNURURfQVNTT0NJQVRFRF9UT0tFTl9ESVNDUklNSU5BVE9SID0gMjtcbmZ1bmN0aW9uIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5EaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVOEVuY29kZXIoKS5lbmNvZGUoUkVDT1ZFUl9ORVNURURfQVNTT0NJQVRFRF9UT0tFTl9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXV0pLFxuICAgICh2YWx1ZSkgPT4gKHtcbiAgICAgIC4uLnZhbHVlLFxuICAgICAgZGlzY3JpbWluYXRvcjogUkVDT1ZFUl9ORVNURURfQVNTT0NJQVRFRF9UT0tFTl9ESVNDUklNSU5BVE9SXG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV1dKTtcbn1cbmZ1bmN0aW9uIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRSZWNvdmVyTmVzdGVkQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkFzeW5jKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IEFTU09DSUFURURfVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG5lc3RlZEFzc29jaWF0ZWRBY2NvdW50QWRkcmVzczoge1xuICAgICAgdmFsdWU6IGlucHV0Lm5lc3RlZEFzc29jaWF0ZWRBY2NvdW50QWRkcmVzcyA/PyBudWxsLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbmVzdGVkVG9rZW5NaW50QWRkcmVzczoge1xuICAgICAgdmFsdWU6IGlucHV0Lm5lc3RlZFRva2VuTWludEFkZHJlc3MgPz8gbnVsbCxcbiAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgfSxcbiAgICBkZXN0aW5hdGlvbkFzc29jaWF0ZWRBY2NvdW50QWRkcmVzczoge1xuICAgICAgdmFsdWU6IGlucHV0LmRlc3RpbmF0aW9uQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzID8/IG51bGwsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBvd25lckFzc29jaWF0ZWRBY2NvdW50QWRkcmVzczoge1xuICAgICAgdmFsdWU6IGlucHV0Lm93bmVyQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzID8/IG51bGwsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgb3duZXJUb2tlbk1pbnRBZGRyZXNzOiB7XG4gICAgICB2YWx1ZTogaW5wdXQub3duZXJUb2tlbk1pbnRBZGRyZXNzID8/IG51bGwsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgd2FsbGV0QWRkcmVzczogeyB2YWx1ZTogaW5wdXQud2FsbGV0QWRkcmVzcyA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgdG9rZW5Qcm9ncmFtOiB7IHZhbHVlOiBpbnB1dC50b2tlblByb2dyYW0gPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfVxuICB9O1xuICBjb25zdCBhY2NvdW50cyA9IG9yaWdpbmFsQWNjb3VudHM7XG4gIGlmICghYWNjb3VudHMudG9rZW5Qcm9ncmFtLnZhbHVlKSB7XG4gICAgYWNjb3VudHMudG9rZW5Qcm9ncmFtLnZhbHVlID0gXCJUb2tlbmtlZ1FmZVp5aU53QUpiTmJHS1BGWENXdUJ2ZjlTczYyM1ZRNURBXCI7XG4gIH1cbiAgaWYgKCFhY2NvdW50cy5vd25lckFzc29jaWF0ZWRBY2NvdW50QWRkcmVzcy52YWx1ZSkge1xuICAgIGFjY291bnRzLm93bmVyQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzLnZhbHVlID0gYXdhaXQgZmluZEFzc29jaWF0ZWRUb2tlblBkYShcbiAgICAgIHtcbiAgICAgICAgb3duZXI6IGV4cGVjdEFkZHJlc3MoYWNjb3VudHMud2FsbGV0QWRkcmVzcy52YWx1ZSksXG4gICAgICAgIHRva2VuUHJvZ3JhbTogZXhwZWN0QWRkcmVzcyhhY2NvdW50cy50b2tlblByb2dyYW0udmFsdWUpLFxuICAgICAgICBtaW50OiBleHBlY3RBZGRyZXNzKGFjY291bnRzLm93bmVyVG9rZW5NaW50QWRkcmVzcy52YWx1ZSlcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGlmICghYWNjb3VudHMubmVzdGVkQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzLnZhbHVlKSB7XG4gICAgYWNjb3VudHMubmVzdGVkQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzLnZhbHVlID0gYXdhaXQgZmluZEFzc29jaWF0ZWRUb2tlblBkYSh7XG4gICAgICBvd25lcjogZXhwZWN0QWRkcmVzcyhhY2NvdW50cy5vd25lckFzc29jaWF0ZWRBY2NvdW50QWRkcmVzcy52YWx1ZSksXG4gICAgICB0b2tlblByb2dyYW06IGV4cGVjdEFkZHJlc3MoYWNjb3VudHMudG9rZW5Qcm9ncmFtLnZhbHVlKSxcbiAgICAgIG1pbnQ6IGV4cGVjdEFkZHJlc3MoYWNjb3VudHMubmVzdGVkVG9rZW5NaW50QWRkcmVzcy52YWx1ZSlcbiAgICB9KTtcbiAgfVxuICBpZiAoIWFjY291bnRzLmRlc3RpbmF0aW9uQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzLnZhbHVlKSB7XG4gICAgYWNjb3VudHMuZGVzdGluYXRpb25Bc3NvY2lhdGVkQWNjb3VudEFkZHJlc3MudmFsdWUgPSBhd2FpdCBmaW5kQXNzb2NpYXRlZFRva2VuUGRhKHtcbiAgICAgIG93bmVyOiBleHBlY3RBZGRyZXNzKGFjY291bnRzLndhbGxldEFkZHJlc3MudmFsdWUpLFxuICAgICAgdG9rZW5Qcm9ncmFtOiBleHBlY3RBZGRyZXNzKGFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSksXG4gICAgICBtaW50OiBleHBlY3RBZGRyZXNzKGFjY291bnRzLm5lc3RlZFRva2VuTWludEFkZHJlc3MudmFsdWUpXG4gICAgfSk7XG4gIH1cbiAgY29uc3QgZ2V0QWNjb3VudE1ldGEgPSBnZXRBY2NvdW50TWV0YUZhY3RvcnkocHJvZ3JhbUFkZHJlc3MpO1xuICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICBhY2NvdW50czogW1xuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubmVzdGVkQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm5lc3RlZFRva2VuTWludEFkZHJlc3MpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuZGVzdGluYXRpb25Bc3NvY2lhdGVkQWNjb3VudEFkZHJlc3MpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMub3duZXJBc3NvY2lhdGVkQWNjb3VudEFkZHJlc3MpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMub3duZXJUb2tlbk1pbnRBZGRyZXNzKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLndhbGxldEFkZHJlc3MpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMudG9rZW5Qcm9ncmFtKVxuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0UmVjb3Zlck5lc3RlZEFzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoe30pXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBBU1NPQ0lBVEVEX1RPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBuZXN0ZWRBc3NvY2lhdGVkQWNjb3VudEFkZHJlc3M6IHtcbiAgICAgIHZhbHVlOiBpbnB1dC5uZXN0ZWRBc3NvY2lhdGVkQWNjb3VudEFkZHJlc3MgPz8gbnVsbCxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIG5lc3RlZFRva2VuTWludEFkZHJlc3M6IHtcbiAgICAgIHZhbHVlOiBpbnB1dC5uZXN0ZWRUb2tlbk1pbnRBZGRyZXNzID8/IG51bGwsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgZGVzdGluYXRpb25Bc3NvY2lhdGVkQWNjb3VudEFkZHJlc3M6IHtcbiAgICAgIHZhbHVlOiBpbnB1dC5kZXN0aW5hdGlvbkFzc29jaWF0ZWRBY2NvdW50QWRkcmVzcyA/PyBudWxsLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgb3duZXJBc3NvY2lhdGVkQWNjb3VudEFkZHJlc3M6IHtcbiAgICAgIHZhbHVlOiBpbnB1dC5vd25lckFzc29jaWF0ZWRBY2NvdW50QWRkcmVzcyA/PyBudWxsLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9LFxuICAgIG93bmVyVG9rZW5NaW50QWRkcmVzczoge1xuICAgICAgdmFsdWU6IGlucHV0Lm93bmVyVG9rZW5NaW50QWRkcmVzcyA/PyBudWxsLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9LFxuICAgIHdhbGxldEFkZHJlc3M6IHsgdmFsdWU6IGlucHV0LndhbGxldEFkZHJlc3MgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIHRva2VuUHJvZ3JhbTogeyB2YWx1ZTogaW5wdXQudG9rZW5Qcm9ncmFtID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBpZiAoIWFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSkge1xuICAgIGFjY291bnRzLnRva2VuUHJvZ3JhbS52YWx1ZSA9IFwiVG9rZW5rZWdRZmVaeWlOd0FKYk5iR0tQRlhDV3VCdmY5U3M2MjNWUTVEQVwiO1xuICB9XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm5lc3RlZEFzc29jaWF0ZWRBY2NvdW50QWRkcmVzcyksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5uZXN0ZWRUb2tlbk1pbnRBZGRyZXNzKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmRlc3RpbmF0aW9uQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyQXNzb2NpYXRlZEFjY291bnRBZGRyZXNzKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyVG9rZW5NaW50QWRkcmVzcyksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy53YWxsZXRBZGRyZXNzKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnRva2VuUHJvZ3JhbSlcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZVJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgNykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBuZXN0ZWRBc3NvY2lhdGVkQWNjb3VudEFkZHJlc3M6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBuZXN0ZWRUb2tlbk1pbnRBZGRyZXNzOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgZGVzdGluYXRpb25Bc3NvY2lhdGVkQWNjb3VudEFkZHJlc3M6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBvd25lckFzc29jaWF0ZWRBY2NvdW50QWRkcmVzczogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG93bmVyVG9rZW5NaW50QWRkcmVzczogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIHdhbGxldEFkZHJlc3M6IGdldE5leHRBY2NvdW50KCksXG4gICAgICB0b2tlblByb2dyYW06IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKFxuICAgICAgaW5zdHJ1Y3Rpb24uZGF0YVxuICAgIClcbiAgfTtcbn1cbnZhciBSRVZPS0VfRElTQ1JJTUlOQVRPUiA9IDU7XG5mdW5jdGlvbiBnZXRSZXZva2VEaXNjcmltaW5hdG9yQnl0ZXMoKSB7XG4gIHJldHVybiBnZXRVOEVuY29kZXIoKS5lbmNvZGUoUkVWT0tFX0RJU0NSSU1JTkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0UmV2b2tlSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOEVuY29kZXIoKV1dKSxcbiAgICAodmFsdWUpID0+ICh7IC4uLnZhbHVlLCBkaXNjcmltaW5hdG9yOiBSRVZPS0VfRElTQ1JJTUlOQVRPUiB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0UmV2b2tlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldXSk7XG59XG5mdW5jdGlvbiBnZXRSZXZva2VJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRSZXZva2VJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0UmV2b2tlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRSZXZva2VJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBUT0tFTl9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgc291cmNlOiB7IHZhbHVlOiBpbnB1dC5zb3VyY2UgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIG93bmVyOiB7IHZhbHVlOiBpbnB1dC5vd25lciA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSAoYXJncy5tdWx0aVNpZ25lcnMgPz8gW10pLm1hcChcbiAgICAoc2lnbmVyKSA9PiAoe1xuICAgICAgYWRkcmVzczogc2lnbmVyLmFkZHJlc3MsXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVIsXG4gICAgICBzaWduZXJcbiAgICB9KVxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5zb3VyY2UpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMub3duZXIpLFxuICAgICAgLi4ucmVtYWluaW5nQWNjb3VudHNcbiAgICBdLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldFJldm9rZUluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoe30pXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlUmV2b2tlSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgc291cmNlOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgb3duZXI6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldFJldm9rZUluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoaW5zdHJ1Y3Rpb24uZGF0YSlcbiAgfTtcbn1cbnZhciBTRVRfQVVUSE9SSVRZX0RJU0NSSU1JTkFUT1IgPSA2O1xuZnVuY3Rpb24gZ2V0U2V0QXV0aG9yaXR5RGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKFNFVF9BVVRIT1JJVFlfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRTZXRBdXRob3JpdHlJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wiYXV0aG9yaXR5VHlwZVwiLCBnZXRBdXRob3JpdHlUeXBlRW5jb2RlcigpXSxcbiAgICAgIFtcIm5ld0F1dGhvcml0eVwiLCBnZXRPcHRpb25FbmNvZGVyKGdldEFkZHJlc3NFbmNvZGVyKCkpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IFNFVF9BVVRIT1JJVFlfRElTQ1JJTUlOQVRPUiB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0U2V0QXV0aG9yaXR5SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcImF1dGhvcml0eVR5cGVcIiwgZ2V0QXV0aG9yaXR5VHlwZURlY29kZXIoKV0sXG4gICAgW1wibmV3QXV0aG9yaXR5XCIsIGdldE9wdGlvbkRlY29kZXIoZ2V0QWRkcmVzc0RlY29kZXIoKSldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0U2V0QXV0aG9yaXR5SW5zdHJ1Y3Rpb25EYXRhQ29kZWMoKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0U2V0QXV0aG9yaXR5SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldFNldEF1dGhvcml0eUluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0U2V0QXV0aG9yaXR5SW5zdHJ1Y3Rpb24oaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBwcm9ncmFtQWRkcmVzcyA9IGNvbmZpZz8ucHJvZ3JhbUFkZHJlc3MgPz8gVE9LRU5fUFJPR1JBTV9BRERSRVNTO1xuICBjb25zdCBvcmlnaW5hbEFjY291bnRzID0ge1xuICAgIG93bmVkOiB7IHZhbHVlOiBpbnB1dC5vd25lZCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgb3duZXI6IHsgdmFsdWU6IGlucHV0Lm93bmVyID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCByZW1haW5pbmdBY2NvdW50cyA9IChhcmdzLm11bHRpU2lnbmVycyA/PyBbXSkubWFwKFxuICAgIChzaWduZXIpID0+ICh7XG4gICAgICBhZGRyZXNzOiBzaWduZXIuYWRkcmVzcyxcbiAgICAgIHJvbGU6IEFjY291bnRSb2xlLlJFQURPTkxZX1NJR05FUixcbiAgICAgIHNpZ25lclxuICAgIH0pXG4gICk7XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVkKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLm93bmVyKSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRTZXRBdXRob3JpdHlJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKFxuICAgICAgYXJnc1xuICAgIClcbiAgfTtcbiAgcmV0dXJuIGluc3RydWN0aW9uO1xufVxuZnVuY3Rpb24gcGFyc2VTZXRBdXRob3JpdHlJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBvd25lZDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG93bmVyOiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRTZXRBdXRob3JpdHlJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgU1lOQ19OQVRJVkVfRElTQ1JJTUlOQVRPUiA9IDE3O1xuZnVuY3Rpb24gZ2V0U3luY05hdGl2ZURpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShTWU5DX05BVElWRV9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldFN5bmNOYXRpdmVJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXV0pLFxuICAgICh2YWx1ZSkgPT4gKHsgLi4udmFsdWUsIGRpc2NyaW1pbmF0b3I6IFNZTkNfTkFUSVZFX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFN5bmNOYXRpdmVJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV1dKTtcbn1cbmZ1bmN0aW9uIGdldFN5bmNOYXRpdmVJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRTeW5jTmF0aXZlSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldFN5bmNOYXRpdmVJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFN5bmNOYXRpdmVJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBUT0tFTl9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgYWNjb3VudDogeyB2YWx1ZTogaW5wdXQuYWNjb3VudCA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYWNjb3VudCldLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldFN5bmNOYXRpdmVJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZVN5bmNOYXRpdmVJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudHMubGVuZ3RoIDwgMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBlbm91Z2ggYWNjb3VudHNcIik7XG4gIH1cbiAgbGV0IGFjY291bnRJbmRleCA9IDA7XG4gIGNvbnN0IGdldE5leHRBY2NvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRNZXRhID0gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbYWNjb3VudEluZGV4XTtcbiAgICBhY2NvdW50SW5kZXggKz0gMTtcbiAgICByZXR1cm4gYWNjb3VudE1ldGE7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzLFxuICAgIGFjY291bnRzOiB7XG4gICAgICBhY2NvdW50OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRTeW5jTmF0aXZlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIFRIQVdfQUNDT1VOVF9ESVNDUklNSU5BVE9SID0gMTE7XG5mdW5jdGlvbiBnZXRUaGF3QWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShUSEFXX0FDQ09VTlRfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRUaGF3QWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFN0cnVjdEVuY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogVEhBV19BQ0NPVU5UX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFRoYXdBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1tcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldXSk7XG59XG5mdW5jdGlvbiBnZXRUaGF3QWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldFRoYXdBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldFRoYXdBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRUaGF3QWNjb3VudEluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBhY2NvdW50OiB7IHZhbHVlOiBpbnB1dC5hY2NvdW50ID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH0sXG4gICAgb3duZXI6IHsgdmFsdWU6IGlucHV0Lm93bmVyID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCByZW1haW5pbmdBY2NvdW50cyA9IChhcmdzLm11bHRpU2lnbmVycyA/PyBbXSkubWFwKFxuICAgIChzaWduZXIpID0+ICh7XG4gICAgICBhZGRyZXNzOiBzaWduZXIuYWRkcmVzcyxcbiAgICAgIHJvbGU6IEFjY291bnRSb2xlLlJFQURPTkxZX1NJR05FUixcbiAgICAgIHNpZ25lclxuICAgIH0pXG4gICk7XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmFjY291bnQpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubWludCksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5vd25lciksXG4gICAgICAuLi5yZW1haW5pbmdBY2NvdW50c1xuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0VGhhd0FjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKHt9KVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZVRoYXdBY2NvdW50SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgYWNjb3VudDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIG1pbnQ6IGdldE5leHRBY2NvdW50KCksXG4gICAgICBvd25lcjogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0VGhhd0FjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgVFJBTlNGRVJfRElTQ1JJTUlOQVRPUiA9IDM7XG5mdW5jdGlvbiBnZXRUcmFuc2ZlckRpc2NyaW1pbmF0b3JCeXRlcygpIHtcbiAgcmV0dXJuIGdldFU4RW5jb2RlcigpLmVuY29kZShUUkFOU0ZFUl9ESVNDUklNSU5BVE9SKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVySW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcImFtb3VudFwiLCBnZXRVNjRFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogVFJBTlNGRVJfRElTQ1JJTUlOQVRPUiB9KVxuICApO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNmZXJJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wiZGlzY3JpbWluYXRvclwiLCBnZXRVOERlY29kZXIoKV0sXG4gICAgW1wiYW1vdW50XCIsIGdldFU2NERlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2Zlckluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldFRyYW5zZmVySW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLFxuICAgIGdldFRyYW5zZmVySW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2Zlckluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBzb3VyY2U6IHsgdmFsdWU6IGlucHV0LnNvdXJjZSA/PyBudWxsLCBpc1dyaXRhYmxlOiB0cnVlIH0sXG4gICAgZGVzdGluYXRpb246IHsgdmFsdWU6IGlucHV0LmRlc3RpbmF0aW9uID8/IG51bGwsIGlzV3JpdGFibGU6IHRydWUgfSxcbiAgICBhdXRob3JpdHk6IHsgdmFsdWU6IGlucHV0LmF1dGhvcml0eSA/PyBudWxsLCBpc1dyaXRhYmxlOiBmYWxzZSB9XG4gIH07XG4gIGNvbnN0IGFjY291bnRzID0gb3JpZ2luYWxBY2NvdW50cztcbiAgY29uc3QgYXJncyA9IHsgLi4uaW5wdXQgfTtcbiAgY29uc3QgcmVtYWluaW5nQWNjb3VudHMgPSAoYXJncy5tdWx0aVNpZ25lcnMgPz8gW10pLm1hcChcbiAgICAoc2lnbmVyKSA9PiAoe1xuICAgICAgYWRkcmVzczogc2lnbmVyLmFkZHJlc3MsXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVIsXG4gICAgICBzaWduZXJcbiAgICB9KVxuICApO1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5zb3VyY2UpLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuZGVzdGluYXRpb24pLFxuICAgICAgZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMuYXV0aG9yaXR5KSxcbiAgICAgIC4uLnJlbWFpbmluZ0FjY291bnRzXG4gICAgXSxcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICBkYXRhOiBnZXRUcmFuc2Zlckluc3RydWN0aW9uRGF0YUVuY29kZXIoKS5lbmNvZGUoXG4gICAgICBhcmdzXG4gICAgKVxuICB9O1xuICByZXR1cm4gaW5zdHJ1Y3Rpb247XG59XG5mdW5jdGlvbiBwYXJzZVRyYW5zZmVySW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgc291cmNlOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgZGVzdGluYXRpb246IGdldE5leHRBY2NvdW50KCksXG4gICAgICBhdXRob3JpdHk6IGdldE5leHRBY2NvdW50KClcbiAgICB9LFxuICAgIGRhdGE6IGdldFRyYW5zZmVySW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpLmRlY29kZShpbnN0cnVjdGlvbi5kYXRhKVxuICB9O1xufVxudmFyIFRSQU5TRkVSX0NIRUNLRURfRElTQ1JJTUlOQVRPUiA9IDEyO1xuZnVuY3Rpb24gZ2V0VHJhbnNmZXJDaGVja2VkRGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKFRSQU5TRkVSX0NIRUNLRURfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRTdHJ1Y3RFbmNvZGVyKFtcbiAgICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgW1wiYW1vdW50XCIsIGdldFU2NEVuY29kZXIoKV0sXG4gICAgICBbXCJkZWNpbWFsc1wiLCBnZXRVOEVuY29kZXIoKV1cbiAgICBdKSxcbiAgICAodmFsdWUpID0+ICh7IC4uLnZhbHVlLCBkaXNjcmltaW5hdG9yOiBUUkFOU0ZFUl9DSEVDS0VEX0RJU0NSSU1JTkFUT1IgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZmVyQ2hlY2tlZEluc3RydWN0aW9uRGF0YURlY29kZXIoKSB7XG4gIHJldHVybiBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RGVjb2RlcigpXSxcbiAgICBbXCJhbW91bnRcIiwgZ2V0VTY0RGVjb2RlcigpXSxcbiAgICBbXCJkZWNpbWFsc1wiLCBnZXRVOERlY29kZXIoKV1cbiAgXSk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbkRhdGFDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXRUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0VHJhbnNmZXJDaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpXG4gICk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbihpbnB1dCwgY29uZmlnKSB7XG4gIGNvbnN0IHByb2dyYW1BZGRyZXNzID0gY29uZmlnPy5wcm9ncmFtQWRkcmVzcyA/PyBUT0tFTl9QUk9HUkFNX0FERFJFU1M7XG4gIGNvbnN0IG9yaWdpbmFsQWNjb3VudHMgPSB7XG4gICAgc291cmNlOiB7IHZhbHVlOiBpbnB1dC5zb3VyY2UgPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIG1pbnQ6IHsgdmFsdWU6IGlucHV0Lm1pbnQgPz8gbnVsbCwgaXNXcml0YWJsZTogZmFsc2UgfSxcbiAgICBkZXN0aW5hdGlvbjogeyB2YWx1ZTogaW5wdXQuZGVzdGluYXRpb24gPz8gbnVsbCwgaXNXcml0YWJsZTogdHJ1ZSB9LFxuICAgIGF1dGhvcml0eTogeyB2YWx1ZTogaW5wdXQuYXV0aG9yaXR5ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCByZW1haW5pbmdBY2NvdW50cyA9IChhcmdzLm11bHRpU2lnbmVycyA/PyBbXSkubWFwKFxuICAgIChzaWduZXIpID0+ICh7XG4gICAgICBhZGRyZXNzOiBzaWduZXIuYWRkcmVzcyxcbiAgICAgIHJvbGU6IEFjY291bnRSb2xlLlJFQURPTkxZX1NJR05FUixcbiAgICAgIHNpZ25lclxuICAgIH0pXG4gICk7XG4gIGNvbnN0IGdldEFjY291bnRNZXRhID0gZ2V0QWNjb3VudE1ldGFGYWN0b3J5KHByb2dyYW1BZGRyZXNzKTtcbiAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgYWNjb3VudHM6IFtcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLnNvdXJjZSksXG4gICAgICBnZXRBY2NvdW50TWV0YShhY2NvdW50cy5taW50KSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmRlc3RpbmF0aW9uKSxcbiAgICAgIGdldEFjY291bnRNZXRhKGFjY291bnRzLmF1dGhvcml0eSksXG4gICAgICAuLi5yZW1haW5pbmdBY2NvdW50c1xuICAgIF0sXG4gICAgcHJvZ3JhbUFkZHJlc3MsXG4gICAgZGF0YTogZ2V0VHJhbnNmZXJDaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpLmVuY29kZShcbiAgICAgIGFyZ3NcbiAgICApXG4gIH07XG4gIHJldHVybiBpbnN0cnVjdGlvbjtcbn1cbmZ1bmN0aW9uIHBhcnNlVHJhbnNmZXJDaGVja2VkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgc291cmNlOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgbWludDogZ2V0TmV4dEFjY291bnQoKSxcbiAgICAgIGRlc3RpbmF0aW9uOiBnZXROZXh0QWNjb3VudCgpLFxuICAgICAgYXV0aG9yaXR5OiBnZXROZXh0QWNjb3VudCgpXG4gICAgfSxcbiAgICBkYXRhOiBnZXRUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyKCkuZGVjb2RlKGluc3RydWN0aW9uLmRhdGEpXG4gIH07XG59XG52YXIgVUlfQU1PVU5UX1RPX0FNT1VOVF9ESVNDUklNSU5BVE9SID0gMjQ7XG5mdW5jdGlvbiBnZXRVaUFtb3VudFRvQW1vdW50RGlzY3JpbWluYXRvckJ5dGVzKCkge1xuICByZXR1cm4gZ2V0VThFbmNvZGVyKCkuZW5jb2RlKFVJX0FNT1VOVF9UT19BTU9VTlRfRElTQ1JJTUlOQVRPUik7XG59XG5mdW5jdGlvbiBnZXRVaUFtb3VudFRvQW1vdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICBbXCJkaXNjcmltaW5hdG9yXCIsIGdldFU4RW5jb2RlcigpXSxcbiAgICAgIFtcInVpQW1vdW50XCIsIGdldFV0ZjhFbmNvZGVyKCldXG4gICAgXSksXG4gICAgKHZhbHVlKSA9PiAoeyAuLi52YWx1ZSwgZGlzY3JpbWluYXRvcjogVUlfQU1PVU5UX1RPX0FNT1VOVF9ESVNDUklNSU5BVE9SIH0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRVaUFtb3VudFRvQW1vdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdERlY29kZXIoW1xuICAgIFtcImRpc2NyaW1pbmF0b3JcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgIFtcInVpQW1vdW50XCIsIGdldFV0ZjhEZWNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0VWlBbW91bnRUb0Ftb3VudEluc3RydWN0aW9uRGF0YUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldFVpQW1vdW50VG9BbW91bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCksXG4gICAgZ2V0VWlBbW91bnRUb0Ftb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIoKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0VWlBbW91bnRUb0Ftb3VudEluc3RydWN0aW9uKGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBjb25maWc/LnByb2dyYW1BZGRyZXNzID8/IFRPS0VOX1BST0dSQU1fQUREUkVTUztcbiAgY29uc3Qgb3JpZ2luYWxBY2NvdW50cyA9IHtcbiAgICBtaW50OiB7IHZhbHVlOiBpbnB1dC5taW50ID8/IG51bGwsIGlzV3JpdGFibGU6IGZhbHNlIH1cbiAgfTtcbiAgY29uc3QgYWNjb3VudHMgPSBvcmlnaW5hbEFjY291bnRzO1xuICBjb25zdCBhcmdzID0geyAuLi5pbnB1dCB9O1xuICBjb25zdCBnZXRBY2NvdW50TWV0YSA9IGdldEFjY291bnRNZXRhRmFjdG9yeShwcm9ncmFtQWRkcmVzcyk7XG4gIGNvbnN0IGluc3RydWN0aW9uID0ge1xuICAgIGFjY291bnRzOiBbZ2V0QWNjb3VudE1ldGEoYWNjb3VudHMubWludCldLFxuICAgIHByb2dyYW1BZGRyZXNzLFxuICAgIGRhdGE6IGdldFVpQW1vdW50VG9BbW91bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyKCkuZW5jb2RlKFxuICAgICAgYXJnc1xuICAgIClcbiAgfTtcbiAgcmV0dXJuIGluc3RydWN0aW9uO1xufVxuZnVuY3Rpb24gcGFyc2VVaUFtb3VudFRvQW1vdW50SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIGFjY291bnRzXCIpO1xuICB9XG4gIGxldCBhY2NvdW50SW5kZXggPSAwO1xuICBjb25zdCBnZXROZXh0QWNjb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCBhY2NvdW50TWV0YSA9IGluc3RydWN0aW9uLmFjY291bnRzW2FjY291bnRJbmRleF07XG4gICAgYWNjb3VudEluZGV4ICs9IDE7XG4gICAgcmV0dXJuIGFjY291bnRNZXRhO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICBhY2NvdW50czoge1xuICAgICAgbWludDogZ2V0TmV4dEFjY291bnQoKVxuICAgIH0sXG4gICAgZGF0YTogZ2V0VWlBbW91bnRUb0Ftb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIoKS5kZWNvZGUoaW5zdHJ1Y3Rpb24uZGF0YSlcbiAgfTtcbn1cblxuZXhwb3J0IHsgQU1PVU5UX1RPX1VJX0FNT1VOVF9ESVNDUklNSU5BVE9SLCBBUFBST1ZFX0NIRUNLRURfRElTQ1JJTUlOQVRPUiwgQVBQUk9WRV9ESVNDUklNSU5BVE9SLCBBU1NPQ0lBVEVEX1RPS0VOX0VSUk9SX19JTlZBTElEX09XTkVSLCBBU1NPQ0lBVEVEX1RPS0VOX1BST0dSQU1fQUREUkVTUywgQWNjb3VudFN0YXRlLCBBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbiwgQXV0aG9yaXR5VHlwZSwgQlVSTl9DSEVDS0VEX0RJU0NSSU1JTkFUT1IsIEJVUk5fRElTQ1JJTUlOQVRPUiwgQ0xPU0VfQUNDT1VOVF9ESVNDUklNSU5BVE9SLCBDUkVBVEVfQVNTT0NJQVRFRF9UT0tFTl9ESVNDUklNSU5BVE9SLCBDUkVBVEVfQVNTT0NJQVRFRF9UT0tFTl9JREVNUE9URU5UX0RJU0NSSU1JTkFUT1IsIEZSRUVaRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IsIEdFVF9BQ0NPVU5UX0RBVEFfU0laRV9ESVNDUklNSU5BVE9SLCBJTklUSUFMSVpFX0FDQ09VTlQyX0RJU0NSSU1JTkFUT1IsIElOSVRJQUxJWkVfQUNDT1VOVDNfRElTQ1JJTUlOQVRPUiwgSU5JVElBTElaRV9BQ0NPVU5UX0RJU0NSSU1JTkFUT1IsIElOSVRJQUxJWkVfSU1NVVRBQkxFX09XTkVSX0RJU0NSSU1JTkFUT1IsIElOSVRJQUxJWkVfTUlOVDJfRElTQ1JJTUlOQVRPUiwgSU5JVElBTElaRV9NSU5UX0RJU0NSSU1JTkFUT1IsIElOSVRJQUxJWkVfTVVMVElTSUcyX0RJU0NSSU1JTkFUT1IsIElOSVRJQUxJWkVfTVVMVElTSUdfRElTQ1JJTUlOQVRPUiwgTUlOVF9UT19DSEVDS0VEX0RJU0NSSU1JTkFUT1IsIE1JTlRfVE9fRElTQ1JJTUlOQVRPUiwgUkVDT1ZFUl9ORVNURURfQVNTT0NJQVRFRF9UT0tFTl9ESVNDUklNSU5BVE9SLCBSRVZPS0VfRElTQ1JJTUlOQVRPUiwgU0VUX0FVVEhPUklUWV9ESVNDUklNSU5BVE9SLCBTWU5DX05BVElWRV9ESVNDUklNSU5BVE9SLCBUSEFXX0FDQ09VTlRfRElTQ1JJTUlOQVRPUiwgVE9LRU5fRVJST1JfX0FDQ09VTlRfRlJPWkVOLCBUT0tFTl9FUlJPUl9fQUxSRUFEWV9JTl9VU0UsIFRPS0VOX0VSUk9SX19BVVRIT1JJVFlfVFlQRV9OT1RfU1VQUE9SVEVELCBUT0tFTl9FUlJPUl9fRklYRURfU1VQUExZLCBUT0tFTl9FUlJPUl9fSU5TVUZGSUNJRU5UX0ZVTkRTLCBUT0tFTl9FUlJPUl9fSU5WQUxJRF9JTlNUUlVDVElPTiwgVE9LRU5fRVJST1JfX0lOVkFMSURfTUlOVCwgVE9LRU5fRVJST1JfX0lOVkFMSURfTlVNQkVSX09GX1BST1ZJREVEX1NJR05FUlMsIFRPS0VOX0VSUk9SX19JTlZBTElEX05VTUJFUl9PRl9SRVFVSVJFRF9TSUdORVJTLCBUT0tFTl9FUlJPUl9fSU5WQUxJRF9TVEFURSwgVE9LRU5fRVJST1JfX01JTlRfQ0FOTk9UX0ZSRUVaRSwgVE9LRU5fRVJST1JfX01JTlRfREVDSU1BTFNfTUlTTUFUQ0gsIFRPS0VOX0VSUk9SX19NSU5UX01JU01BVENILCBUT0tFTl9FUlJPUl9fTkFUSVZFX05PVF9TVVBQT1JURUQsIFRPS0VOX0VSUk9SX19OT05fTkFUSVZFX0hBU19CQUxBTkNFLCBUT0tFTl9FUlJPUl9fTk9OX05BVElWRV9OT1RfU1VQUE9SVEVELCBUT0tFTl9FUlJPUl9fTk9UX1JFTlRfRVhFTVBULCBUT0tFTl9FUlJPUl9fT1ZFUkZMT1csIFRPS0VOX0VSUk9SX19PV05FUl9NSVNNQVRDSCwgVE9LRU5fRVJST1JfX1VOSU5JVElBTElaRURfU1RBVEUsIFRPS0VOX1BST0dSQU1fQUREUkVTUywgVFJBTlNGRVJfQ0hFQ0tFRF9ESVNDUklNSU5BVE9SLCBUUkFOU0ZFUl9ESVNDUklNSU5BVE9SLCBUb2tlbkFjY291bnQsIFRva2VuSW5zdHJ1Y3Rpb24sIFVJX0FNT1VOVF9UT19BTU9VTlRfRElTQ1JJTUlOQVRPUiwgZGVjb2RlTWludCwgZGVjb2RlTXVsdGlzaWcsIGRlY29kZVRva2VuLCBmZXRjaEFsbE1heWJlTWludCwgZmV0Y2hBbGxNYXliZU11bHRpc2lnLCBmZXRjaEFsbE1heWJlVG9rZW4sIGZldGNoQWxsTWludCwgZmV0Y2hBbGxNdWx0aXNpZywgZmV0Y2hBbGxUb2tlbiwgZmV0Y2hNYXliZU1pbnQsIGZldGNoTWF5YmVNdWx0aXNpZywgZmV0Y2hNYXliZVRva2VuLCBmZXRjaE1pbnQsIGZldGNoTXVsdGlzaWcsIGZldGNoVG9rZW4sIGZpbmRBc3NvY2lhdGVkVG9rZW5QZGEsIGdldEFjY291bnRTdGF0ZUNvZGVjLCBnZXRBY2NvdW50U3RhdGVEZWNvZGVyLCBnZXRBY2NvdW50U3RhdGVFbmNvZGVyLCBnZXRBbW91bnRUb1VpQW1vdW50RGlzY3JpbWluYXRvckJ5dGVzLCBnZXRBbW91bnRUb1VpQW1vdW50SW5zdHJ1Y3Rpb24sIGdldEFtb3VudFRvVWlBbW91bnRJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0QW1vdW50VG9VaUFtb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldEFtb3VudFRvVWlBbW91bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRBcHByb3ZlQ2hlY2tlZERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0QXBwcm92ZUNoZWNrZWRJbnN0cnVjdGlvbiwgZ2V0QXBwcm92ZUNoZWNrZWRJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0QXBwcm92ZUNoZWNrZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRBcHByb3ZlQ2hlY2tlZEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldEFwcHJvdmVEaXNjcmltaW5hdG9yQnl0ZXMsIGdldEFwcHJvdmVJbnN0cnVjdGlvbiwgZ2V0QXBwcm92ZUluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRBcHByb3ZlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0QXBwcm92ZUluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldEFzc29jaWF0ZWRUb2tlbkVycm9yTWVzc2FnZSwgZ2V0QXV0aG9yaXR5VHlwZUNvZGVjLCBnZXRBdXRob3JpdHlUeXBlRGVjb2RlciwgZ2V0QXV0aG9yaXR5VHlwZUVuY29kZXIsIGdldEJ1cm5DaGVja2VkRGlzY3JpbWluYXRvckJ5dGVzLCBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uLCBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRCdXJuQ2hlY2tlZEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldEJ1cm5DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0QnVybkRpc2NyaW1pbmF0b3JCeXRlcywgZ2V0QnVybkluc3RydWN0aW9uLCBnZXRCdXJuSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEJ1cm5JbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRCdXJuSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0Q2xvc2VBY2NvdW50RGlzY3JpbWluYXRvckJ5dGVzLCBnZXRDbG9zZUFjY291bnRJbnN0cnVjdGlvbiwgZ2V0Q2xvc2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldENsb3NlQWNjb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldENsb3NlQWNjb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldENyZWF0ZUFzc29jaWF0ZWRUb2tlbkRpc2NyaW1pbmF0b3JCeXRlcywgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudEluc3RydWN0aW9uLCBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25Bc3luYywgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JZGVtcG90ZW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldENyZWF0ZUFzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uLCBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkFzeW5jLCBnZXRDcmVhdGVBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0Q3JlYXRlQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0RnJlZXplQWNjb3VudERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0RnJlZXplQWNjb3VudEluc3RydWN0aW9uLCBnZXRGcmVlemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRGcmVlemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0R2V0QWNjb3VudERhdGFTaXplRGlzY3JpbWluYXRvckJ5dGVzLCBnZXRHZXRBY2NvdW50RGF0YVNpemVJbnN0cnVjdGlvbiwgZ2V0R2V0QWNjb3VudERhdGFTaXplSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEdldEFjY291bnREYXRhU2l6ZUluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldEdldEFjY291bnREYXRhU2l6ZUluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldEluaXRpYWxpemVBY2NvdW50MkRpc2NyaW1pbmF0b3JCeXRlcywgZ2V0SW5pdGlhbGl6ZUFjY291bnQySW5zdHJ1Y3Rpb24sIGdldEluaXRpYWxpemVBY2NvdW50Mkluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRJbml0aWFsaXplQWNjb3VudDJJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRJbml0aWFsaXplQWNjb3VudDJJbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRJbml0aWFsaXplQWNjb3VudDNEaXNjcmltaW5hdG9yQnl0ZXMsIGdldEluaXRpYWxpemVBY2NvdW50M0luc3RydWN0aW9uLCBnZXRJbml0aWFsaXplQWNjb3VudDNJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0SW5pdGlhbGl6ZUFjY291bnQzSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0SW5pdGlhbGl6ZUFjY291bnQzSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0SW5pdGlhbGl6ZUFjY291bnREaXNjcmltaW5hdG9yQnl0ZXMsIGdldEluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb24sIGdldEluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEluaXRpYWxpemVBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0SW5pdGlhbGl6ZUFjY291bnRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRJbml0aWFsaXplSW1tdXRhYmxlT3duZXJEaXNjcmltaW5hdG9yQnl0ZXMsIGdldEluaXRpYWxpemVJbW11dGFibGVPd25lckluc3RydWN0aW9uLCBnZXRJbml0aWFsaXplSW1tdXRhYmxlT3duZXJJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0SW5pdGlhbGl6ZUltbXV0YWJsZU93bmVySW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0SW5pdGlhbGl6ZUltbXV0YWJsZU93bmVySW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0SW5pdGlhbGl6ZU1pbnQyRGlzY3JpbWluYXRvckJ5dGVzLCBnZXRJbml0aWFsaXplTWludDJJbnN0cnVjdGlvbiwgZ2V0SW5pdGlhbGl6ZU1pbnQySW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEluaXRpYWxpemVNaW50Mkluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldEluaXRpYWxpemVNaW50Mkluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldEluaXRpYWxpemVNaW50RGlzY3JpbWluYXRvckJ5dGVzLCBnZXRJbml0aWFsaXplTWludEluc3RydWN0aW9uLCBnZXRJbml0aWFsaXplTWludEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRJbml0aWFsaXplTWludEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldEluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkRpc2NyaW1pbmF0b3JCeXRlcywgZ2V0SW5pdGlhbGl6ZU11bHRpc2lnMkluc3RydWN0aW9uLCBnZXRJbml0aWFsaXplTXVsdGlzaWcySW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEluaXRpYWxpemVNdWx0aXNpZzJJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRJbml0aWFsaXplTXVsdGlzaWcySW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0SW5pdGlhbGl6ZU11bHRpc2lnRGlzY3JpbWluYXRvckJ5dGVzLCBnZXRJbml0aWFsaXplTXVsdGlzaWdJbnN0cnVjdGlvbiwgZ2V0SW5pdGlhbGl6ZU11bHRpc2lnSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldEluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uRGF0YURlY29kZXIsIGdldEluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldE1pbnRDb2RlYywgZ2V0TWludERlY29kZXIsIGdldE1pbnRFbmNvZGVyLCBnZXRNaW50U2l6ZSwgZ2V0TWludFRvQ2hlY2tlZERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0TWludFRvQ2hlY2tlZEluc3RydWN0aW9uLCBnZXRNaW50VG9DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldE1pbnRUb0NoZWNrZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRNaW50VG9DaGVja2VkSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0TWludFRvRGlzY3JpbWluYXRvckJ5dGVzLCBnZXRNaW50VG9JbnN0cnVjdGlvbiwgZ2V0TWludFRvSW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldE1pbnRUb0luc3RydWN0aW9uRGF0YURlY29kZXIsIGdldE1pbnRUb0luc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldE11bHRpc2lnQ29kZWMsIGdldE11bHRpc2lnRGVjb2RlciwgZ2V0TXVsdGlzaWdFbmNvZGVyLCBnZXRNdWx0aXNpZ1NpemUsIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5EaXNjcmltaW5hdG9yQnl0ZXMsIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbiwgZ2V0UmVjb3Zlck5lc3RlZEFzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uQXN5bmMsIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0UmVjb3Zlck5lc3RlZEFzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldFJlY292ZXJOZXN0ZWRBc3NvY2lhdGVkVG9rZW5JbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRSZXZva2VEaXNjcmltaW5hdG9yQnl0ZXMsIGdldFJldm9rZUluc3RydWN0aW9uLCBnZXRSZXZva2VJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0UmV2b2tlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0UmV2b2tlSW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0U2V0QXV0aG9yaXR5RGlzY3JpbWluYXRvckJ5dGVzLCBnZXRTZXRBdXRob3JpdHlJbnN0cnVjdGlvbiwgZ2V0U2V0QXV0aG9yaXR5SW5zdHJ1Y3Rpb25EYXRhQ29kZWMsIGdldFNldEF1dGhvcml0eUluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldFNldEF1dGhvcml0eUluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldFN5bmNOYXRpdmVEaXNjcmltaW5hdG9yQnl0ZXMsIGdldFN5bmNOYXRpdmVJbnN0cnVjdGlvbiwgZ2V0U3luY05hdGl2ZUluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRTeW5jTmF0aXZlSW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0U3luY05hdGl2ZUluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldFRoYXdBY2NvdW50RGlzY3JpbWluYXRvckJ5dGVzLCBnZXRUaGF3QWNjb3VudEluc3RydWN0aW9uLCBnZXRUaGF3QWNjb3VudEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRUaGF3QWNjb3VudEluc3RydWN0aW9uRGF0YURlY29kZXIsIGdldFRoYXdBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhRW5jb2RlciwgZ2V0VG9rZW5Db2RlYywgZ2V0VG9rZW5EZWNvZGVyLCBnZXRUb2tlbkVuY29kZXIsIGdldFRva2VuRXJyb3JNZXNzYWdlLCBnZXRUb2tlblNpemUsIGdldFRyYW5zZmVyQ2hlY2tlZERpc2NyaW1pbmF0b3JCeXRlcywgZ2V0VHJhbnNmZXJDaGVja2VkSW5zdHJ1Y3Rpb24sIGdldFRyYW5zZmVyQ2hlY2tlZEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbkRhdGFFbmNvZGVyLCBnZXRUcmFuc2ZlckRpc2NyaW1pbmF0b3JCeXRlcywgZ2V0VHJhbnNmZXJJbnN0cnVjdGlvbiwgZ2V0VHJhbnNmZXJJbnN0cnVjdGlvbkRhdGFDb2RlYywgZ2V0VHJhbnNmZXJJbnN0cnVjdGlvbkRhdGFEZWNvZGVyLCBnZXRUcmFuc2Zlckluc3RydWN0aW9uRGF0YUVuY29kZXIsIGdldFVpQW1vdW50VG9BbW91bnREaXNjcmltaW5hdG9yQnl0ZXMsIGdldFVpQW1vdW50VG9BbW91bnRJbnN0cnVjdGlvbiwgZ2V0VWlBbW91bnRUb0Ftb3VudEluc3RydWN0aW9uRGF0YUNvZGVjLCBnZXRVaUFtb3VudFRvQW1vdW50SW5zdHJ1Y3Rpb25EYXRhRGVjb2RlciwgZ2V0VWlBbW91bnRUb0Ftb3VudEluc3RydWN0aW9uRGF0YUVuY29kZXIsIGlkZW50aWZ5QXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb24sIGlkZW50aWZ5VG9rZW5BY2NvdW50LCBpZGVudGlmeVRva2VuSW5zdHJ1Y3Rpb24sIGlzQXNzb2NpYXRlZFRva2VuRXJyb3IsIGlzVG9rZW5FcnJvciwgcGFyc2VBbW91bnRUb1VpQW1vdW50SW5zdHJ1Y3Rpb24sIHBhcnNlQXBwcm92ZUNoZWNrZWRJbnN0cnVjdGlvbiwgcGFyc2VBcHByb3ZlSW5zdHJ1Y3Rpb24sIHBhcnNlQnVybkNoZWNrZWRJbnN0cnVjdGlvbiwgcGFyc2VCdXJuSW5zdHJ1Y3Rpb24sIHBhcnNlQ2xvc2VBY2NvdW50SW5zdHJ1Y3Rpb24sIHBhcnNlQ3JlYXRlQXNzb2NpYXRlZFRva2VuSWRlbXBvdGVudEluc3RydWN0aW9uLCBwYXJzZUNyZWF0ZUFzc29jaWF0ZWRUb2tlbkluc3RydWN0aW9uLCBwYXJzZUZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbiwgcGFyc2VHZXRBY2NvdW50RGF0YVNpemVJbnN0cnVjdGlvbiwgcGFyc2VJbml0aWFsaXplQWNjb3VudDJJbnN0cnVjdGlvbiwgcGFyc2VJbml0aWFsaXplQWNjb3VudDNJbnN0cnVjdGlvbiwgcGFyc2VJbml0aWFsaXplQWNjb3VudEluc3RydWN0aW9uLCBwYXJzZUluaXRpYWxpemVJbW11dGFibGVPd25lckluc3RydWN0aW9uLCBwYXJzZUluaXRpYWxpemVNaW50Mkluc3RydWN0aW9uLCBwYXJzZUluaXRpYWxpemVNaW50SW5zdHJ1Y3Rpb24sIHBhcnNlSW5pdGlhbGl6ZU11bHRpc2lnMkluc3RydWN0aW9uLCBwYXJzZUluaXRpYWxpemVNdWx0aXNpZ0luc3RydWN0aW9uLCBwYXJzZU1pbnRUb0NoZWNrZWRJbnN0cnVjdGlvbiwgcGFyc2VNaW50VG9JbnN0cnVjdGlvbiwgcGFyc2VSZWNvdmVyTmVzdGVkQXNzb2NpYXRlZFRva2VuSW5zdHJ1Y3Rpb24sIHBhcnNlUmV2b2tlSW5zdHJ1Y3Rpb24sIHBhcnNlU2V0QXV0aG9yaXR5SW5zdHJ1Y3Rpb24sIHBhcnNlU3luY05hdGl2ZUluc3RydWN0aW9uLCBwYXJzZVRoYXdBY2NvdW50SW5zdHJ1Y3Rpb24sIHBhcnNlVHJhbnNmZXJDaGVja2VkSW5zdHJ1Y3Rpb24sIHBhcnNlVHJhbnNmZXJJbnN0cnVjdGlvbiwgcGFyc2VVaUFtb3VudFRvQW1vdW50SW5zdHJ1Y3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiLCJpbXBvcnQgeyBTb2xhbmFFcnJvciwgU09MQU5BX0VSUk9SX19BQ0NPVU5UU19fRkFJTEVEX1RPX0RFQ09ERV9BQ0NPVU5ULCBTT0xBTkFfRVJST1JfX0FDQ09VTlRTX19FWFBFQ1RFRF9ERUNPREVEX0FDQ09VTlQsIFNPTEFOQV9FUlJPUl9fQUNDT1VOVFNfX0VYUEVDVEVEX0FMTF9BQ0NPVU5UU19UT19CRV9ERUNPREVELCBTT0xBTkFfRVJST1JfX0FDQ09VTlRTX19BQ0NPVU5UX05PVF9GT1VORCwgU09MQU5BX0VSUk9SX19BQ0NPVU5UU19fT05FX09SX01PUkVfQUNDT1VOVFNfTk9UX0ZPVU5EIH0gZnJvbSAnQHNvbGFuYS9lcnJvcnMnO1xuaW1wb3J0IHsgZ2V0QmFzZTY0RW5jb2RlciwgZ2V0QmFzZTU4RW5jb2RlciB9IGZyb20gJ0Bzb2xhbmEvY29kZWNzLXN0cmluZ3MnO1xuXG4vLyBzcmMvYWNjb3VudC50c1xudmFyIEJBU0VfQUNDT1VOVF9TSVpFID0gMTI4O1xuZnVuY3Rpb24gZGVjb2RlQWNjb3VudChlbmNvZGVkQWNjb3VudCwgZGVjb2Rlcikge1xuICB0cnkge1xuICAgIGlmIChcImV4aXN0c1wiIGluIGVuY29kZWRBY2NvdW50ICYmICFlbmNvZGVkQWNjb3VudC5leGlzdHMpIHtcbiAgICAgIHJldHVybiBlbmNvZGVkQWNjb3VudDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyAuLi5lbmNvZGVkQWNjb3VudCwgZGF0YTogZGVjb2Rlci5kZWNvZGUoZW5jb2RlZEFjY291bnQuZGF0YSkgfSk7XG4gIH0gY2F0Y2gge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0FDQ09VTlRTX19GQUlMRURfVE9fREVDT0RFX0FDQ09VTlQsIHtcbiAgICAgIGFkZHJlc3M6IGVuY29kZWRBY2NvdW50LmFkZHJlc3NcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gYWNjb3VudEV4aXN0cyhhY2NvdW50KSB7XG4gIHJldHVybiAhKFwiZXhpc3RzXCIgaW4gYWNjb3VudCkgfHwgXCJleGlzdHNcIiBpbiBhY2NvdW50ICYmIGFjY291bnQuZXhpc3RzO1xufVxuZnVuY3Rpb24gYXNzZXJ0QWNjb3VudERlY29kZWQoYWNjb3VudCkge1xuICBpZiAoYWNjb3VudEV4aXN0cyhhY2NvdW50KSAmJiBhY2NvdW50LmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fQUNDT1VOVFNfX0VYUEVDVEVEX0RFQ09ERURfQUNDT1VOVCwge1xuICAgICAgYWRkcmVzczogYWNjb3VudC5hZGRyZXNzXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEFjY291bnRzRGVjb2RlZChhY2NvdW50cykge1xuICBjb25zdCBlbmNvZGVkID0gYWNjb3VudHMuZmlsdGVyKChhKSA9PiBhY2NvdW50RXhpc3RzKGEpICYmIGEuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuICBpZiAoZW5jb2RlZC5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZW5jb2RlZEFkZHJlc3NlcyA9IGVuY29kZWQubWFwKChhKSA9PiBhLmFkZHJlc3MpO1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0FDQ09VTlRTX19FWFBFQ1RFRF9BTExfQUNDT1VOVFNfVE9fQkVfREVDT0RFRCwge1xuICAgICAgYWRkcmVzc2VzOiBlbmNvZGVkQWRkcmVzc2VzXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlQmFzZTY0UnBjQWNjb3VudChhZGRyZXNzLCBycGNBY2NvdW50KSB7XG4gIGlmICghcnBjQWNjb3VudCkgcmV0dXJuIE9iamVjdC5mcmVlemUoeyBhZGRyZXNzLCBleGlzdHM6IGZhbHNlIH0pO1xuICBjb25zdCBkYXRhID0gZ2V0QmFzZTY0RW5jb2RlcigpLmVuY29kZShycGNBY2NvdW50LmRhdGFbMF0pO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IC4uLnBhcnNlQmFzZUFjY291bnQocnBjQWNjb3VudCksIGFkZHJlc3MsIGRhdGEsIGV4aXN0czogdHJ1ZSB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlQmFzZTU4UnBjQWNjb3VudChhZGRyZXNzLCBycGNBY2NvdW50KSB7XG4gIGlmICghcnBjQWNjb3VudCkgcmV0dXJuIE9iamVjdC5mcmVlemUoeyBhZGRyZXNzLCBleGlzdHM6IGZhbHNlIH0pO1xuICBjb25zdCBkYXRhID0gZ2V0QmFzZTU4RW5jb2RlcigpLmVuY29kZSh0eXBlb2YgcnBjQWNjb3VudC5kYXRhID09PSBcInN0cmluZ1wiID8gcnBjQWNjb3VudC5kYXRhIDogcnBjQWNjb3VudC5kYXRhWzBdKTtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyAuLi5wYXJzZUJhc2VBY2NvdW50KHJwY0FjY291bnQpLCBhZGRyZXNzLCBkYXRhLCBleGlzdHM6IHRydWUgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUpzb25ScGNBY2NvdW50KGFkZHJlc3MsIHJwY0FjY291bnQpIHtcbiAgaWYgKCFycGNBY2NvdW50KSByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IGFkZHJlc3MsIGV4aXN0czogZmFsc2UgfSk7XG4gIGNvbnN0IGRhdGEgPSBycGNBY2NvdW50LmRhdGEucGFyc2VkLmluZm87XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHsgLi4ucGFyc2VCYXNlQWNjb3VudChycGNBY2NvdW50KSwgYWRkcmVzcywgZGF0YSwgZXhpc3RzOiB0cnVlIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VCYXNlQWNjb3VudChycGNBY2NvdW50KSB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBleGVjdXRhYmxlOiBycGNBY2NvdW50LmV4ZWN1dGFibGUsXG4gICAgbGFtcG9ydHM6IHJwY0FjY291bnQubGFtcG9ydHMsXG4gICAgcHJvZ3JhbUFkZHJlc3M6IHJwY0FjY291bnQub3duZXIsXG4gICAgc3BhY2U6IHJwY0FjY291bnQuc3BhY2VcbiAgfSk7XG59XG5cbi8vIHNyYy9mZXRjaC1hY2NvdW50LnRzXG5hc3luYyBmdW5jdGlvbiBmZXRjaEVuY29kZWRBY2NvdW50KHJwYywgYWRkcmVzcywgY29uZmlnID0ge30pIHtcbiAgY29uc3QgeyBhYm9ydFNpZ25hbCwgLi4ucnBjQ29uZmlnIH0gPSBjb25maWc7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcnBjLmdldEFjY291bnRJbmZvKGFkZHJlc3MsIHsgLi4ucnBjQ29uZmlnLCBlbmNvZGluZzogXCJiYXNlNjRcIiB9KS5zZW5kKHsgYWJvcnRTaWduYWwgfSk7XG4gIHJldHVybiBwYXJzZUJhc2U2NFJwY0FjY291bnQoYWRkcmVzcywgcmVzcG9uc2UudmFsdWUpO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hKc29uUGFyc2VkQWNjb3VudChycGMsIGFkZHJlc3MsIGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IHsgYWJvcnRTaWduYWwsIC4uLnJwY0NvbmZpZyB9ID0gY29uZmlnO1xuICBjb25zdCB7IHZhbHVlOiBhY2NvdW50IH0gPSBhd2FpdCBycGMuZ2V0QWNjb3VudEluZm8oYWRkcmVzcywgeyAuLi5ycGNDb25maWcsIGVuY29kaW5nOiBcImpzb25QYXJzZWRcIiB9KS5zZW5kKHsgYWJvcnRTaWduYWwgfSk7XG4gIHJldHVybiAhIWFjY291bnQgJiYgdHlwZW9mIGFjY291bnQgPT09IFwib2JqZWN0XCIgJiYgXCJwYXJzZWRcIiBpbiBhY2NvdW50LmRhdGEgPyBwYXJzZUpzb25ScGNBY2NvdW50KGFkZHJlc3MsIGFjY291bnQpIDogcGFyc2VCYXNlNjRScGNBY2NvdW50KGFkZHJlc3MsIGFjY291bnQpO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hFbmNvZGVkQWNjb3VudHMocnBjLCBhZGRyZXNzZXMsIGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IHsgYWJvcnRTaWduYWwsIC4uLnJwY0NvbmZpZyB9ID0gY29uZmlnO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJwYy5nZXRNdWx0aXBsZUFjY291bnRzKGFkZHJlc3NlcywgeyAuLi5ycGNDb25maWcsIGVuY29kaW5nOiBcImJhc2U2NFwiIH0pLnNlbmQoeyBhYm9ydFNpZ25hbCB9KTtcbiAgcmV0dXJuIHJlc3BvbnNlLnZhbHVlLm1hcCgoYWNjb3VudCwgaW5kZXgpID0+IHBhcnNlQmFzZTY0UnBjQWNjb3VudChhZGRyZXNzZXNbaW5kZXhdLCBhY2NvdW50KSk7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEpzb25QYXJzZWRBY2NvdW50cyhycGMsIGFkZHJlc3NlcywgY29uZmlnID0ge30pIHtcbiAgY29uc3QgeyBhYm9ydFNpZ25hbCwgLi4ucnBjQ29uZmlnIH0gPSBjb25maWc7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcnBjLmdldE11bHRpcGxlQWNjb3VudHMoYWRkcmVzc2VzLCB7IC4uLnJwY0NvbmZpZywgZW5jb2Rpbmc6IFwianNvblBhcnNlZFwiIH0pLnNlbmQoeyBhYm9ydFNpZ25hbCB9KTtcbiAgcmV0dXJuIHJlc3BvbnNlLnZhbHVlLm1hcCgoYWNjb3VudCwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gISFhY2NvdW50ICYmIHR5cGVvZiBhY2NvdW50ID09PSBcIm9iamVjdFwiICYmIFwicGFyc2VkXCIgaW4gYWNjb3VudC5kYXRhID8gcGFyc2VKc29uUnBjQWNjb3VudChhZGRyZXNzZXNbaW5kZXhdLCBhY2NvdW50KSA6IHBhcnNlQmFzZTY0UnBjQWNjb3VudChhZGRyZXNzZXNbaW5kZXhdLCBhY2NvdW50KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBhc3NlcnRBY2NvdW50RXhpc3RzKGFjY291bnQpIHtcbiAgaWYgKCFhY2NvdW50LmV4aXN0cykge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0FDQ09VTlRTX19BQ0NPVU5UX05PVF9GT1VORCwgeyBhZGRyZXNzOiBhY2NvdW50LmFkZHJlc3MgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEFjY291bnRzRXhpc3QoYWNjb3VudHMpIHtcbiAgY29uc3QgbWlzc2luZ0FjY291bnRzID0gYWNjb3VudHMuZmlsdGVyKChhKSA9PiAhYS5leGlzdHMpO1xuICBpZiAobWlzc2luZ0FjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBtaXNzaW5nQWRkcmVzc2VzID0gbWlzc2luZ0FjY291bnRzLm1hcCgoYSkgPT4gYS5hZGRyZXNzKTtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19BQ0NPVU5UU19fT05FX09SX01PUkVfQUNDT1VOVFNfTk9UX0ZPVU5ELCB7IGFkZHJlc3NlczogbWlzc2luZ0FkZHJlc3NlcyB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBCQVNFX0FDQ09VTlRfU0laRSwgYXNzZXJ0QWNjb3VudERlY29kZWQsIGFzc2VydEFjY291bnRFeGlzdHMsIGFzc2VydEFjY291bnRzRGVjb2RlZCwgYXNzZXJ0QWNjb3VudHNFeGlzdCwgZGVjb2RlQWNjb3VudCwgZmV0Y2hFbmNvZGVkQWNjb3VudCwgZmV0Y2hFbmNvZGVkQWNjb3VudHMsIGZldGNoSnNvblBhcnNlZEFjY291bnQsIGZldGNoSnNvblBhcnNlZEFjY291bnRzLCBwYXJzZUJhc2U1OFJwY0FjY291bnQsIHBhcnNlQmFzZTY0UnBjQWNjb3VudCwgcGFyc2VKc29uUnBjQWNjb3VudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguYnJvd3Nlci5tanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLm1qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFbmNvZGVyLCBnZXRFbmNvZGVkU2l6ZSwgY3JlYXRlRGVjb2RlciwgY29tYmluZUNvZGVjLCBhc3NlcnRCeXRlQXJyYXlIYXNFbm91Z2hCeXRlc0ZvckNvZGVjLCB0cmFuc2Zvcm1FbmNvZGVyLCB0cmFuc2Zvcm1EZWNvZGVyLCBjb250YWluc0J5dGVzLCBpc0ZpeGVkU2l6ZSwgYXNzZXJ0SXNGaXhlZFNpemUsIGZpeEVuY29kZXJTaXplLCBmaXhEZWNvZGVyU2l6ZSB9IGZyb20gJ0Bzb2xhbmEvY29kZWNzLWNvcmUnO1xuaW1wb3J0IHsgZ2V0VTMyRW5jb2RlciwgZ2V0VTMyRGVjb2RlciwgZ2V0VThFbmNvZGVyLCBnZXRVOERlY29kZXIgfSBmcm9tICdAc29sYW5hL2NvZGVjcy1udW1iZXJzJztcbmltcG9ydCB7IFNvbGFuYUVycm9yLCBTT0xBTkFfRVJST1JfX0NPREVDU19fSU5WQUxJRF9OVU1CRVJfT0ZfSVRFTVMsIFNPTEFOQV9FUlJPUl9fQ09ERUNTX19JTlZBTElEX0NPTlNUQU5ULCBTT0xBTkFfRVJST1JfX0NPREVDU19fVU5JT05fVkFSSUFOVF9PVVRfT0ZfUkFOR0UsIFNPTEFOQV9FUlJPUl9fQ09ERUNTX19JTlZBTElEX0RJU0NSSU1JTkFURURfVU5JT05fVkFSSUFOVCwgU09MQU5BX0VSUk9SX19DT0RFQ1NfX0NBTk5PVF9VU0VfTEVYSUNBTF9WQUxVRVNfQVNfRU5VTV9ESVNDUklNSU5BVE9SUywgU09MQU5BX0VSUk9SX19DT0RFQ1NfX0lOVkFMSURfRU5VTV9WQVJJQU5ULCBTT0xBTkFfRVJST1JfX0NPREVDU19fRU5VTV9ESVNDUklNSU5BVE9SX09VVF9PRl9SQU5HRSwgU09MQU5BX0VSUk9SX19DT0RFQ1NfX0lOVkFMSURfTElURVJBTF9VTklPTl9WQVJJQU5ULCBTT0xBTkFfRVJST1JfX0NPREVDU19fTElURVJBTF9VTklPTl9ESVNDUklNSU5BVE9SX09VVF9PRl9SQU5HRSB9IGZyb20gJ0Bzb2xhbmEvZXJyb3JzJztcblxuLy8gc3JjL2FycmF5LnRzXG5mdW5jdGlvbiBhc3NlcnRWYWxpZE51bWJlck9mSXRlbXNGb3JDb2RlYyhjb2RlY0Rlc2NyaXB0aW9uLCBleHBlY3RlZCwgYWN0dWFsKSB7XG4gIGlmIChleHBlY3RlZCAhPT0gYWN0dWFsKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fQ09ERUNTX19JTlZBTElEX05VTUJFUl9PRl9JVEVNUywge1xuICAgICAgYWN0dWFsLFxuICAgICAgY29kZWNEZXNjcmlwdGlvbixcbiAgICAgIGV4cGVjdGVkXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1heENvZGVjU2l6ZXMoc2l6ZXMpIHtcbiAgcmV0dXJuIHNpemVzLnJlZHVjZShcbiAgICAoYWxsLCBzaXplKSA9PiBhbGwgPT09IG51bGwgfHwgc2l6ZSA9PT0gbnVsbCA/IG51bGwgOiBNYXRoLm1heChhbGwsIHNpemUpLFxuICAgIDBcbiAgKTtcbn1cbmZ1bmN0aW9uIHN1bUNvZGVjU2l6ZXMoc2l6ZXMpIHtcbiAgcmV0dXJuIHNpemVzLnJlZHVjZSgoYWxsLCBzaXplKSA9PiBhbGwgPT09IG51bGwgfHwgc2l6ZSA9PT0gbnVsbCA/IG51bGwgOiBhbGwgKyBzaXplLCAwKTtcbn1cbmZ1bmN0aW9uIGdldEZpeGVkU2l6ZShjb2RlYykge1xuICByZXR1cm4gaXNGaXhlZFNpemUoY29kZWMpID8gY29kZWMuZml4ZWRTaXplIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGdldE1heFNpemUoY29kZWMpIHtcbiAgcmV0dXJuIGlzRml4ZWRTaXplKGNvZGVjKSA/IGNvZGVjLmZpeGVkU2l6ZSA6IGNvZGVjLm1heFNpemUgPz8gbnVsbDtcbn1cblxuLy8gc3JjL2FycmF5LnRzXG5mdW5jdGlvbiBnZXRBcnJheUVuY29kZXIoaXRlbSwgY29uZmlnID0ge30pIHtcbiAgY29uc3Qgc2l6ZSA9IGNvbmZpZy5zaXplID8/IGdldFUzMkVuY29kZXIoKTtcbiAgY29uc3QgZml4ZWRTaXplID0gY29tcHV0ZUFycmF5TGlrZUNvZGVjU2l6ZShzaXplLCBnZXRGaXhlZFNpemUoaXRlbSkpO1xuICBjb25zdCBtYXhTaXplID0gY29tcHV0ZUFycmF5TGlrZUNvZGVjU2l6ZShzaXplLCBnZXRNYXhTaXplKGl0ZW0pKSA/PyB1bmRlZmluZWQ7XG4gIHJldHVybiBjcmVhdGVFbmNvZGVyKHtcbiAgICAuLi5maXhlZFNpemUgIT09IG51bGwgPyB7IGZpeGVkU2l6ZSB9IDoge1xuICAgICAgZ2V0U2l6ZUZyb21WYWx1ZTogKGFycmF5KSA9PiB7XG4gICAgICAgIGNvbnN0IHByZWZpeFNpemUgPSB0eXBlb2Ygc2l6ZSA9PT0gXCJvYmplY3RcIiA/IGdldEVuY29kZWRTaXplKGFycmF5Lmxlbmd0aCwgc2l6ZSkgOiAwO1xuICAgICAgICByZXR1cm4gcHJlZml4U2l6ZSArIFsuLi5hcnJheV0ucmVkdWNlKChhbGwsIHZhbHVlKSA9PiBhbGwgKyBnZXRFbmNvZGVkU2l6ZSh2YWx1ZSwgaXRlbSksIDApO1xuICAgICAgfSxcbiAgICAgIG1heFNpemVcbiAgICB9LFxuICAgIHdyaXRlOiAoYXJyYXksIGJ5dGVzLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygc2l6ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBhc3NlcnRWYWxpZE51bWJlck9mSXRlbXNGb3JDb2RlYyhcImFycmF5XCIsIHNpemUsIGFycmF5Lmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHNpemUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgb2Zmc2V0ID0gc2l6ZS53cml0ZShhcnJheS5sZW5ndGgsIGJ5dGVzLCBvZmZzZXQpO1xuICAgICAgfVxuICAgICAgYXJyYXkuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgb2Zmc2V0ID0gaXRlbS53cml0ZSh2YWx1ZSwgYnl0ZXMsIG9mZnNldCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldEFycmF5RGVjb2RlcihpdGVtLCBjb25maWcgPSB7fSkge1xuICBjb25zdCBzaXplID0gY29uZmlnLnNpemUgPz8gZ2V0VTMyRGVjb2RlcigpO1xuICBjb25zdCBpdGVtU2l6ZSA9IGdldEZpeGVkU2l6ZShpdGVtKTtcbiAgY29uc3QgZml4ZWRTaXplID0gY29tcHV0ZUFycmF5TGlrZUNvZGVjU2l6ZShzaXplLCBpdGVtU2l6ZSk7XG4gIGNvbnN0IG1heFNpemUgPSBjb21wdXRlQXJyYXlMaWtlQ29kZWNTaXplKHNpemUsIGdldE1heFNpemUoaXRlbSkpID8/IHVuZGVmaW5lZDtcbiAgcmV0dXJuIGNyZWF0ZURlY29kZXIoe1xuICAgIC4uLmZpeGVkU2l6ZSAhPT0gbnVsbCA/IHsgZml4ZWRTaXplIH0gOiB7IG1heFNpemUgfSxcbiAgICByZWFkOiAoYnl0ZXMsIG9mZnNldCkgPT4ge1xuICAgICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICAgIGlmICh0eXBlb2Ygc2l6ZSA9PT0gXCJvYmplY3RcIiAmJiBieXRlcy5zbGljZShvZmZzZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gW2FycmF5LCBvZmZzZXRdO1xuICAgICAgfVxuICAgICAgaWYgKHNpemUgPT09IFwicmVtYWluZGVyXCIpIHtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgbmV3T2Zmc2V0Ml0gPSBpdGVtLnJlYWQoYnl0ZXMsIG9mZnNldCk7XG4gICAgICAgICAgb2Zmc2V0ID0gbmV3T2Zmc2V0MjtcbiAgICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2FycmF5LCBvZmZzZXRdO1xuICAgICAgfVxuICAgICAgY29uc3QgW3Jlc29sdmVkU2l6ZSwgbmV3T2Zmc2V0XSA9IHR5cGVvZiBzaXplID09PSBcIm51bWJlclwiID8gW3NpemUsIG9mZnNldF0gOiBzaXplLnJlYWQoYnl0ZXMsIG9mZnNldCk7XG4gICAgICBvZmZzZXQgPSBuZXdPZmZzZXQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc29sdmVkU2l6ZTsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IFt2YWx1ZSwgbmV3T2Zmc2V0Ml0gPSBpdGVtLnJlYWQoYnl0ZXMsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCA9IG5ld09mZnNldDI7XG4gICAgICAgIGFycmF5LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFthcnJheSwgb2Zmc2V0XTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0QXJyYXlDb2RlYyhpdGVtLCBjb25maWcgPSB7fSkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldEFycmF5RW5jb2RlcihpdGVtLCBjb25maWcpLCBnZXRBcnJheURlY29kZXIoaXRlbSwgY29uZmlnKSk7XG59XG5mdW5jdGlvbiBjb21wdXRlQXJyYXlMaWtlQ29kZWNTaXplKHNpemUsIGl0ZW1TaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gXCJudW1iZXJcIikgcmV0dXJuIG51bGw7XG4gIGlmIChzaXplID09PSAwKSByZXR1cm4gMDtcbiAgcmV0dXJuIGl0ZW1TaXplID09PSBudWxsID8gbnVsbCA6IGl0ZW1TaXplICogc2l6ZTtcbn1cbmZ1bmN0aW9uIGdldEJpdEFycmF5RW5jb2RlcihzaXplLCBjb25maWcgPSB7fSkge1xuICBjb25zdCBwYXJzZWRDb25maWcgPSB0eXBlb2YgY29uZmlnID09PSBcImJvb2xlYW5cIiA/IHsgYmFja3dhcmQ6IGNvbmZpZyB9IDogY29uZmlnO1xuICBjb25zdCBiYWNrd2FyZCA9IHBhcnNlZENvbmZpZy5iYWNrd2FyZCA/PyBmYWxzZTtcbiAgcmV0dXJuIGNyZWF0ZUVuY29kZXIoe1xuICAgIGZpeGVkU2l6ZTogc2l6ZSxcbiAgICB3cml0ZSh2YWx1ZSwgYnl0ZXMsIG9mZnNldCkge1xuICAgICAgY29uc3QgYnl0ZXNUb0FkZCA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcbiAgICAgICAgbGV0IGJ5dGUgPSAwO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7IGogKz0gMSkge1xuICAgICAgICAgIGNvbnN0IGZlYXR1cmUgPSBOdW1iZXIodmFsdWVbaSAqIDggKyBqXSA/PyAwKTtcbiAgICAgICAgICBieXRlIHw9IGZlYXR1cmUgPDwgKGJhY2t3YXJkID8gaiA6IDcgLSBqKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgICAgICBieXRlc1RvQWRkLnVuc2hpZnQoYnl0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnl0ZXNUb0FkZC5wdXNoKGJ5dGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBieXRlcy5zZXQoYnl0ZXNUb0FkZCwgb2Zmc2V0KTtcbiAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRCaXRBcnJheURlY29kZXIoc2l6ZSwgY29uZmlnID0ge30pIHtcbiAgY29uc3QgcGFyc2VkQ29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gXCJib29sZWFuXCIgPyB7IGJhY2t3YXJkOiBjb25maWcgfSA6IGNvbmZpZztcbiAgY29uc3QgYmFja3dhcmQgPSBwYXJzZWRDb25maWcuYmFja3dhcmQgPz8gZmFsc2U7XG4gIHJldHVybiBjcmVhdGVEZWNvZGVyKHtcbiAgICBmaXhlZFNpemU6IHNpemUsXG4gICAgcmVhZChieXRlcywgb2Zmc2V0KSB7XG4gICAgICBhc3NlcnRCeXRlQXJyYXlIYXNFbm91Z2hCeXRlc0ZvckNvZGVjKFwiYml0QXJyYXlcIiwgc2l6ZSwgYnl0ZXMsIG9mZnNldCk7XG4gICAgICBjb25zdCBib29sZWFucyA9IFtdO1xuICAgICAgbGV0IHNsaWNlID0gYnl0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzaXplKTtcbiAgICAgIHNsaWNlID0gYmFja3dhcmQgPyBzbGljZS5yZXZlcnNlKCkgOiBzbGljZTtcbiAgICAgIHNsaWNlLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDEpIHtcbiAgICAgICAgICBpZiAoYmFja3dhcmQpIHtcbiAgICAgICAgICAgIGJvb2xlYW5zLnB1c2goQm9vbGVhbihieXRlICYgMSkpO1xuICAgICAgICAgICAgYnl0ZSA+Pj0gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9vbGVhbnMucHVzaChCb29sZWFuKGJ5dGUgJiAxMjgpKTtcbiAgICAgICAgICAgIGJ5dGUgPDw9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBbYm9vbGVhbnMsIG9mZnNldCArIHNpemVdO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRCaXRBcnJheUNvZGVjKHNpemUsIGNvbmZpZyA9IHt9KSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoZ2V0Qml0QXJyYXlFbmNvZGVyKHNpemUsIGNvbmZpZyksIGdldEJpdEFycmF5RGVjb2RlcihzaXplLCBjb25maWcpKTtcbn1cbmZ1bmN0aW9uIGdldEJvb2xlYW5FbmNvZGVyKGNvbmZpZyA9IHt9KSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKGNvbmZpZy5zaXplID8/IGdldFU4RW5jb2RlcigpLCAodmFsdWUpID0+IHZhbHVlID8gMSA6IDApO1xufVxuZnVuY3Rpb24gZ2V0Qm9vbGVhbkRlY29kZXIoY29uZmlnID0ge30pIHtcbiAgcmV0dXJuIHRyYW5zZm9ybURlY29kZXIoY29uZmlnLnNpemUgPz8gZ2V0VThEZWNvZGVyKCksICh2YWx1ZSkgPT4gTnVtYmVyKHZhbHVlKSA9PT0gMSk7XG59XG5mdW5jdGlvbiBnZXRCb29sZWFuQ29kZWMoY29uZmlnID0ge30pIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhnZXRCb29sZWFuRW5jb2Rlcihjb25maWcpLCBnZXRCb29sZWFuRGVjb2Rlcihjb25maWcpKTtcbn1cbmZ1bmN0aW9uIGdldEJ5dGVzRW5jb2RlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZUVuY29kZXIoe1xuICAgIGdldFNpemVGcm9tVmFsdWU6ICh2YWx1ZSkgPT4gdmFsdWUubGVuZ3RoLFxuICAgIHdyaXRlOiAodmFsdWUsIGJ5dGVzLCBvZmZzZXQpID0+IHtcbiAgICAgIGJ5dGVzLnNldCh2YWx1ZSwgb2Zmc2V0KTtcbiAgICAgIHJldHVybiBvZmZzZXQgKyB2YWx1ZS5sZW5ndGg7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldEJ5dGVzRGVjb2RlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZURlY29kZXIoe1xuICAgIHJlYWQ6IChieXRlcywgb2Zmc2V0KSA9PiB7XG4gICAgICBjb25zdCBzbGljZSA9IGJ5dGVzLnNsaWNlKG9mZnNldCk7XG4gICAgICByZXR1cm4gW3NsaWNlLCBvZmZzZXQgKyBzbGljZS5sZW5ndGhdO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRCeXRlc0NvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldEJ5dGVzRW5jb2RlcigpLCBnZXRCeXRlc0RlY29kZXIoKSk7XG59XG52YXIgZ2V0QmFzZTE2RGVjb2RlciA9ICgpID0+IGNyZWF0ZURlY29kZXIoe1xuICByZWFkKGJ5dGVzLCBvZmZzZXQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGJ5dGVzLnNsaWNlKG9mZnNldCkucmVkdWNlKChzdHIsIGJ5dGUpID0+IHN0ciArIGJ5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSwgXCJcIik7XG4gICAgcmV0dXJuIFt2YWx1ZSwgYnl0ZXMubGVuZ3RoXTtcbiAgfVxufSk7XG5mdW5jdGlvbiBnZXRDb25zdGFudEVuY29kZXIoY29uc3RhbnQpIHtcbiAgcmV0dXJuIGNyZWF0ZUVuY29kZXIoe1xuICAgIGZpeGVkU2l6ZTogY29uc3RhbnQubGVuZ3RoLFxuICAgIHdyaXRlOiAoXywgYnl0ZXMsIG9mZnNldCkgPT4ge1xuICAgICAgYnl0ZXMuc2V0KGNvbnN0YW50LCBvZmZzZXQpO1xuICAgICAgcmV0dXJuIG9mZnNldCArIGNvbnN0YW50Lmxlbmd0aDtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0Q29uc3RhbnREZWNvZGVyKGNvbnN0YW50KSB7XG4gIHJldHVybiBjcmVhdGVEZWNvZGVyKHtcbiAgICBmaXhlZFNpemU6IGNvbnN0YW50Lmxlbmd0aCxcbiAgICByZWFkOiAoYnl0ZXMsIG9mZnNldCkgPT4ge1xuICAgICAgY29uc3QgYmFzZTE2ID0gZ2V0QmFzZTE2RGVjb2RlcigpO1xuICAgICAgaWYgKCFjb250YWluc0J5dGVzKGJ5dGVzLCBjb25zdGFudCwgb2Zmc2V0KSkge1xuICAgICAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19DT0RFQ1NfX0lOVkFMSURfQ09OU1RBTlQsIHtcbiAgICAgICAgICBjb25zdGFudCxcbiAgICAgICAgICBkYXRhOiBieXRlcyxcbiAgICAgICAgICBoZXhDb25zdGFudDogYmFzZTE2LmRlY29kZShjb25zdGFudCksXG4gICAgICAgICAgaGV4RGF0YTogYmFzZTE2LmRlY29kZShieXRlcyksXG4gICAgICAgICAgb2Zmc2V0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIG9mZnNldCArIGNvbnN0YW50Lmxlbmd0aF07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldENvbnN0YW50Q29kZWMoY29uc3RhbnQpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhnZXRDb25zdGFudEVuY29kZXIoY29uc3RhbnQpLCBnZXRDb25zdGFudERlY29kZXIoY29uc3RhbnQpKTtcbn1cbmZ1bmN0aW9uIGdldFR1cGxlRW5jb2RlcihpdGVtcykge1xuICBjb25zdCBmaXhlZFNpemUgPSBzdW1Db2RlY1NpemVzKGl0ZW1zLm1hcChnZXRGaXhlZFNpemUpKTtcbiAgY29uc3QgbWF4U2l6ZSA9IHN1bUNvZGVjU2l6ZXMoaXRlbXMubWFwKGdldE1heFNpemUpKSA/PyB1bmRlZmluZWQ7XG4gIHJldHVybiBjcmVhdGVFbmNvZGVyKHtcbiAgICAuLi5maXhlZFNpemUgPT09IG51bGwgPyB7XG4gICAgICBnZXRTaXplRnJvbVZhbHVlOiAodmFsdWUpID0+IGl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IGdldEVuY29kZWRTaXplKHZhbHVlW2luZGV4XSwgaXRlbSkpLnJlZHVjZSgoYWxsLCBvbmUpID0+IGFsbCArIG9uZSwgMCksXG4gICAgICBtYXhTaXplXG4gICAgfSA6IHsgZml4ZWRTaXplIH0sXG4gICAgd3JpdGU6ICh2YWx1ZSwgYnl0ZXMsIG9mZnNldCkgPT4ge1xuICAgICAgYXNzZXJ0VmFsaWROdW1iZXJPZkl0ZW1zRm9yQ29kZWMoXCJ0dXBsZVwiLCBpdGVtcy5sZW5ndGgsIHZhbHVlLmxlbmd0aCk7XG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBvZmZzZXQgPSBpdGVtLndyaXRlKHZhbHVlW2luZGV4XSwgYnl0ZXMsIG9mZnNldCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFR1cGxlRGVjb2RlcihpdGVtcykge1xuICBjb25zdCBmaXhlZFNpemUgPSBzdW1Db2RlY1NpemVzKGl0ZW1zLm1hcChnZXRGaXhlZFNpemUpKTtcbiAgY29uc3QgbWF4U2l6ZSA9IHN1bUNvZGVjU2l6ZXMoaXRlbXMubWFwKGdldE1heFNpemUpKSA/PyB1bmRlZmluZWQ7XG4gIHJldHVybiBjcmVhdGVEZWNvZGVyKHtcbiAgICAuLi5maXhlZFNpemUgPT09IG51bGwgPyB7IG1heFNpemUgfSA6IHsgZml4ZWRTaXplIH0sXG4gICAgcmVhZDogKGJ5dGVzLCBvZmZzZXQpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBbbmV3VmFsdWUsIG5ld09mZnNldF0gPSBpdGVtLnJlYWQoYnl0ZXMsIG9mZnNldCk7XG4gICAgICAgIHZhbHVlcy5wdXNoKG5ld1ZhbHVlKTtcbiAgICAgICAgb2Zmc2V0ID0gbmV3T2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gW3ZhbHVlcywgb2Zmc2V0XTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0VHVwbGVDb2RlYyhpdGVtcykge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldFR1cGxlRW5jb2RlcihpdGVtcyksXG4gICAgZ2V0VHVwbGVEZWNvZGVyKGl0ZW1zKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0VW5pb25FbmNvZGVyKHZhcmlhbnRzLCBnZXRJbmRleEZyb21WYWx1ZSkge1xuICBjb25zdCBmaXhlZFNpemUgPSBnZXRVbmlvbkZpeGVkU2l6ZSh2YXJpYW50cyk7XG4gIGNvbnN0IHdyaXRlID0gKHZhcmlhbnQsIGJ5dGVzLCBvZmZzZXQpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IGdldEluZGV4RnJvbVZhbHVlKHZhcmlhbnQpO1xuICAgIGFzc2VydFZhbGlkVmFyaWFudEluZGV4KHZhcmlhbnRzLCBpbmRleCk7XG4gICAgcmV0dXJuIHZhcmlhbnRzW2luZGV4XS53cml0ZSh2YXJpYW50LCBieXRlcywgb2Zmc2V0KTtcbiAgfTtcbiAgaWYgKGZpeGVkU2l6ZSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBjcmVhdGVFbmNvZGVyKHsgZml4ZWRTaXplLCB3cml0ZSB9KTtcbiAgfVxuICBjb25zdCBtYXhTaXplID0gZ2V0VW5pb25NYXhTaXplKHZhcmlhbnRzKTtcbiAgcmV0dXJuIGNyZWF0ZUVuY29kZXIoe1xuICAgIC4uLm1heFNpemUgIT09IG51bGwgPyB7IG1heFNpemUgfSA6IHt9LFxuICAgIGdldFNpemVGcm9tVmFsdWU6ICh2YXJpYW50KSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4RnJvbVZhbHVlKHZhcmlhbnQpO1xuICAgICAgYXNzZXJ0VmFsaWRWYXJpYW50SW5kZXgodmFyaWFudHMsIGluZGV4KTtcbiAgICAgIHJldHVybiBnZXRFbmNvZGVkU2l6ZSh2YXJpYW50LCB2YXJpYW50c1tpbmRleF0pO1xuICAgIH0sXG4gICAgd3JpdGVcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRVbmlvbkRlY29kZXIodmFyaWFudHMsIGdldEluZGV4RnJvbUJ5dGVzKSB7XG4gIGNvbnN0IGZpeGVkU2l6ZSA9IGdldFVuaW9uRml4ZWRTaXplKHZhcmlhbnRzKTtcbiAgY29uc3QgcmVhZCA9IChieXRlcywgb2Zmc2V0KSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBnZXRJbmRleEZyb21CeXRlcyhieXRlcywgb2Zmc2V0KTtcbiAgICBhc3NlcnRWYWxpZFZhcmlhbnRJbmRleCh2YXJpYW50cywgaW5kZXgpO1xuICAgIHJldHVybiB2YXJpYW50c1tpbmRleF0ucmVhZChieXRlcywgb2Zmc2V0KTtcbiAgfTtcbiAgaWYgKGZpeGVkU2l6ZSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBjcmVhdGVEZWNvZGVyKHsgZml4ZWRTaXplLCByZWFkIH0pO1xuICB9XG4gIGNvbnN0IG1heFNpemUgPSBnZXRVbmlvbk1heFNpemUodmFyaWFudHMpO1xuICByZXR1cm4gY3JlYXRlRGVjb2Rlcih7IC4uLm1heFNpemUgIT09IG51bGwgPyB7IG1heFNpemUgfSA6IHt9LCByZWFkIH0pO1xufVxuZnVuY3Rpb24gZ2V0VW5pb25Db2RlYyh2YXJpYW50cywgZ2V0SW5kZXhGcm9tVmFsdWUsIGdldEluZGV4RnJvbUJ5dGVzKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0VW5pb25FbmNvZGVyKHZhcmlhbnRzLCBnZXRJbmRleEZyb21WYWx1ZSksXG4gICAgZ2V0VW5pb25EZWNvZGVyKHZhcmlhbnRzLCBnZXRJbmRleEZyb21CeXRlcylcbiAgKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFZhbGlkVmFyaWFudEluZGV4KHZhcmlhbnRzLCBpbmRleCkge1xuICBpZiAodHlwZW9mIHZhcmlhbnRzW2luZGV4XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0NPREVDU19fVU5JT05fVkFSSUFOVF9PVVRfT0ZfUkFOR0UsIHtcbiAgICAgIG1heFJhbmdlOiB2YXJpYW50cy5sZW5ndGggLSAxLFxuICAgICAgbWluUmFuZ2U6IDAsXG4gICAgICB2YXJpYW50OiBpbmRleFxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBnZXRVbmlvbkZpeGVkU2l6ZSh2YXJpYW50cykge1xuICBpZiAodmFyaWFudHMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgaWYgKCFpc0ZpeGVkU2l6ZSh2YXJpYW50c1swXSkpIHJldHVybiBudWxsO1xuICBjb25zdCB2YXJpYW50U2l6ZSA9IHZhcmlhbnRzWzBdLmZpeGVkU2l6ZTtcbiAgY29uc3Qgc2FtZVNpemVkVmFyaWFudHMgPSB2YXJpYW50cy5ldmVyeSgodmFyaWFudCkgPT4gaXNGaXhlZFNpemUodmFyaWFudCkgJiYgdmFyaWFudC5maXhlZFNpemUgPT09IHZhcmlhbnRTaXplKTtcbiAgcmV0dXJuIHNhbWVTaXplZFZhcmlhbnRzID8gdmFyaWFudFNpemUgOiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0VW5pb25NYXhTaXplKHZhcmlhbnRzKSB7XG4gIHJldHVybiBtYXhDb2RlY1NpemVzKHZhcmlhbnRzLm1hcCgodmFyaWFudCkgPT4gZ2V0TWF4U2l6ZSh2YXJpYW50KSkpO1xufVxuXG4vLyBzcmMvZGlzY3JpbWluYXRlZC11bmlvbi50c1xuZnVuY3Rpb24gZ2V0RGlzY3JpbWluYXRlZFVuaW9uRW5jb2Rlcih2YXJpYW50cywgY29uZmlnID0ge30pIHtcbiAgY29uc3QgZGlzY3JpbWluYXRvclByb3BlcnR5ID0gY29uZmlnLmRpc2NyaW1pbmF0b3IgPz8gXCJfX2tpbmRcIjtcbiAgY29uc3QgcHJlZml4ID0gY29uZmlnLnNpemUgPz8gZ2V0VThFbmNvZGVyKCk7XG4gIHJldHVybiBnZXRVbmlvbkVuY29kZXIoXG4gICAgdmFyaWFudHMubWFwKFxuICAgICAgKFssIHZhcmlhbnRdLCBpbmRleCkgPT4gdHJhbnNmb3JtRW5jb2RlcihnZXRUdXBsZUVuY29kZXIoW3ByZWZpeCwgdmFyaWFudF0pLCAodmFsdWUpID0+IFtpbmRleCwgdmFsdWVdKVxuICAgICksXG4gICAgKHZhbHVlKSA9PiBnZXRWYXJpYW50RGlzY3JpbWluYXRvcih2YXJpYW50cywgdmFsdWVbZGlzY3JpbWluYXRvclByb3BlcnR5XSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldERpc2NyaW1pbmF0ZWRVbmlvbkRlY29kZXIodmFyaWFudHMsIGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IGRpc2NyaW1pbmF0b3JQcm9wZXJ0eSA9IGNvbmZpZy5kaXNjcmltaW5hdG9yID8/IFwiX19raW5kXCI7XG4gIGNvbnN0IHByZWZpeCA9IGNvbmZpZy5zaXplID8/IGdldFU4RGVjb2RlcigpO1xuICByZXR1cm4gZ2V0VW5pb25EZWNvZGVyKFxuICAgIHZhcmlhbnRzLm1hcChcbiAgICAgIChbZGlzY3JpbWluYXRvciwgdmFyaWFudF0pID0+IHRyYW5zZm9ybURlY29kZXIoZ2V0VHVwbGVEZWNvZGVyKFtwcmVmaXgsIHZhcmlhbnRdKSwgKFssIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgW2Rpc2NyaW1pbmF0b3JQcm9wZXJ0eV06IGRpc2NyaW1pbmF0b3IsXG4gICAgICAgIC4uLnZhbHVlXG4gICAgICB9KSlcbiAgICApLFxuICAgIChieXRlcywgb2Zmc2V0KSA9PiBOdW1iZXIocHJlZml4LnJlYWQoYnl0ZXMsIG9mZnNldClbMF0pXG4gICk7XG59XG5mdW5jdGlvbiBnZXREaXNjcmltaW5hdGVkVW5pb25Db2RlYyh2YXJpYW50cywgY29uZmlnID0ge30pIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXREaXNjcmltaW5hdGVkVW5pb25FbmNvZGVyKHZhcmlhbnRzLCBjb25maWcpLFxuICAgIGdldERpc2NyaW1pbmF0ZWRVbmlvbkRlY29kZXIodmFyaWFudHMsIGNvbmZpZylcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFZhcmlhbnREaXNjcmltaW5hdG9yKHZhcmlhbnRzLCBkaXNjcmltaW5hdG9yVmFsdWUpIHtcbiAgY29uc3QgZGlzY3JpbWluYXRvciA9IHZhcmlhbnRzLmZpbmRJbmRleCgoW2tleV0pID0+IGRpc2NyaW1pbmF0b3JWYWx1ZSA9PT0ga2V5KTtcbiAgaWYgKGRpc2NyaW1pbmF0b3IgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fQ09ERUNTX19JTlZBTElEX0RJU0NSSU1JTkFURURfVU5JT05fVkFSSUFOVCwge1xuICAgICAgdmFsdWU6IGRpc2NyaW1pbmF0b3JWYWx1ZSxcbiAgICAgIHZhcmlhbnRzOiB2YXJpYW50cy5tYXAoKFtrZXldKSA9PiBrZXkpXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGRpc2NyaW1pbmF0b3I7XG59XG52YXIgZ2V0RGF0YUVudW1FbmNvZGVyID0gZ2V0RGlzY3JpbWluYXRlZFVuaW9uRW5jb2RlcjtcbnZhciBnZXREYXRhRW51bURlY29kZXIgPSBnZXREaXNjcmltaW5hdGVkVW5pb25EZWNvZGVyO1xudmFyIGdldERhdGFFbnVtQ29kZWMgPSBnZXREaXNjcmltaW5hdGVkVW5pb25Db2RlYztcblxuLy8gc3JjL2VudW0taGVscGVycy50c1xuZnVuY3Rpb24gZ2V0RW51bVN0YXRzKGNvbnN0cnVjdG9yKSB7XG4gIGNvbnN0IG51bWVyaWNhbFZhbHVlcyA9IFsuLi5uZXcgU2V0KE9iamVjdC52YWx1ZXMoY29uc3RydWN0b3IpLmZpbHRlcigodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpKV0uc29ydCgpO1xuICBjb25zdCBlbnVtUmVjb3JkID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGNvbnN0cnVjdG9yKS5zbGljZShudW1lcmljYWxWYWx1ZXMubGVuZ3RoKSk7XG4gIGNvbnN0IGVudW1LZXlzID0gT2JqZWN0LmtleXMoZW51bVJlY29yZCk7XG4gIGNvbnN0IGVudW1WYWx1ZXMgPSBPYmplY3QudmFsdWVzKGVudW1SZWNvcmQpO1xuICBjb25zdCBzdHJpbmdWYWx1ZXMgPSBbXG4gICAgLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLmVudW1LZXlzLCAuLi5lbnVtVmFsdWVzLmZpbHRlcigodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIpXSlcbiAgXTtcbiAgcmV0dXJuIHsgZW51bUtleXMsIGVudW1SZWNvcmQsIGVudW1WYWx1ZXMsIG51bWVyaWNhbFZhbHVlcywgc3RyaW5nVmFsdWVzIH07XG59XG5mdW5jdGlvbiBnZXRFbnVtSW5kZXhGcm9tVmFyaWFudCh7XG4gIGVudW1LZXlzLFxuICBlbnVtVmFsdWVzLFxuICB2YXJpYW50XG59KSB7XG4gIGNvbnN0IHZhbHVlSW5kZXggPSBmaW5kTGFzdEluZGV4KGVudW1WYWx1ZXMsICh2YWx1ZSkgPT4gdmFsdWUgPT09IHZhcmlhbnQpO1xuICBpZiAodmFsdWVJbmRleCA+PSAwKSByZXR1cm4gdmFsdWVJbmRleDtcbiAgcmV0dXJuIGVudW1LZXlzLmZpbmRJbmRleCgoa2V5KSA9PiBrZXkgPT09IHZhcmlhbnQpO1xufVxuZnVuY3Rpb24gZ2V0RW51bUluZGV4RnJvbURpc2NyaW1pbmF0b3Ioe1xuICBkaXNjcmltaW5hdG9yLFxuICBlbnVtS2V5cyxcbiAgZW51bVZhbHVlcyxcbiAgdXNlVmFsdWVzQXNEaXNjcmltaW5hdG9yc1xufSkge1xuICBpZiAoIXVzZVZhbHVlc0FzRGlzY3JpbWluYXRvcnMpIHtcbiAgICByZXR1cm4gZGlzY3JpbWluYXRvciA+PSAwICYmIGRpc2NyaW1pbmF0b3IgPCBlbnVtS2V5cy5sZW5ndGggPyBkaXNjcmltaW5hdG9yIDogLTE7XG4gIH1cbiAgcmV0dXJuIGZpbmRMYXN0SW5kZXgoZW51bVZhbHVlcywgKHZhbHVlKSA9PiB2YWx1ZSA9PT0gZGlzY3JpbWluYXRvcik7XG59XG5mdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgbGV0IGwgPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsLS0pIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2xdLCBsLCBhcnJheSkpIHJldHVybiBsO1xuICB9XG4gIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGZvcm1hdE51bWVyaWNhbFZhbHVlcyh2YWx1ZXMpIHtcbiAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHJldHVybiBcIlwiO1xuICBsZXQgcmFuZ2UgPSBbdmFsdWVzWzBdLCB2YWx1ZXNbMF1dO1xuICBjb25zdCByYW5nZXMgPSBbXTtcbiAgZm9yIChsZXQgaW5kZXggPSAxOyBpbmRleCA8IHZhbHVlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpbmRleF07XG4gICAgaWYgKHJhbmdlWzFdICsgMSA9PT0gdmFsdWUpIHtcbiAgICAgIHJhbmdlWzFdID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlcy5wdXNoKHJhbmdlWzBdID09PSByYW5nZVsxXSA/IGAke3JhbmdlWzBdfWAgOiBgJHtyYW5nZVswXX0tJHtyYW5nZVsxXX1gKTtcbiAgICAgIHJhbmdlID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfVxuICB9XG4gIHJhbmdlcy5wdXNoKHJhbmdlWzBdID09PSByYW5nZVsxXSA/IGAke3JhbmdlWzBdfWAgOiBgJHtyYW5nZVswXX0tJHtyYW5nZVsxXX1gKTtcbiAgcmV0dXJuIHJhbmdlcy5qb2luKFwiLCBcIik7XG59XG5cbi8vIHNyYy9lbnVtLnRzXG5mdW5jdGlvbiBnZXRFbnVtRW5jb2Rlcihjb25zdHJ1Y3RvciwgY29uZmlnID0ge30pIHtcbiAgY29uc3QgcHJlZml4ID0gY29uZmlnLnNpemUgPz8gZ2V0VThFbmNvZGVyKCk7XG4gIGNvbnN0IHVzZVZhbHVlc0FzRGlzY3JpbWluYXRvcnMgPSBjb25maWcudXNlVmFsdWVzQXNEaXNjcmltaW5hdG9ycyA/PyBmYWxzZTtcbiAgY29uc3QgeyBlbnVtS2V5cywgZW51bVZhbHVlcywgbnVtZXJpY2FsVmFsdWVzLCBzdHJpbmdWYWx1ZXMgfSA9IGdldEVudW1TdGF0cyhjb25zdHJ1Y3Rvcik7XG4gIGlmICh1c2VWYWx1ZXNBc0Rpc2NyaW1pbmF0b3JzICYmIGVudW1WYWx1ZXMuc29tZSgodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19DT0RFQ1NfX0NBTk5PVF9VU0VfTEVYSUNBTF9WQUxVRVNfQVNfRU5VTV9ESVNDUklNSU5BVE9SUywge1xuICAgICAgc3RyaW5nVmFsdWVzOiBlbnVtVmFsdWVzLmZpbHRlcigodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIpXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIocHJlZml4LCAodmFyaWFudCkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gZ2V0RW51bUluZGV4RnJvbVZhcmlhbnQoeyBlbnVtS2V5cywgZW51bVZhbHVlcywgdmFyaWFudCB9KTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19DT0RFQ1NfX0lOVkFMSURfRU5VTV9WQVJJQU5ULCB7XG4gICAgICAgIGZvcm1hdHRlZE51bWVyaWNhbFZhbHVlczogZm9ybWF0TnVtZXJpY2FsVmFsdWVzKG51bWVyaWNhbFZhbHVlcyksXG4gICAgICAgIG51bWVyaWNhbFZhbHVlcyxcbiAgICAgICAgc3RyaW5nVmFsdWVzLFxuICAgICAgICB2YXJpYW50XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZVZhbHVlc0FzRGlzY3JpbWluYXRvcnMgPyBlbnVtVmFsdWVzW2luZGV4XSA6IGluZGV4O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldEVudW1EZWNvZGVyKGNvbnN0cnVjdG9yLCBjb25maWcgPSB7fSkge1xuICBjb25zdCBwcmVmaXggPSBjb25maWcuc2l6ZSA/PyBnZXRVOERlY29kZXIoKTtcbiAgY29uc3QgdXNlVmFsdWVzQXNEaXNjcmltaW5hdG9ycyA9IGNvbmZpZy51c2VWYWx1ZXNBc0Rpc2NyaW1pbmF0b3JzID8/IGZhbHNlO1xuICBjb25zdCB7IGVudW1LZXlzLCBlbnVtVmFsdWVzLCBudW1lcmljYWxWYWx1ZXMgfSA9IGdldEVudW1TdGF0cyhjb25zdHJ1Y3Rvcik7XG4gIGlmICh1c2VWYWx1ZXNBc0Rpc2NyaW1pbmF0b3JzICYmIGVudW1WYWx1ZXMuc29tZSgodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19DT0RFQ1NfX0NBTk5PVF9VU0VfTEVYSUNBTF9WQUxVRVNfQVNfRU5VTV9ESVNDUklNSU5BVE9SUywge1xuICAgICAgc3RyaW5nVmFsdWVzOiBlbnVtVmFsdWVzLmZpbHRlcigodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIpXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybURlY29kZXIocHJlZml4LCAodmFsdWUpID0+IHtcbiAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gTnVtYmVyKHZhbHVlKTtcbiAgICBjb25zdCBpbmRleCA9IGdldEVudW1JbmRleEZyb21EaXNjcmltaW5hdG9yKHtcbiAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICBlbnVtS2V5cyxcbiAgICAgIGVudW1WYWx1ZXMsXG4gICAgICB1c2VWYWx1ZXNBc0Rpc2NyaW1pbmF0b3JzXG4gICAgfSk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgY29uc3QgdmFsaWREaXNjcmltaW5hdG9ycyA9IHVzZVZhbHVlc0FzRGlzY3JpbWluYXRvcnMgPyBudW1lcmljYWxWYWx1ZXMgOiBbLi4uQXJyYXkoZW51bUtleXMubGVuZ3RoKS5rZXlzKCldO1xuICAgICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fQ09ERUNTX19FTlVNX0RJU0NSSU1JTkFUT1JfT1VUX09GX1JBTkdFLCB7XG4gICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgIGZvcm1hdHRlZFZhbGlkRGlzY3JpbWluYXRvcnM6IGZvcm1hdE51bWVyaWNhbFZhbHVlcyh2YWxpZERpc2NyaW1pbmF0b3JzKSxcbiAgICAgICAgdmFsaWREaXNjcmltaW5hdG9yc1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnVtVmFsdWVzW2luZGV4XTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRFbnVtQ29kZWMoY29uc3RydWN0b3IsIGNvbmZpZyA9IHt9KSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoZ2V0RW51bUVuY29kZXIoY29uc3RydWN0b3IsIGNvbmZpZyksIGdldEVudW1EZWNvZGVyKGNvbnN0cnVjdG9yLCBjb25maWcpKTtcbn1cbnZhciBnZXRTY2FsYXJFbnVtRW5jb2RlciA9IGdldEVudW1FbmNvZGVyO1xudmFyIGdldFNjYWxhckVudW1EZWNvZGVyID0gZ2V0RW51bURlY29kZXI7XG52YXIgZ2V0U2NhbGFyRW51bUNvZGVjID0gZ2V0RW51bUNvZGVjO1xuZnVuY3Rpb24gZ2V0SGlkZGVuUHJlZml4RW5jb2RlcihlbmNvZGVyLCBwcmVmaXhlZEVuY29kZXJzKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgIGdldFR1cGxlRW5jb2RlcihbLi4ucHJlZml4ZWRFbmNvZGVycywgZW5jb2Rlcl0pLFxuICAgICh2YWx1ZSkgPT4gWy4uLnByZWZpeGVkRW5jb2RlcnMubWFwKCgpID0+IHVuZGVmaW5lZCksIHZhbHVlXVxuICApO1xufVxuZnVuY3Rpb24gZ2V0SGlkZGVuUHJlZml4RGVjb2RlcihkZWNvZGVyLCBwcmVmaXhlZERlY29kZXJzKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1EZWNvZGVyKFxuICAgIGdldFR1cGxlRGVjb2RlcihbLi4ucHJlZml4ZWREZWNvZGVycywgZGVjb2Rlcl0pLFxuICAgICh0dXBsZSkgPT4gdHVwbGVbdHVwbGUubGVuZ3RoIC0gMV1cbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEhpZGRlblByZWZpeENvZGVjKGNvZGVjLCBwcmVmaXhlZENvZGVjcykge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldEhpZGRlblByZWZpeEVuY29kZXIoY29kZWMsIHByZWZpeGVkQ29kZWNzKSwgZ2V0SGlkZGVuUHJlZml4RGVjb2Rlcihjb2RlYywgcHJlZml4ZWRDb2RlY3MpKTtcbn1cbmZ1bmN0aW9uIGdldEhpZGRlblN1ZmZpeEVuY29kZXIoZW5jb2Rlciwgc3VmZml4ZWRFbmNvZGVycykge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRUdXBsZUVuY29kZXIoW2VuY29kZXIsIC4uLnN1ZmZpeGVkRW5jb2RlcnNdKSxcbiAgICAodmFsdWUpID0+IFt2YWx1ZSwgLi4uc3VmZml4ZWRFbmNvZGVycy5tYXAoKCkgPT4gdW5kZWZpbmVkKV1cbiAgKTtcbn1cbmZ1bmN0aW9uIGdldEhpZGRlblN1ZmZpeERlY29kZXIoZGVjb2Rlciwgc3VmZml4ZWREZWNvZGVycykge1xuICByZXR1cm4gdHJhbnNmb3JtRGVjb2RlcihcbiAgICBnZXRUdXBsZURlY29kZXIoW2RlY29kZXIsIC4uLnN1ZmZpeGVkRGVjb2RlcnNdKSxcbiAgICAodHVwbGUpID0+IHR1cGxlWzBdXG4gICk7XG59XG5mdW5jdGlvbiBnZXRIaWRkZW5TdWZmaXhDb2RlYyhjb2RlYywgc3VmZml4ZWRDb2RlY3MpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhnZXRIaWRkZW5TdWZmaXhFbmNvZGVyKGNvZGVjLCBzdWZmaXhlZENvZGVjcyksIGdldEhpZGRlblN1ZmZpeERlY29kZXIoY29kZWMsIHN1ZmZpeGVkQ29kZWNzKSk7XG59XG5mdW5jdGlvbiBnZXRMaXRlcmFsVW5pb25FbmNvZGVyKHZhcmlhbnRzLCBjb25maWcgPSB7fSkge1xuICBjb25zdCBkaXNjcmltaW5hdG9yID0gY29uZmlnLnNpemUgPz8gZ2V0VThFbmNvZGVyKCk7XG4gIHJldHVybiB0cmFuc2Zvcm1FbmNvZGVyKGRpc2NyaW1pbmF0b3IsICh2YXJpYW50KSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSB2YXJpYW50cy5pbmRleE9mKHZhcmlhbnQpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0NPREVDU19fSU5WQUxJRF9MSVRFUkFMX1VOSU9OX1ZBUklBTlQsIHtcbiAgICAgICAgdmFsdWU6IHZhcmlhbnQsXG4gICAgICAgIHZhcmlhbnRzXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldExpdGVyYWxVbmlvbkRlY29kZXIodmFyaWFudHMsIGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSBjb25maWcuc2l6ZSA/PyBnZXRVOERlY29kZXIoKTtcbiAgcmV0dXJuIHRyYW5zZm9ybURlY29kZXIoZGlzY3JpbWluYXRvciwgKGluZGV4KSA9PiB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB2YXJpYW50cy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0NPREVDU19fTElURVJBTF9VTklPTl9ESVNDUklNSU5BVE9SX09VVF9PRl9SQU5HRSwge1xuICAgICAgICBkaXNjcmltaW5hdG9yOiBpbmRleCxcbiAgICAgICAgbWF4UmFuZ2U6IHZhcmlhbnRzLmxlbmd0aCAtIDEsXG4gICAgICAgIG1pblJhbmdlOiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhcmlhbnRzW051bWJlcihpbmRleCldO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldExpdGVyYWxVbmlvbkNvZGVjKHZhcmlhbnRzLCBjb25maWcgPSB7fSkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldExpdGVyYWxVbmlvbkVuY29kZXIodmFyaWFudHMsIGNvbmZpZyksIGdldExpdGVyYWxVbmlvbkRlY29kZXIodmFyaWFudHMsIGNvbmZpZykpO1xufVxuZnVuY3Rpb24gZ2V0TWFwRW5jb2RlcihrZXksIHZhbHVlLCBjb25maWcgPSB7fSkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRBcnJheUVuY29kZXIoZ2V0VHVwbGVFbmNvZGVyKFtrZXksIHZhbHVlXSksIGNvbmZpZyksXG4gICAgKG1hcCkgPT4gWy4uLm1hcC5lbnRyaWVzKCldXG4gICk7XG59XG5mdW5jdGlvbiBnZXRNYXBEZWNvZGVyKGtleSwgdmFsdWUsIGNvbmZpZyA9IHt9KSB7XG4gIHJldHVybiB0cmFuc2Zvcm1EZWNvZGVyKFxuICAgIGdldEFycmF5RGVjb2RlcihnZXRUdXBsZURlY29kZXIoW2tleSwgdmFsdWVdKSwgY29uZmlnKSxcbiAgICAoZW50cmllcykgPT4gbmV3IE1hcChlbnRyaWVzKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0TWFwQ29kZWMoa2V5LCB2YWx1ZSwgY29uZmlnID0ge30pIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhnZXRNYXBFbmNvZGVyKGtleSwgdmFsdWUsIGNvbmZpZyksIGdldE1hcERlY29kZXIoa2V5LCB2YWx1ZSwgY29uZmlnKSk7XG59XG5mdW5jdGlvbiBnZXRVbml0RW5jb2RlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZUVuY29kZXIoe1xuICAgIGZpeGVkU2l6ZTogMCxcbiAgICB3cml0ZTogKF92YWx1ZSwgX2J5dGVzLCBvZmZzZXQpID0+IG9mZnNldFxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFVuaXREZWNvZGVyKCkge1xuICByZXR1cm4gY3JlYXRlRGVjb2Rlcih7XG4gICAgZml4ZWRTaXplOiAwLFxuICAgIHJlYWQ6IChfYnl0ZXMsIG9mZnNldCkgPT4gW3VuZGVmaW5lZCwgb2Zmc2V0XVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFVuaXRDb2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhnZXRVbml0RW5jb2RlcigpLCBnZXRVbml0RGVjb2RlcigpKTtcbn1cblxuLy8gc3JjL251bGxhYmxlLnRzXG5mdW5jdGlvbiBnZXROdWxsYWJsZUVuY29kZXIoaXRlbSwgY29uZmlnID0ge30pIHtcbiAgY29uc3QgcHJlZml4ID0gKCgpID0+IHtcbiAgICBpZiAoY29uZmlnLnByZWZpeCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoZ2V0VW5pdEVuY29kZXIoKSwgKF9ib29sZWFuKSA9PiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Qm9vbGVhbkVuY29kZXIoeyBzaXplOiBjb25maWcucHJlZml4ID8/IGdldFU4RW5jb2RlcigpIH0pO1xuICB9KSgpO1xuICBjb25zdCBub25lVmFsdWUgPSAoKCkgPT4ge1xuICAgIGlmIChjb25maWcubm9uZVZhbHVlID09PSBcInplcm9lc1wiKSB7XG4gICAgICBhc3NlcnRJc0ZpeGVkU2l6ZShpdGVtKTtcbiAgICAgIHJldHVybiBmaXhFbmNvZGVyU2l6ZShnZXRVbml0RW5jb2RlcigpLCBpdGVtLmZpeGVkU2l6ZSk7XG4gICAgfVxuICAgIGlmICghY29uZmlnLm5vbmVWYWx1ZSkge1xuICAgICAgcmV0dXJuIGdldFVuaXRFbmNvZGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBnZXRDb25zdGFudEVuY29kZXIoY29uZmlnLm5vbmVWYWx1ZSk7XG4gIH0pKCk7XG4gIHJldHVybiBnZXRVbmlvbkVuY29kZXIoXG4gICAgW1xuICAgICAgdHJhbnNmb3JtRW5jb2RlcihnZXRUdXBsZUVuY29kZXIoW3ByZWZpeCwgbm9uZVZhbHVlXSksIChfdmFsdWUpID0+IFtcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHVuZGVmaW5lZFxuICAgICAgXSksXG4gICAgICB0cmFuc2Zvcm1FbmNvZGVyKGdldFR1cGxlRW5jb2RlcihbcHJlZml4LCBpdGVtXSksICh2YWx1ZSkgPT4gW3RydWUsIHZhbHVlXSlcbiAgICBdLFxuICAgICh2YXJpYW50KSA9PiBOdW1iZXIodmFyaWFudCAhPT0gbnVsbClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldE51bGxhYmxlRGVjb2RlcihpdGVtLCBjb25maWcgPSB7fSkge1xuICBjb25zdCBwcmVmaXggPSAoKCkgPT4ge1xuICAgIGlmIChjb25maWcucHJlZml4ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtRGVjb2RlcihnZXRVbml0RGVjb2RlcigpLCAoKSA9PiBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBnZXRCb29sZWFuRGVjb2Rlcih7IHNpemU6IGNvbmZpZy5wcmVmaXggPz8gZ2V0VThEZWNvZGVyKCkgfSk7XG4gIH0pKCk7XG4gIGNvbnN0IG5vbmVWYWx1ZSA9ICgoKSA9PiB7XG4gICAgaWYgKGNvbmZpZy5ub25lVmFsdWUgPT09IFwiemVyb2VzXCIpIHtcbiAgICAgIGFzc2VydElzRml4ZWRTaXplKGl0ZW0pO1xuICAgICAgcmV0dXJuIGZpeERlY29kZXJTaXplKGdldFVuaXREZWNvZGVyKCksIGl0ZW0uZml4ZWRTaXplKTtcbiAgICB9XG4gICAgaWYgKCFjb25maWcubm9uZVZhbHVlKSB7XG4gICAgICByZXR1cm4gZ2V0VW5pdERlY29kZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldENvbnN0YW50RGVjb2Rlcihjb25maWcubm9uZVZhbHVlKTtcbiAgfSkoKTtcbiAgcmV0dXJuIGdldFVuaW9uRGVjb2RlcihcbiAgICBbXG4gICAgICB0cmFuc2Zvcm1EZWNvZGVyKGdldFR1cGxlRGVjb2RlcihbcHJlZml4LCBub25lVmFsdWVdKSwgKCkgPT4gbnVsbCksXG4gICAgICB0cmFuc2Zvcm1EZWNvZGVyKGdldFR1cGxlRGVjb2RlcihbcHJlZml4LCBpdGVtXSksIChbLCB2YWx1ZV0pID0+IHZhbHVlKVxuICAgIF0sXG4gICAgKGJ5dGVzLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmIChjb25maWcucHJlZml4ID09PSBudWxsICYmICFjb25maWcubm9uZVZhbHVlKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIob2Zmc2V0IDwgYnl0ZXMubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcucHJlZml4ID09PSBudWxsICYmIGNvbmZpZy5ub25lVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCB6ZXJvVmFsdWUgPSBjb25maWcubm9uZVZhbHVlID09PSBcInplcm9lc1wiID8gbmV3IFVpbnQ4QXJyYXkobm9uZVZhbHVlLmZpeGVkU2l6ZSkuZmlsbCgwKSA6IGNvbmZpZy5ub25lVmFsdWU7XG4gICAgICAgIHJldHVybiBjb250YWluc0J5dGVzKGJ5dGVzLCB6ZXJvVmFsdWUsIG9mZnNldCkgPyAwIDogMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBOdW1iZXIocHJlZml4LnJlYWQoYnl0ZXMsIG9mZnNldClbMF0pO1xuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGdldE51bGxhYmxlQ29kZWMoaXRlbSwgY29uZmlnID0ge30pIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhcbiAgICBnZXROdWxsYWJsZUVuY29kZXIoaXRlbSwgY29uZmlnKSxcbiAgICBnZXROdWxsYWJsZURlY29kZXIoaXRlbSwgY29uZmlnKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0U2V0RW5jb2RlcihpdGVtLCBjb25maWcgPSB7fSkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihnZXRBcnJheUVuY29kZXIoaXRlbSwgY29uZmlnKSwgKHNldCkgPT4gWy4uLnNldF0pO1xufVxuZnVuY3Rpb24gZ2V0U2V0RGVjb2RlcihpdGVtLCBjb25maWcgPSB7fSkge1xuICByZXR1cm4gdHJhbnNmb3JtRGVjb2RlcihnZXRBcnJheURlY29kZXIoaXRlbSwgY29uZmlnKSwgKGVudHJpZXMpID0+IG5ldyBTZXQoZW50cmllcykpO1xufVxuZnVuY3Rpb24gZ2V0U2V0Q29kZWMoaXRlbSwgY29uZmlnID0ge30pIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhnZXRTZXRFbmNvZGVyKGl0ZW0sIGNvbmZpZyksIGdldFNldERlY29kZXIoaXRlbSwgY29uZmlnKSk7XG59XG5mdW5jdGlvbiBnZXRTdHJ1Y3RFbmNvZGVyKGZpZWxkcykge1xuICBjb25zdCBmaWVsZENvZGVjcyA9IGZpZWxkcy5tYXAoKFssIGNvZGVjXSkgPT4gY29kZWMpO1xuICBjb25zdCBmaXhlZFNpemUgPSBzdW1Db2RlY1NpemVzKGZpZWxkQ29kZWNzLm1hcChnZXRGaXhlZFNpemUpKTtcbiAgY29uc3QgbWF4U2l6ZSA9IHN1bUNvZGVjU2l6ZXMoZmllbGRDb2RlY3MubWFwKGdldE1heFNpemUpKSA/PyB1bmRlZmluZWQ7XG4gIHJldHVybiBjcmVhdGVFbmNvZGVyKHtcbiAgICAuLi5maXhlZFNpemUgPT09IG51bGwgPyB7XG4gICAgICBnZXRTaXplRnJvbVZhbHVlOiAodmFsdWUpID0+IGZpZWxkcy5tYXAoKFtrZXksIGNvZGVjXSkgPT4gZ2V0RW5jb2RlZFNpemUodmFsdWVba2V5XSwgY29kZWMpKS5yZWR1Y2UoKGFsbCwgb25lKSA9PiBhbGwgKyBvbmUsIDApLFxuICAgICAgbWF4U2l6ZVxuICAgIH0gOiB7IGZpeGVkU2l6ZSB9LFxuICAgIHdyaXRlOiAoc3RydWN0LCBieXRlcywgb2Zmc2V0KSA9PiB7XG4gICAgICBmaWVsZHMuZm9yRWFjaCgoW2tleSwgY29kZWNdKSA9PiB7XG4gICAgICAgIG9mZnNldCA9IGNvZGVjLndyaXRlKHN0cnVjdFtrZXldLCBieXRlcywgb2Zmc2V0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0U3RydWN0RGVjb2RlcihmaWVsZHMpIHtcbiAgY29uc3QgZmllbGRDb2RlY3MgPSBmaWVsZHMubWFwKChbLCBjb2RlY10pID0+IGNvZGVjKTtcbiAgY29uc3QgZml4ZWRTaXplID0gc3VtQ29kZWNTaXplcyhmaWVsZENvZGVjcy5tYXAoZ2V0Rml4ZWRTaXplKSk7XG4gIGNvbnN0IG1heFNpemUgPSBzdW1Db2RlY1NpemVzKGZpZWxkQ29kZWNzLm1hcChnZXRNYXhTaXplKSkgPz8gdW5kZWZpbmVkO1xuICByZXR1cm4gY3JlYXRlRGVjb2Rlcih7XG4gICAgLi4uZml4ZWRTaXplID09PSBudWxsID8geyBtYXhTaXplIH0gOiB7IGZpeGVkU2l6ZSB9LFxuICAgIHJlYWQ6IChieXRlcywgb2Zmc2V0KSA9PiB7XG4gICAgICBjb25zdCBzdHJ1Y3QgPSB7fTtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKChba2V5LCBjb2RlY10pID0+IHtcbiAgICAgICAgY29uc3QgW3ZhbHVlLCBuZXdPZmZzZXRdID0gY29kZWMucmVhZChieXRlcywgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gbmV3T2Zmc2V0O1xuICAgICAgICBzdHJ1Y3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gW3N0cnVjdCwgb2Zmc2V0XTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0U3RydWN0Q29kZWMoZmllbGRzKSB7XG4gIHJldHVybiBjb21iaW5lQ29kZWMoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihmaWVsZHMpLFxuICAgIGdldFN0cnVjdERlY29kZXIoZmllbGRzKVxuICApO1xufVxuXG5leHBvcnQgeyBhc3NlcnRWYWxpZE51bWJlck9mSXRlbXNGb3JDb2RlYywgZ2V0QXJyYXlDb2RlYywgZ2V0QXJyYXlEZWNvZGVyLCBnZXRBcnJheUVuY29kZXIsIGdldEJpdEFycmF5Q29kZWMsIGdldEJpdEFycmF5RGVjb2RlciwgZ2V0Qml0QXJyYXlFbmNvZGVyLCBnZXRCb29sZWFuQ29kZWMsIGdldEJvb2xlYW5EZWNvZGVyLCBnZXRCb29sZWFuRW5jb2RlciwgZ2V0Qnl0ZXNDb2RlYywgZ2V0Qnl0ZXNEZWNvZGVyLCBnZXRCeXRlc0VuY29kZXIsIGdldENvbnN0YW50Q29kZWMsIGdldENvbnN0YW50RGVjb2RlciwgZ2V0Q29uc3RhbnRFbmNvZGVyLCBnZXREYXRhRW51bUNvZGVjLCBnZXREYXRhRW51bURlY29kZXIsIGdldERhdGFFbnVtRW5jb2RlciwgZ2V0RGlzY3JpbWluYXRlZFVuaW9uQ29kZWMsIGdldERpc2NyaW1pbmF0ZWRVbmlvbkRlY29kZXIsIGdldERpc2NyaW1pbmF0ZWRVbmlvbkVuY29kZXIsIGdldEVudW1Db2RlYywgZ2V0RW51bURlY29kZXIsIGdldEVudW1FbmNvZGVyLCBnZXRIaWRkZW5QcmVmaXhDb2RlYywgZ2V0SGlkZGVuUHJlZml4RGVjb2RlciwgZ2V0SGlkZGVuUHJlZml4RW5jb2RlciwgZ2V0SGlkZGVuU3VmZml4Q29kZWMsIGdldEhpZGRlblN1ZmZpeERlY29kZXIsIGdldEhpZGRlblN1ZmZpeEVuY29kZXIsIGdldExpdGVyYWxVbmlvbkNvZGVjLCBnZXRMaXRlcmFsVW5pb25EZWNvZGVyLCBnZXRMaXRlcmFsVW5pb25FbmNvZGVyLCBnZXRNYXBDb2RlYywgZ2V0TWFwRGVjb2RlciwgZ2V0TWFwRW5jb2RlciwgZ2V0TnVsbGFibGVDb2RlYywgZ2V0TnVsbGFibGVEZWNvZGVyLCBnZXROdWxsYWJsZUVuY29kZXIsIGdldFNjYWxhckVudW1Db2RlYywgZ2V0U2NhbGFyRW51bURlY29kZXIsIGdldFNjYWxhckVudW1FbmNvZGVyLCBnZXRTZXRDb2RlYywgZ2V0U2V0RGVjb2RlciwgZ2V0U2V0RW5jb2RlciwgZ2V0U3RydWN0Q29kZWMsIGdldFN0cnVjdERlY29kZXIsIGdldFN0cnVjdEVuY29kZXIsIGdldFR1cGxlQ29kZWMsIGdldFR1cGxlRGVjb2RlciwgZ2V0VHVwbGVFbmNvZGVyLCBnZXRVbmlvbkNvZGVjLCBnZXRVbmlvbkRlY29kZXIsIGdldFVuaW9uRW5jb2RlciwgZ2V0VW5pdENvZGVjLCBnZXRVbml0RGVjb2RlciwgZ2V0VW5pdEVuY29kZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIubWpzLm1hcFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguYnJvd3Nlci5tanMubWFwIiwiaW1wb3J0IHsgU29sYW5hRXJyb3IsIFNPTEFOQV9FUlJPUl9fSU5TVFJVQ1RJT05fX1BST0dSQU1fSURfTUlTTUFUQ0gsIFNPTEFOQV9FUlJPUl9fSU5TVFJVQ1RJT05fX0VYUEVDVEVEX1RPX0hBVkVfQUNDT1VOVFMsIFNPTEFOQV9FUlJPUl9fSU5TVFJVQ1RJT05fX0VYUEVDVEVEX1RPX0hBVkVfREFUQSB9IGZyb20gJ0Bzb2xhbmEvZXJyb3JzJztcblxuLy8gc3JjL2luc3RydWN0aW9uLnRzXG5mdW5jdGlvbiBpc0luc3RydWN0aW9uRm9yUHJvZ3JhbShpbnN0cnVjdGlvbiwgcHJvZ3JhbUFkZHJlc3MpIHtcbiAgcmV0dXJuIGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzID09PSBwcm9ncmFtQWRkcmVzcztcbn1cbmZ1bmN0aW9uIGFzc2VydElzSW5zdHJ1Y3Rpb25Gb3JQcm9ncmFtKGluc3RydWN0aW9uLCBwcm9ncmFtQWRkcmVzcykge1xuICBpZiAoaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MgIT09IHByb2dyYW1BZGRyZXNzKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fSU5TVFJVQ1RJT05fX1BST0dSQU1fSURfTUlTTUFUQ0gsIHtcbiAgICAgIGFjdHVhbFByb2dyYW1BZGRyZXNzOiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyxcbiAgICAgIGV4cGVjdGVkUHJvZ3JhbUFkZHJlc3M6IHByb2dyYW1BZGRyZXNzXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzSW5zdHJ1Y3Rpb25XaXRoQWNjb3VudHMoaW5zdHJ1Y3Rpb24pIHtcbiAgcmV0dXJuIGluc3RydWN0aW9uLmFjY291bnRzICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBhc3NlcnRJc0luc3RydWN0aW9uV2l0aEFjY291bnRzKGluc3RydWN0aW9uKSB7XG4gIGlmIChpbnN0cnVjdGlvbi5hY2NvdW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fSU5TVFJVQ1RJT05fX0VYUEVDVEVEX1RPX0hBVkVfQUNDT1VOVFMsIHtcbiAgICAgIGRhdGE6IGluc3RydWN0aW9uLmRhdGEsXG4gICAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3NcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gaXNJbnN0cnVjdGlvbldpdGhEYXRhKGluc3RydWN0aW9uKSB7XG4gIHJldHVybiBpbnN0cnVjdGlvbi5kYXRhICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBhc3NlcnRJc0luc3RydWN0aW9uV2l0aERhdGEoaW5zdHJ1Y3Rpb24pIHtcbiAgaWYgKGluc3RydWN0aW9uLmRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0lOU1RSVUNUSU9OX19FWFBFQ1RFRF9UT19IQVZFX0RBVEEsIHtcbiAgICAgIGFjY291bnRBZGRyZXNzZXM6IGluc3RydWN0aW9uLmFjY291bnRzPy5tYXAoKGEpID0+IGEuYWRkcmVzcyksXG4gICAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3NcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBzcmMvcm9sZXMudHNcbnZhciBBY2NvdW50Um9sZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEFjY291bnRSb2xlMikgPT4ge1xuICBBY2NvdW50Um9sZTJbQWNjb3VudFJvbGUyW1wiV1JJVEFCTEVfU0lHTkVSXCJdID0gLyogMyAqL1xuICAzXSA9IFwiV1JJVEFCTEVfU0lHTkVSXCI7XG4gIEFjY291bnRSb2xlMltBY2NvdW50Um9sZTJbXCJSRUFET05MWV9TSUdORVJcIl0gPSAvKiAyICovXG4gIDJdID0gXCJSRUFET05MWV9TSUdORVJcIjtcbiAgQWNjb3VudFJvbGUyW0FjY291bnRSb2xlMltcIldSSVRBQkxFXCJdID0gLyogMSAqL1xuICAxXSA9IFwiV1JJVEFCTEVcIjtcbiAgQWNjb3VudFJvbGUyW0FjY291bnRSb2xlMltcIlJFQURPTkxZXCJdID0gLyogMCAqL1xuICAwXSA9IFwiUkVBRE9OTFlcIjtcbiAgcmV0dXJuIEFjY291bnRSb2xlMjtcbn0pKEFjY291bnRSb2xlIHx8IHt9KTtcbnZhciBJU19TSUdORVJfQklUTUFTSyA9IDI7XG52YXIgSVNfV1JJVEFCTEVfQklUTUFTSyA9IDE7XG5mdW5jdGlvbiBkb3duZ3JhZGVSb2xlVG9Ob25TaWduZXIocm9sZSkge1xuICByZXR1cm4gcm9sZSAmIC0zO1xufVxuZnVuY3Rpb24gZG93bmdyYWRlUm9sZVRvUmVhZG9ubHkocm9sZSkge1xuICByZXR1cm4gcm9sZSAmIC0yO1xufVxuZnVuY3Rpb24gaXNTaWduZXJSb2xlKHJvbGUpIHtcbiAgcmV0dXJuIHJvbGUgPj0gMiAvKiBSRUFET05MWV9TSUdORVIgKi87XG59XG5mdW5jdGlvbiBpc1dyaXRhYmxlUm9sZShyb2xlKSB7XG4gIHJldHVybiAocm9sZSAmIElTX1dSSVRBQkxFX0JJVE1BU0spICE9PSAwO1xufVxuZnVuY3Rpb24gbWVyZ2VSb2xlcyhyb2xlQSwgcm9sZUIpIHtcbiAgcmV0dXJuIHJvbGVBIHwgcm9sZUI7XG59XG5mdW5jdGlvbiB1cGdyYWRlUm9sZVRvU2lnbmVyKHJvbGUpIHtcbiAgcmV0dXJuIHJvbGUgfCBJU19TSUdORVJfQklUTUFTSztcbn1cbmZ1bmN0aW9uIHVwZ3JhZGVSb2xlVG9Xcml0YWJsZShyb2xlKSB7XG4gIHJldHVybiByb2xlIHwgSVNfV1JJVEFCTEVfQklUTUFTSztcbn1cblxuZXhwb3J0IHsgQWNjb3VudFJvbGUsIGFzc2VydElzSW5zdHJ1Y3Rpb25Gb3JQcm9ncmFtLCBhc3NlcnRJc0luc3RydWN0aW9uV2l0aEFjY291bnRzLCBhc3NlcnRJc0luc3RydWN0aW9uV2l0aERhdGEsIGRvd25ncmFkZVJvbGVUb05vblNpZ25lciwgZG93bmdyYWRlUm9sZVRvUmVhZG9ubHksIGlzSW5zdHJ1Y3Rpb25Gb3JQcm9ncmFtLCBpc0luc3RydWN0aW9uV2l0aEFjY291bnRzLCBpc0luc3RydWN0aW9uV2l0aERhdGEsIGlzU2lnbmVyUm9sZSwgaXNXcml0YWJsZVJvbGUsIG1lcmdlUm9sZXMsIHVwZ3JhZGVSb2xlVG9TaWduZXIsIHVwZ3JhZGVSb2xlVG9Xcml0YWJsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguYnJvd3Nlci5tanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLm1qcy5tYXAiLCJpbXBvcnQgeyBhc3NlcnRLZXlFeHBvcnRlcklzQXZhaWxhYmxlLCBhc3NlcnRTaWduaW5nQ2FwYWJpbGl0eUlzQXZhaWxhYmxlLCBhc3NlcnRWZXJpZmljYXRpb25DYXBhYmlsaXR5SXNBdmFpbGFibGUsIGFzc2VydEtleUdlbmVyYXRpb25Jc0F2YWlsYWJsZSwgYXNzZXJ0UFJOR0lzQXZhaWxhYmxlIH0gZnJvbSAnQHNvbGFuYS9hc3NlcnRpb25zJztcbmltcG9ydCB7IFNvbGFuYUVycm9yLCBTT0xBTkFfRVJST1JfX0tFWVNfX0lOVkFMSURfUFJJVkFURV9LRVlfQllURV9MRU5HVEgsIFNPTEFOQV9FUlJPUl9fU1VCVExFX0NSWVBUT19fQ0FOTk9UX0VYUE9SVF9OT05fRVhUUkFDVEFCTEVfS0VZLCBTT0xBTkFfRVJST1JfX0tFWVNfX1NJR05BVFVSRV9TVFJJTkdfTEVOR1RIX09VVF9PRl9SQU5HRSwgU09MQU5BX0VSUk9SX19LRVlTX19JTlZBTElEX1NJR05BVFVSRV9CWVRFX0xFTkdUSCwgU09MQU5BX0VSUk9SX19LRVlTX19JTlZBTElEX0tFWV9QQUlSX0JZVEVfTEVOR1RILCBTT0xBTkFfRVJST1JfX0tFWVNfX1BVQkxJQ19LRVlfTVVTVF9NQVRDSF9QUklWQVRFX0tFWSB9IGZyb20gJ0Bzb2xhbmEvZXJyb3JzJztcbmltcG9ydCB7IGdldEJhc2U1OEVuY29kZXIgfSBmcm9tICdAc29sYW5hL2NvZGVjcy1zdHJpbmdzJztcblxuLy8gc3JjL2tleS1wYWlyLnRzXG5cbi8vIHNyYy9hbGdvcml0aG0udHNcbnZhciBFRDI1NTE5X0FMR09SSVRITV9JREVOVElGSUVSID0gKFxuICAvLyBSZXNpc3QgdGhlIHRlbXB0YXRpb24gdG8gY29udmVydCB0aGlzIHRvIGEgc2ltcGxlIHN0cmluZzsgQXMgb2YgdmVyc2lvbiAxMzMuMC4zLCBGaXJlZm94XG4gIC8vIHJlcXVpcmVzIHRoZSBvYmplY3QgZm9ybSBvZiBgQWxnb3JpdGhtSWRlbnRpZmllcmAgYW5kIHdpbGwgdGhyb3cgYSBgRE9NRXhjZXB0aW9uYCBvdGhlcndpc2UuXG4gIE9iamVjdC5mcmVlemUoeyBuYW1lOiBcIkVkMjU1MTlcIiB9KVxuKTtcbmZ1bmN0aW9uIGFkZFBrY3M4SGVhZGVyKGJ5dGVzKSB7XG4gIHJldHVybiBuZXcgVWludDhBcnJheShbXG4gICAgLyoqXG4gICAgICogUEtDUyM4IGhlYWRlclxuICAgICAqL1xuICAgIDQ4LFxuICAgIC8vIEFTTi4xIHNlcXVlbmNlIHRhZ1xuICAgIDQ2LFxuICAgIC8vIExlbmd0aCBvZiBzZXF1ZW5jZSAoNDYgbW9yZSBieXRlcylcbiAgICAyLFxuICAgIC8vIEFTTi4xIGludGVnZXIgdGFnXG4gICAgMSxcbiAgICAvLyBMZW5ndGggb2YgaW50ZWdlclxuICAgIDAsXG4gICAgLy8gVmVyc2lvbiBudW1iZXJcbiAgICA0OCxcbiAgICAvLyBBU04uMSBzZXF1ZW5jZSB0YWdcbiAgICA1LFxuICAgIC8vIExlbmd0aCBvZiBzZXF1ZW5jZVxuICAgIDYsXG4gICAgLy8gQVNOLjEgb2JqZWN0IGlkZW50aWZpZXIgdGFnXG4gICAgMyxcbiAgICAvLyBMZW5ndGggb2Ygb2JqZWN0IGlkZW50aWZpZXJcbiAgICAvLyBFZHdhcmRzIGN1cnZlIGFsZ29yaXRobXMgaWRlbnRpZmllciBodHRwczovL29pZC1yZXAub3JhbmdlLWxhYnMuZnIvZ2V0LzEuMy4xMDEuMTEyXG4gICAgNDMsXG4gICAgLy8gaXNvKDEpIC8gaWRlbnRpZmllZC1vcmdhbml6YXRpb24oMykgKFRoZSBmaXJzdCBub2RlIGlzIG11bHRpcGxpZWQgYnkgdGhlIGRlY2ltYWwgNDAgYW5kIHRoZSByZXN1bHQgaXMgYWRkZWQgdG8gdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgbm9kZSlcbiAgICAxMDEsXG4gICAgLy8gdGhhd3RlKDEwMSlcbiAgICAvLyBFZDI1NTE5IGlkZW50aWZpZXJcbiAgICAxMTIsXG4gICAgLy8gaWQtRWQyNTUxOSgxMTIpXG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBrZXkgcGF5bG9hZFxuICAgICAqL1xuICAgIDQsXG4gICAgLy8gQVNOLjEgb2N0ZXQgc3RyaW5nIHRhZ1xuICAgIDM0LFxuICAgIC8vIFN0cmluZyBsZW5ndGggKDM0IG1vcmUgYnl0ZXMpXG4gICAgLy8gUHJpdmF0ZSBrZXkgYnl0ZXMgYXMgb2N0ZXQgc3RyaW5nXG4gICAgNCxcbiAgICAvLyBBU04uMSBvY3RldCBzdHJpbmcgdGFnXG4gICAgMzIsXG4gICAgLy8gU3RyaW5nIGxlbmd0aCAoMzIgYnl0ZXMpXG4gICAgLi4uYnl0ZXNcbiAgXSk7XG59XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVQcml2YXRlS2V5RnJvbUJ5dGVzKGJ5dGVzLCBleHRyYWN0YWJsZSkge1xuICBjb25zdCBhY3R1YWxMZW5ndGggPSBieXRlcy5ieXRlTGVuZ3RoO1xuICBpZiAoYWN0dWFsTGVuZ3RoICE9PSAzMikge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0tFWVNfX0lOVkFMSURfUFJJVkFURV9LRVlfQllURV9MRU5HVEgsIHtcbiAgICAgIGFjdHVhbExlbmd0aFxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHByaXZhdGVLZXlCeXRlc1BrY3M4ID0gYWRkUGtjczhIZWFkZXIoYnl0ZXMpO1xuICByZXR1cm4gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgXCJwa2NzOFwiLFxuICAgIHByaXZhdGVLZXlCeXRlc1BrY3M4LFxuICAgIEVEMjU1MTlfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gICAgZXh0cmFjdGFibGUgPz8gZmFsc2UsXG4gICAgW1wic2lnblwiXVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0UHVibGljS2V5RnJvbVByaXZhdGVLZXkocHJpdmF0ZUtleSwgZXh0cmFjdGFibGUgPSBmYWxzZSkge1xuICBhc3NlcnRLZXlFeHBvcnRlcklzQXZhaWxhYmxlKCk7XG4gIGlmIChwcml2YXRlS2V5LmV4dHJhY3RhYmxlID09PSBmYWxzZSkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1NVQlRMRV9DUllQVE9fX0NBTk5PVF9FWFBPUlRfTk9OX0VYVFJBQ1RBQkxFX0tFWSwgeyBrZXk6IHByaXZhdGVLZXkgfSk7XG4gIH1cbiAgY29uc3QgandrID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoXCJqd2tcIiwgcHJpdmF0ZUtleSk7XG4gIHJldHVybiBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICBcImp3a1wiLFxuICAgIHtcbiAgICAgIGNydjogXCJFZDI1NTE5XCIsXG4gICAgICBleHQ6IGV4dHJhY3RhYmxlLFxuICAgICAga2V5X29wczogW1widmVyaWZ5XCJdLFxuICAgICAga3R5OiBcIk9LUFwiLFxuICAgICAgeDogandrLnhcbiAgICB9LFxuICAgIFwiRWQyNTUxOVwiLFxuICAgIGV4dHJhY3RhYmxlLFxuICAgIFtcInZlcmlmeVwiXVxuICApO1xufVxudmFyIGJhc2U1OEVuY29kZXI7XG5mdW5jdGlvbiBhc3NlcnRJc1NpZ25hdHVyZShwdXRhdGl2ZVNpZ25hdHVyZSkge1xuICBpZiAoIWJhc2U1OEVuY29kZXIpIGJhc2U1OEVuY29kZXIgPSBnZXRCYXNlNThFbmNvZGVyKCk7XG4gIGlmIChcbiAgICAvLyBMb3dlc3QgdmFsdWUgKDY0IGJ5dGVzIG9mIHplcm9lcylcbiAgICBwdXRhdGl2ZVNpZ25hdHVyZS5sZW5ndGggPCA2NCB8fCAvLyBIaWdoZXN0IHZhbHVlICg2NCBieXRlcyBvZiAyNTUpXG4gICAgcHV0YXRpdmVTaWduYXR1cmUubGVuZ3RoID4gODhcbiAgKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fS0VZU19fU0lHTkFUVVJFX1NUUklOR19MRU5HVEhfT1VUX09GX1JBTkdFLCB7XG4gICAgICBhY3R1YWxMZW5ndGg6IHB1dGF0aXZlU2lnbmF0dXJlLmxlbmd0aFxuICAgIH0pO1xuICB9XG4gIGNvbnN0IGJ5dGVzID0gYmFzZTU4RW5jb2Rlci5lbmNvZGUocHV0YXRpdmVTaWduYXR1cmUpO1xuICBjb25zdCBudW1CeXRlcyA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gIGlmIChudW1CeXRlcyAhPT0gNjQpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19LRVlTX19JTlZBTElEX1NJR05BVFVSRV9CWVRFX0xFTkdUSCwge1xuICAgICAgYWN0dWFsTGVuZ3RoOiBudW1CeXRlc1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBpc1NpZ25hdHVyZShwdXRhdGl2ZVNpZ25hdHVyZSkge1xuICBpZiAoIWJhc2U1OEVuY29kZXIpIGJhc2U1OEVuY29kZXIgPSBnZXRCYXNlNThFbmNvZGVyKCk7XG4gIGlmIChcbiAgICAvLyBMb3dlc3QgdmFsdWUgKDY0IGJ5dGVzIG9mIHplcm9lcylcbiAgICBwdXRhdGl2ZVNpZ25hdHVyZS5sZW5ndGggPCA2NCB8fCAvLyBIaWdoZXN0IHZhbHVlICg2NCBieXRlcyBvZiAyNTUpXG4gICAgcHV0YXRpdmVTaWduYXR1cmUubGVuZ3RoID4gODhcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGJ5dGVzID0gYmFzZTU4RW5jb2Rlci5lbmNvZGUocHV0YXRpdmVTaWduYXR1cmUpO1xuICBjb25zdCBudW1CeXRlcyA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gIGlmIChudW1CeXRlcyAhPT0gNjQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5hc3luYyBmdW5jdGlvbiBzaWduQnl0ZXMoa2V5LCBkYXRhKSB7XG4gIGFzc2VydFNpZ25pbmdDYXBhYmlsaXR5SXNBdmFpbGFibGUoKTtcbiAgY29uc3Qgc2lnbmVkRGF0YSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuc2lnbihFRDI1NTE5X0FMR09SSVRITV9JREVOVElGSUVSLCBrZXksIGRhdGEpO1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc2lnbmVkRGF0YSk7XG59XG5mdW5jdGlvbiBzaWduYXR1cmUocHV0YXRpdmVTaWduYXR1cmUpIHtcbiAgYXNzZXJ0SXNTaWduYXR1cmUocHV0YXRpdmVTaWduYXR1cmUpO1xuICByZXR1cm4gcHV0YXRpdmVTaWduYXR1cmU7XG59XG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmUoa2V5LCBzaWduYXR1cmUyLCBkYXRhKSB7XG4gIGFzc2VydFZlcmlmaWNhdGlvbkNhcGFiaWxpdHlJc0F2YWlsYWJsZSgpO1xuICByZXR1cm4gYXdhaXQgY3J5cHRvLnN1YnRsZS52ZXJpZnkoRUQyNTUxOV9BTEdPUklUSE1fSURFTlRJRklFUiwga2V5LCBzaWduYXR1cmUyLCBkYXRhKTtcbn1cblxuLy8gc3JjL2tleS1wYWlyLnRzXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUtleVBhaXIoKSB7XG4gIGF3YWl0IGFzc2VydEtleUdlbmVyYXRpb25Jc0F2YWlsYWJsZSgpO1xuICBjb25zdCBrZXlQYWlyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleShcbiAgICAvKiBhbGdvcml0aG0gKi9cbiAgICBFRDI1NTE5X0FMR09SSVRITV9JREVOVElGSUVSLFxuICAgIC8vIE5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBzdGF0dXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL3dlYmNyeXB0by1zZWN1cmUtY3VydmVzL2lzc3Vlcy8yMFxuICAgIC8qIGV4dHJhY3RhYmxlICovXG4gICAgZmFsc2UsXG4gICAgLy8gUHJldmVudHMgdGhlIGJ5dGVzIG9mIHRoZSBwcml2YXRlIGtleSBmcm9tIGJlaW5nIHZpc2libGUgdG8gSlMuXG4gICAgLyogYWxsb3dlZCB1c2VzICovXG4gICAgW1wic2lnblwiLCBcInZlcmlmeVwiXVxuICApO1xuICByZXR1cm4ga2V5UGFpcjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUtleVBhaXJGcm9tQnl0ZXMoYnl0ZXMsIGV4dHJhY3RhYmxlKSB7XG4gIGFzc2VydFBSTkdJc0F2YWlsYWJsZSgpO1xuICBpZiAoYnl0ZXMuYnl0ZUxlbmd0aCAhPT0gNjQpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19LRVlTX19JTlZBTElEX0tFWV9QQUlSX0JZVEVfTEVOR1RILCB7IGJ5dGVMZW5ndGg6IGJ5dGVzLmJ5dGVMZW5ndGggfSk7XG4gIH1cbiAgY29uc3QgW3B1YmxpY0tleSwgcHJpdmF0ZUtleV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICBcInJhd1wiLFxuICAgICAgYnl0ZXMuc2xpY2UoMzIpLFxuICAgICAgRUQyNTUxOV9BTEdPUklUSE1fSURFTlRJRklFUixcbiAgICAgIC8qIGV4dHJhY3RhYmxlICovXG4gICAgICB0cnVlLFxuICAgICAgW1xuICAgICAgICBcInZlcmlmeVwiXG4gICAgICBdXG4gICAgKSxcbiAgICBjcmVhdGVQcml2YXRlS2V5RnJvbUJ5dGVzKGJ5dGVzLnNsaWNlKDAsIDMyKSwgZXh0cmFjdGFibGUpXG4gIF0pO1xuICBjb25zdCByYW5kb21CeXRlcyA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhyYW5kb21CeXRlcyk7XG4gIGNvbnN0IHNpZ25lZERhdGEgPSBhd2FpdCBzaWduQnl0ZXMocHJpdmF0ZUtleSwgcmFuZG9tQnl0ZXMpO1xuICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdmVyaWZ5U2lnbmF0dXJlKHB1YmxpY0tleSwgc2lnbmVkRGF0YSwgcmFuZG9tQnl0ZXMpO1xuICBpZiAoIWlzVmFsaWQpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19LRVlTX19QVUJMSUNfS0VZX01VU1RfTUFUQ0hfUFJJVkFURV9LRVkpO1xuICB9XG4gIHJldHVybiB7IHByaXZhdGVLZXksIHB1YmxpY0tleSB9O1xufVxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlS2V5UGFpckZyb21Qcml2YXRlS2V5Qnl0ZXMoYnl0ZXMsIGV4dHJhY3RhYmxlID0gZmFsc2UpIHtcbiAgY29uc3QgcHJpdmF0ZUtleVByb21pc2UgPSBjcmVhdGVQcml2YXRlS2V5RnJvbUJ5dGVzKGJ5dGVzLCBleHRyYWN0YWJsZSk7XG4gIGNvbnN0IFtwdWJsaWNLZXksIHByaXZhdGVLZXldID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIC8vIFRoaXMgbmVzdGVkIHByb21pc2UgbWFrZXMgdGhpbmdzIGVmZmljaWVudCBieVxuICAgIC8vIGNyZWF0aW5nIHRoZSBwdWJsaWMga2V5IGluIHBhcmFsbGVsIHdpdGggdGhlXG4gICAgLy8gc2Vjb25kIHByaXZhdGUga2V5IGNyZWF0aW9uLCBpZiBpdCBpcyBuZWVkZWQuXG4gICAgKGV4dHJhY3RhYmxlID8gcHJpdmF0ZUtleVByb21pc2UgOiBjcmVhdGVQcml2YXRlS2V5RnJvbUJ5dGVzKFxuICAgICAgYnl0ZXMsXG4gICAgICB0cnVlXG4gICAgICAvKiBleHRyYWN0YWJsZSAqL1xuICAgICkpLnRoZW4oXG4gICAgICBhc3luYyAocHJpdmF0ZUtleTIpID0+IGF3YWl0IGdldFB1YmxpY0tleUZyb21Qcml2YXRlS2V5KFxuICAgICAgICBwcml2YXRlS2V5MixcbiAgICAgICAgdHJ1ZVxuICAgICAgICAvKiBleHRyYWN0YWJsZSAqL1xuICAgICAgKVxuICAgICksXG4gICAgcHJpdmF0ZUtleVByb21pc2VcbiAgXSk7XG4gIHJldHVybiB7IHByaXZhdGVLZXksIHB1YmxpY0tleSB9O1xufVxuXG5leHBvcnQgeyBhc3NlcnRJc1NpZ25hdHVyZSwgY3JlYXRlS2V5UGFpckZyb21CeXRlcywgY3JlYXRlS2V5UGFpckZyb21Qcml2YXRlS2V5Qnl0ZXMsIGNyZWF0ZVByaXZhdGVLZXlGcm9tQnl0ZXMsIGdlbmVyYXRlS2V5UGFpciwgZ2V0UHVibGljS2V5RnJvbVByaXZhdGVLZXksIGlzU2lnbmF0dXJlLCBzaWduQnl0ZXMsIHNpZ25hdHVyZSwgdmVyaWZ5U2lnbmF0dXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLm1qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IHRyYW5zZm9ybUVuY29kZXIsIGFzc2VydElzRml4ZWRTaXplLCBmaXhFbmNvZGVyU2l6ZSwgdHJhbnNmb3JtRGVjb2RlciwgZml4RGVjb2RlclNpemUsIGNvbnRhaW5zQnl0ZXMsIGNvbWJpbmVDb2RlYyB9IGZyb20gJ0Bzb2xhbmEvY29kZWNzLWNvcmUnO1xuaW1wb3J0IHsgZ2V0VW5pdEVuY29kZXIsIGdldEJvb2xlYW5FbmNvZGVyLCBnZXRDb25zdGFudEVuY29kZXIsIGdldFVuaW9uRW5jb2RlciwgZ2V0VHVwbGVFbmNvZGVyLCBnZXRVbml0RGVjb2RlciwgZ2V0Qm9vbGVhbkRlY29kZXIsIGdldENvbnN0YW50RGVjb2RlciwgZ2V0VW5pb25EZWNvZGVyLCBnZXRUdXBsZURlY29kZXIgfSBmcm9tICdAc29sYW5hL2NvZGVjcy1kYXRhLXN0cnVjdHVyZXMnO1xuaW1wb3J0IHsgZ2V0VThFbmNvZGVyLCBnZXRVOERlY29kZXIgfSBmcm9tICdAc29sYW5hL2NvZGVjcy1udW1iZXJzJztcblxuLy8gc3JjL29wdGlvbi50c1xudmFyIHNvbWUgPSAodmFsdWUpID0+ICh7IF9fb3B0aW9uOiBcIlNvbWVcIiwgdmFsdWUgfSk7XG52YXIgbm9uZSA9ICgpID0+ICh7IF9fb3B0aW9uOiBcIk5vbmVcIiB9KTtcbnZhciBpc09wdGlvbiA9IChpbnB1dCkgPT4gISEoaW5wdXQgJiYgdHlwZW9mIGlucHV0ID09PSBcIm9iamVjdFwiICYmIFwiX19vcHRpb25cIiBpbiBpbnB1dCAmJiAoaW5wdXQuX19vcHRpb24gPT09IFwiU29tZVwiICYmIFwidmFsdWVcIiBpbiBpbnB1dCB8fCBpbnB1dC5fX29wdGlvbiA9PT0gXCJOb25lXCIpKTtcbnZhciBpc1NvbWUgPSAob3B0aW9uKSA9PiBvcHRpb24uX19vcHRpb24gPT09IFwiU29tZVwiO1xudmFyIGlzTm9uZSA9IChvcHRpb24pID0+IG9wdGlvbi5fX29wdGlvbiA9PT0gXCJOb25lXCI7XG5cbi8vIHNyYy91bndyYXAtb3B0aW9uLnRzXG5mdW5jdGlvbiB1bndyYXBPcHRpb24ob3B0aW9uLCBmYWxsYmFjaykge1xuICBpZiAoaXNTb21lKG9wdGlvbikpIHJldHVybiBvcHRpb24udmFsdWU7XG4gIHJldHVybiBmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBudWxsO1xufVxudmFyIHdyYXBOdWxsYWJsZSA9IChudWxsYWJsZSkgPT4gbnVsbGFibGUgIT09IG51bGwgPyBzb21lKG51bGxhYmxlKSA6IG5vbmUoKTtcblxuLy8gc3JjL29wdGlvbi1jb2RlYy50c1xuZnVuY3Rpb24gZ2V0T3B0aW9uRW5jb2RlcihpdGVtLCBjb25maWcgPSB7fSkge1xuICBjb25zdCBwcmVmaXggPSAoKCkgPT4ge1xuICAgIGlmIChjb25maWcucHJlZml4ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihnZXRVbml0RW5jb2RlcigpLCAoX2Jvb2xlYW4pID0+IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBnZXRCb29sZWFuRW5jb2Rlcih7IHNpemU6IGNvbmZpZy5wcmVmaXggPz8gZ2V0VThFbmNvZGVyKCkgfSk7XG4gIH0pKCk7XG4gIGNvbnN0IG5vbmVWYWx1ZSA9ICgoKSA9PiB7XG4gICAgaWYgKGNvbmZpZy5ub25lVmFsdWUgPT09IFwiemVyb2VzXCIpIHtcbiAgICAgIGFzc2VydElzRml4ZWRTaXplKGl0ZW0pO1xuICAgICAgcmV0dXJuIGZpeEVuY29kZXJTaXplKGdldFVuaXRFbmNvZGVyKCksIGl0ZW0uZml4ZWRTaXplKTtcbiAgICB9XG4gICAgaWYgKCFjb25maWcubm9uZVZhbHVlKSB7XG4gICAgICByZXR1cm4gZ2V0VW5pdEVuY29kZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldENvbnN0YW50RW5jb2Rlcihjb25maWcubm9uZVZhbHVlKTtcbiAgfSkoKTtcbiAgcmV0dXJuIGdldFVuaW9uRW5jb2RlcihcbiAgICBbXG4gICAgICB0cmFuc2Zvcm1FbmNvZGVyKGdldFR1cGxlRW5jb2RlcihbcHJlZml4LCBub25lVmFsdWVdKSwgKF92YWx1ZSkgPT4gW1xuICAgICAgICBmYWxzZSxcbiAgICAgICAgdW5kZWZpbmVkXG4gICAgICBdKSxcbiAgICAgIHRyYW5zZm9ybUVuY29kZXIoZ2V0VHVwbGVFbmNvZGVyKFtwcmVmaXgsIGl0ZW1dKSwgKHZhbHVlKSA9PiBbXG4gICAgICAgIHRydWUsXG4gICAgICAgIGlzT3B0aW9uKHZhbHVlKSAmJiBpc1NvbWUodmFsdWUpID8gdmFsdWUudmFsdWUgOiB2YWx1ZVxuICAgICAgXSlcbiAgICBdLFxuICAgICh2YXJpYW50KSA9PiB7XG4gICAgICBjb25zdCBvcHRpb24gPSBpc09wdGlvbih2YXJpYW50KSA/IHZhcmlhbnQgOiB3cmFwTnVsbGFibGUodmFyaWFudCk7XG4gICAgICByZXR1cm4gTnVtYmVyKGlzU29tZShvcHRpb24pKTtcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBnZXRPcHRpb25EZWNvZGVyKGl0ZW0sIGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IHByZWZpeCA9ICgoKSA9PiB7XG4gICAgaWYgKGNvbmZpZy5wcmVmaXggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1EZWNvZGVyKGdldFVuaXREZWNvZGVyKCksICgpID0+IGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEJvb2xlYW5EZWNvZGVyKHsgc2l6ZTogY29uZmlnLnByZWZpeCA/PyBnZXRVOERlY29kZXIoKSB9KTtcbiAgfSkoKTtcbiAgY29uc3Qgbm9uZVZhbHVlID0gKCgpID0+IHtcbiAgICBpZiAoY29uZmlnLm5vbmVWYWx1ZSA9PT0gXCJ6ZXJvZXNcIikge1xuICAgICAgYXNzZXJ0SXNGaXhlZFNpemUoaXRlbSk7XG4gICAgICByZXR1cm4gZml4RGVjb2RlclNpemUoZ2V0VW5pdERlY29kZXIoKSwgaXRlbS5maXhlZFNpemUpO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5ub25lVmFsdWUpIHtcbiAgICAgIHJldHVybiBnZXRVbml0RGVjb2RlcigpO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Q29uc3RhbnREZWNvZGVyKGNvbmZpZy5ub25lVmFsdWUpO1xuICB9KSgpO1xuICByZXR1cm4gZ2V0VW5pb25EZWNvZGVyKFxuICAgIFtcbiAgICAgIHRyYW5zZm9ybURlY29kZXIoZ2V0VHVwbGVEZWNvZGVyKFtwcmVmaXgsIG5vbmVWYWx1ZV0pLCAoKSA9PiBub25lKCkpLFxuICAgICAgdHJhbnNmb3JtRGVjb2RlcihnZXRUdXBsZURlY29kZXIoW3ByZWZpeCwgaXRlbV0pLCAoWywgdmFsdWVdKSA9PiBzb21lKHZhbHVlKSlcbiAgICBdLFxuICAgIChieXRlcywgb2Zmc2V0KSA9PiB7XG4gICAgICBpZiAoY29uZmlnLnByZWZpeCA9PT0gbnVsbCAmJiAhY29uZmlnLm5vbmVWYWx1ZSkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKG9mZnNldCA8IGJ5dGVzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnByZWZpeCA9PT0gbnVsbCAmJiBjb25maWcubm9uZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgemVyb1ZhbHVlID0gY29uZmlnLm5vbmVWYWx1ZSA9PT0gXCJ6ZXJvZXNcIiA/IG5ldyBVaW50OEFycmF5KG5vbmVWYWx1ZS5maXhlZFNpemUpLmZpbGwoMCkgOiBjb25maWcubm9uZVZhbHVlO1xuICAgICAgICByZXR1cm4gY29udGFpbnNCeXRlcyhieXRlcywgemVyb1ZhbHVlLCBvZmZzZXQpID8gMCA6IDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gTnVtYmVyKHByZWZpeC5yZWFkKGJ5dGVzLCBvZmZzZXQpWzBdKTtcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBnZXRPcHRpb25Db2RlYyhpdGVtLCBjb25maWcgPSB7fSkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKFxuICAgIGdldE9wdGlvbkVuY29kZXIoaXRlbSwgY29uZmlnKSxcbiAgICBnZXRPcHRpb25EZWNvZGVyKGl0ZW0sIGNvbmZpZylcbiAgKTtcbn1cblxuLy8gc3JjL3Vud3JhcC1vcHRpb24tcmVjdXJzaXZlbHkudHNcbmZ1bmN0aW9uIHVud3JhcE9wdGlvblJlY3Vyc2l2ZWx5KGlucHV0LCBmYWxsYmFjaykge1xuICBpZiAoIWlucHV0IHx8IEFycmF5QnVmZmVyLmlzVmlldyhpbnB1dCkpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cbiAgY29uc3QgbmV4dCA9ICh4KSA9PiBmYWxsYmFjayA/IHVud3JhcE9wdGlvblJlY3Vyc2l2ZWx5KHgsIGZhbGxiYWNrKSA6IHVud3JhcE9wdGlvblJlY3Vyc2l2ZWx5KHgpO1xuICBpZiAoaXNPcHRpb24oaW5wdXQpKSB7XG4gICAgaWYgKGlzU29tZShpbnB1dCkpIHJldHVybiBuZXh0KGlucHV0LnZhbHVlKTtcbiAgICByZXR1cm4gZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogbnVsbDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICByZXR1cm4gaW5wdXQubWFwKG5leHQpO1xuICB9XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGlucHV0KS5tYXAoKFtrLCB2XSkgPT4gW2ssIG5leHQodildKSk7XG4gIH1cbiAgcmV0dXJuIGlucHV0O1xufVxuXG5leHBvcnQgeyBnZXRPcHRpb25Db2RlYywgZ2V0T3B0aW9uRGVjb2RlciwgZ2V0T3B0aW9uRW5jb2RlciwgaXNOb25lLCBpc09wdGlvbiwgaXNTb21lLCBub25lLCBzb21lLCB1bndyYXBPcHRpb24sIHVud3JhcE9wdGlvblJlY3Vyc2l2ZWx5LCB3cmFwTnVsbGFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIubWpzLm1hcFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguYnJvd3Nlci5tanMubWFwIiwiaW1wb3J0IHsgaXNTb2xhbmFFcnJvciwgU09MQU5BX0VSUk9SX19JTlNUUlVDVElPTl9FUlJPUl9fQ1VTVE9NIH0gZnJvbSAnQHNvbGFuYS9lcnJvcnMnO1xuXG4vLyBzcmMvcHJvZ3JhbS1lcnJvci50c1xuZnVuY3Rpb24gaXNQcm9ncmFtRXJyb3IoZXJyb3IsIHRyYW5zYWN0aW9uTWVzc2FnZSwgcHJvZ3JhbUFkZHJlc3MsIGNvZGUpIHtcbiAgaWYgKCFpc1NvbGFuYUVycm9yKGVycm9yLCBTT0xBTkFfRVJST1JfX0lOU1RSVUNUSU9OX0VSUk9SX19DVVNUT00pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGluc3RydWN0aW9uUHJvZ3JhbUFkZHJlc3MgPSB0cmFuc2FjdGlvbk1lc3NhZ2UuaW5zdHJ1Y3Rpb25zW2Vycm9yLmNvbnRleHQuaW5kZXhdPy5wcm9ncmFtQWRkcmVzcztcbiAgaWYgKCFpbnN0cnVjdGlvblByb2dyYW1BZGRyZXNzIHx8IGluc3RydWN0aW9uUHJvZ3JhbUFkZHJlc3MgIT09IHByb2dyYW1BZGRyZXNzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgY29kZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBlcnJvci5jb250ZXh0LmNvZGUgPT09IGNvZGU7XG59XG5cbmV4cG9ydCB7IGlzUHJvZ3JhbUVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLm1qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IFNvbGFuYUVycm9yLCBTT0xBTkFfRVJST1JfX1NJR05FUl9fRVhQRUNURURfVFJBTlNBQ1RJT05fTU9ESUZZSU5HX1NJR05FUiwgU09MQU5BX0VSUk9SX19TSUdORVJfX0VYUEVDVEVEX1RSQU5TQUNUSU9OX1BBUlRJQUxfU0lHTkVSLCBTT0xBTkFfRVJST1JfX1NJR05FUl9fRVhQRUNURURfVFJBTlNBQ1RJT05fU0VORElOR19TSUdORVIsIFNPTEFOQV9FUlJPUl9fU0lHTkVSX19FWFBFQ1RFRF9UUkFOU0FDVElPTl9TSUdORVIsIFNPTEFOQV9FUlJPUl9fU0lHTkVSX19FWFBFQ1RFRF9NRVNTQUdFX1BBUlRJQUxfU0lHTkVSLCBTT0xBTkFfRVJST1JfX1NJR05FUl9fRVhQRUNURURfS0VZX1BBSVJfU0lHTkVSLCBTT0xBTkFfRVJST1JfX1NJR05FUl9fRVhQRUNURURfTUVTU0FHRV9NT0RJRllJTkdfU0lHTkVSLCBTT0xBTkFfRVJST1JfX1NJR05FUl9fRVhQRUNURURfTUVTU0FHRV9TSUdORVIsIFNPTEFOQV9FUlJPUl9fU0lHTkVSX19UUkFOU0FDVElPTl9TRU5ESU5HX1NJR05FUl9NSVNTSU5HLCBTT0xBTkFfRVJST1JfX1NJR05FUl9fVFJBTlNBQ1RJT05fQ0FOTk9UX0hBVkVfTVVMVElQTEVfU0VORElOR19TSUdORVJTLCBTT0xBTkFfRVJST1JfX1NJR05FUl9fQUREUkVTU19DQU5OT1RfSEFWRV9NVUxUSVBMRV9TSUdORVJTIH0gZnJvbSAnQHNvbGFuYS9lcnJvcnMnO1xuaW1wb3J0IHsgaXNTaWduZXJSb2xlIH0gZnJvbSAnQHNvbGFuYS9pbnN0cnVjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0QWRkcmVzc0Zyb21QdWJsaWNLZXksIGlzQWRkcmVzcyB9IGZyb20gJ0Bzb2xhbmEvYWRkcmVzc2VzJztcbmltcG9ydCB7IGdlbmVyYXRlS2V5UGFpciwgY3JlYXRlS2V5UGFpckZyb21CeXRlcywgY3JlYXRlS2V5UGFpckZyb21Qcml2YXRlS2V5Qnl0ZXMsIHNpZ25CeXRlcyB9IGZyb20gJ0Bzb2xhbmEva2V5cyc7XG5pbXBvcnQgeyBhc3NlcnRUcmFuc2FjdGlvbklzRnVsbHlTaWduZWQsIGNvbXBpbGVUcmFuc2FjdGlvbiwgcGFydGlhbGx5U2lnblRyYW5zYWN0aW9uIH0gZnJvbSAnQHNvbGFuYS90cmFuc2FjdGlvbnMnO1xuXG4vLyBzcmMvZGVkdXBsaWNhdGUtc2lnbmVycy50c1xuZnVuY3Rpb24gZGVkdXBsaWNhdGVTaWduZXJzKHNpZ25lcnMpIHtcbiAgY29uc3QgZGVkdXBsaWNhdGVkID0ge307XG4gIHNpZ25lcnMuZm9yRWFjaCgoc2lnbmVyKSA9PiB7XG4gICAgaWYgKCFkZWR1cGxpY2F0ZWRbc2lnbmVyLmFkZHJlc3NdKSB7XG4gICAgICBkZWR1cGxpY2F0ZWRbc2lnbmVyLmFkZHJlc3NdID0gc2lnbmVyO1xuICAgIH0gZWxzZSBpZiAoZGVkdXBsaWNhdGVkW3NpZ25lci5hZGRyZXNzXSAhPT0gc2lnbmVyKSB7XG4gICAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19TSUdORVJfX0FERFJFU1NfQ0FOTk9UX0hBVkVfTVVMVElQTEVfU0lHTkVSUywge1xuICAgICAgICBhZGRyZXNzOiBzaWduZXIuYWRkcmVzc1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZGVkdXBsaWNhdGVkKTtcbn1cbmZ1bmN0aW9uIGlzVHJhbnNhY3Rpb25Nb2RpZnlpbmdTaWduZXIodmFsdWUpIHtcbiAgcmV0dXJuIFwibW9kaWZ5QW5kU2lnblRyYW5zYWN0aW9uc1wiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5tb2RpZnlBbmRTaWduVHJhbnNhY3Rpb25zID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBhc3NlcnRJc1RyYW5zYWN0aW9uTW9kaWZ5aW5nU2lnbmVyKHZhbHVlKSB7XG4gIGlmICghaXNUcmFuc2FjdGlvbk1vZGlmeWluZ1NpZ25lcih2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19TSUdORVJfX0VYUEVDVEVEX1RSQU5TQUNUSU9OX01PRElGWUlOR19TSUdORVIsIHtcbiAgICAgIGFkZHJlc3M6IHZhbHVlLmFkZHJlc3NcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gaXNUcmFuc2FjdGlvblBhcnRpYWxTaWduZXIodmFsdWUpIHtcbiAgcmV0dXJuIFwic2lnblRyYW5zYWN0aW9uc1wiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zaWduVHJhbnNhY3Rpb25zID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBhc3NlcnRJc1RyYW5zYWN0aW9uUGFydGlhbFNpZ25lcih2YWx1ZSkge1xuICBpZiAoIWlzVHJhbnNhY3Rpb25QYXJ0aWFsU2lnbmVyKHZhbHVlKSkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1NJR05FUl9fRVhQRUNURURfVFJBTlNBQ1RJT05fUEFSVElBTF9TSUdORVIsIHtcbiAgICAgIGFkZHJlc3M6IHZhbHVlLmFkZHJlc3NcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gaXNUcmFuc2FjdGlvblNlbmRpbmdTaWduZXIodmFsdWUpIHtcbiAgcmV0dXJuIFwic2lnbkFuZFNlbmRUcmFuc2FjdGlvbnNcIiBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2lnbkFuZFNlbmRUcmFuc2FjdGlvbnMgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGFzc2VydElzVHJhbnNhY3Rpb25TZW5kaW5nU2lnbmVyKHZhbHVlKSB7XG4gIGlmICghaXNUcmFuc2FjdGlvblNlbmRpbmdTaWduZXIodmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fU0lHTkVSX19FWFBFQ1RFRF9UUkFOU0FDVElPTl9TRU5ESU5HX1NJR05FUiwge1xuICAgICAgYWRkcmVzczogdmFsdWUuYWRkcmVzc1xuICAgIH0pO1xuICB9XG59XG5cbi8vIHNyYy90cmFuc2FjdGlvbi1zaWduZXIudHNcbmZ1bmN0aW9uIGlzVHJhbnNhY3Rpb25TaWduZXIodmFsdWUpIHtcbiAgcmV0dXJuIGlzVHJhbnNhY3Rpb25QYXJ0aWFsU2lnbmVyKHZhbHVlKSB8fCBpc1RyYW5zYWN0aW9uTW9kaWZ5aW5nU2lnbmVyKHZhbHVlKSB8fCBpc1RyYW5zYWN0aW9uU2VuZGluZ1NpZ25lcih2YWx1ZSk7XG59XG5mdW5jdGlvbiBhc3NlcnRJc1RyYW5zYWN0aW9uU2lnbmVyKHZhbHVlKSB7XG4gIGlmICghaXNUcmFuc2FjdGlvblNpZ25lcih2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19TSUdORVJfX0VYUEVDVEVEX1RSQU5TQUNUSU9OX1NJR05FUiwge1xuICAgICAgYWRkcmVzczogdmFsdWUuYWRkcmVzc1xuICAgIH0pO1xuICB9XG59XG5cbi8vIHNyYy9hY2NvdW50LXNpZ25lci1tZXRhLnRzXG5mdW5jdGlvbiBnZXRTaWduZXJzRnJvbUluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIHJldHVybiBkZWR1cGxpY2F0ZVNpZ25lcnMoXG4gICAgKGluc3RydWN0aW9uLmFjY291bnRzID8/IFtdKS5mbGF0TWFwKChhY2NvdW50KSA9PiBcInNpZ25lclwiIGluIGFjY291bnQgPyBhY2NvdW50LnNpZ25lciA6IFtdKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0U2lnbmVyc0Zyb21UcmFuc2FjdGlvbk1lc3NhZ2UodHJhbnNhY3Rpb24pIHtcbiAgcmV0dXJuIGRlZHVwbGljYXRlU2lnbmVycyhbXG4gICAgLi4udHJhbnNhY3Rpb24uZmVlUGF5ZXIgJiYgaXNUcmFuc2FjdGlvblNpZ25lcih0cmFuc2FjdGlvbi5mZWVQYXllcikgPyBbdHJhbnNhY3Rpb24uZmVlUGF5ZXJdIDogW10sXG4gICAgLi4udHJhbnNhY3Rpb24uaW5zdHJ1Y3Rpb25zLmZsYXRNYXAoZ2V0U2lnbmVyc0Zyb21JbnN0cnVjdGlvbilcbiAgXSk7XG59XG5mdW5jdGlvbiBhZGRTaWduZXJzVG9JbnN0cnVjdGlvbihzaWduZXJzLCBpbnN0cnVjdGlvbikge1xuICBpZiAoIWluc3RydWN0aW9uLmFjY291bnRzIHx8IGluc3RydWN0aW9uLmFjY291bnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBpbnN0cnVjdGlvbjtcbiAgfVxuICBjb25zdCBzaWduZXJCeUFkZHJlc3MgPSBuZXcgTWFwKGRlZHVwbGljYXRlU2lnbmVycyhzaWduZXJzKS5tYXAoKHNpZ25lcikgPT4gW3NpZ25lci5hZGRyZXNzLCBzaWduZXJdKSk7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAuLi5pbnN0cnVjdGlvbixcbiAgICBhY2NvdW50czogaW5zdHJ1Y3Rpb24uYWNjb3VudHMubWFwKChhY2NvdW50KSA9PiB7XG4gICAgICBjb25zdCBzaWduZXIgPSBzaWduZXJCeUFkZHJlc3MuZ2V0KGFjY291bnQuYWRkcmVzcyk7XG4gICAgICBpZiAoIWlzU2lnbmVyUm9sZShhY2NvdW50LnJvbGUpIHx8IFwic2lnbmVyXCIgaW4gYWNjb3VudCB8fCAhc2lnbmVyKSB7XG4gICAgICAgIHJldHVybiBhY2NvdW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyAuLi5hY2NvdW50LCBzaWduZXIgfSk7XG4gICAgfSlcbiAgfSk7XG59XG5mdW5jdGlvbiBhZGRTaWduZXJzVG9UcmFuc2FjdGlvbk1lc3NhZ2Uoc2lnbmVycywgdHJhbnNhY3Rpb25NZXNzYWdlKSB7XG4gIGNvbnN0IGZlZVBheWVyU2lnbmVyID0gaGFzQWRkcmVzc09ubHlGZWVQYXllcih0cmFuc2FjdGlvbk1lc3NhZ2UpID8gc2lnbmVycy5maW5kKChzaWduZXIpID0+IHNpZ25lci5hZGRyZXNzID09PSB0cmFuc2FjdGlvbk1lc3NhZ2UuZmVlUGF5ZXIuYWRkcmVzcykgOiB1bmRlZmluZWQ7XG4gIGlmICghZmVlUGF5ZXJTaWduZXIgJiYgdHJhbnNhY3Rpb25NZXNzYWdlLmluc3RydWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25NZXNzYWdlO1xuICB9XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAuLi50cmFuc2FjdGlvbk1lc3NhZ2UsXG4gICAgLi4uZmVlUGF5ZXJTaWduZXIgPyB7IGZlZVBheWVyOiBmZWVQYXllclNpZ25lciB9IDogbnVsbCxcbiAgICBpbnN0cnVjdGlvbnM6IHRyYW5zYWN0aW9uTWVzc2FnZS5pbnN0cnVjdGlvbnMubWFwKChpbnN0cnVjdGlvbikgPT4gYWRkU2lnbmVyc1RvSW5zdHJ1Y3Rpb24oc2lnbmVycywgaW5zdHJ1Y3Rpb24pKVxuICB9KTtcbn1cbmZ1bmN0aW9uIGhhc0FkZHJlc3NPbmx5RmVlUGF5ZXIobWVzc2FnZSkge1xuICByZXR1cm4gISFtZXNzYWdlICYmIFwiZmVlUGF5ZXJcIiBpbiBtZXNzYWdlICYmICEhbWVzc2FnZS5mZWVQYXllciAmJiB0eXBlb2YgbWVzc2FnZS5mZWVQYXllci5hZGRyZXNzID09PSBcInN0cmluZ1wiICYmICFpc1RyYW5zYWN0aW9uU2lnbmVyKG1lc3NhZ2UuZmVlUGF5ZXIpO1xufVxuXG4vLyBzcmMvZmVlLXBheWVyLXNpZ25lci50c1xuZnVuY3Rpb24gc2V0VHJhbnNhY3Rpb25NZXNzYWdlRmVlUGF5ZXJTaWduZXIoZmVlUGF5ZXIsIHRyYW5zYWN0aW9uTWVzc2FnZSkge1xuICBPYmplY3QuZnJlZXplKGZlZVBheWVyKTtcbiAgY29uc3Qgb3V0ID0geyAuLi50cmFuc2FjdGlvbk1lc3NhZ2UsIGZlZVBheWVyIH07XG4gIE9iamVjdC5mcmVlemUob3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIGlzTWVzc2FnZVBhcnRpYWxTaWduZXIodmFsdWUpIHtcbiAgcmV0dXJuIFwic2lnbk1lc3NhZ2VzXCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnNpZ25NZXNzYWdlcyA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gYXNzZXJ0SXNNZXNzYWdlUGFydGlhbFNpZ25lcih2YWx1ZSkge1xuICBpZiAoIWlzTWVzc2FnZVBhcnRpYWxTaWduZXIodmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fU0lHTkVSX19FWFBFQ1RFRF9NRVNTQUdFX1BBUlRJQUxfU0lHTkVSLCB7XG4gICAgICBhZGRyZXNzOiB2YWx1ZS5hZGRyZXNzXG4gICAgfSk7XG4gIH1cbn1cblxuLy8gc3JjL2tleXBhaXItc2lnbmVyLnRzXG5mdW5jdGlvbiBpc0tleVBhaXJTaWduZXIodmFsdWUpIHtcbiAgcmV0dXJuIFwia2V5UGFpclwiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5rZXlQYWlyID09PSBcIm9iamVjdFwiICYmIGlzTWVzc2FnZVBhcnRpYWxTaWduZXIodmFsdWUpICYmIGlzVHJhbnNhY3Rpb25QYXJ0aWFsU2lnbmVyKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGFzc2VydElzS2V5UGFpclNpZ25lcih2YWx1ZSkge1xuICBpZiAoIWlzS2V5UGFpclNpZ25lcih2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19TSUdORVJfX0VYUEVDVEVEX0tFWV9QQUlSX1NJR05FUiwge1xuICAgICAgYWRkcmVzczogdmFsdWUuYWRkcmVzc1xuICAgIH0pO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTaWduZXJGcm9tS2V5UGFpcihrZXlQYWlyKSB7XG4gIGNvbnN0IGFkZHJlc3MgPSBhd2FpdCBnZXRBZGRyZXNzRnJvbVB1YmxpY0tleShrZXlQYWlyLnB1YmxpY0tleSk7XG4gIGNvbnN0IG91dCA9IHtcbiAgICBhZGRyZXNzLFxuICAgIGtleVBhaXIsXG4gICAgc2lnbk1lc3NhZ2VzOiAobWVzc2FnZXMpID0+IFByb21pc2UuYWxsKFxuICAgICAgbWVzc2FnZXMubWFwKFxuICAgICAgICBhc3luYyAobWVzc2FnZSkgPT4gT2JqZWN0LmZyZWV6ZSh7IFthZGRyZXNzXTogYXdhaXQgc2lnbkJ5dGVzKGtleVBhaXIucHJpdmF0ZUtleSwgbWVzc2FnZS5jb250ZW50KSB9KVxuICAgICAgKVxuICAgICksXG4gICAgc2lnblRyYW5zYWN0aW9uczogKHRyYW5zYWN0aW9ucykgPT4gUHJvbWlzZS5hbGwoXG4gICAgICB0cmFuc2FjdGlvbnMubWFwKGFzeW5jICh0cmFuc2FjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzaWduZWRUcmFuc2FjdGlvbiA9IGF3YWl0IHBhcnRpYWxseVNpZ25UcmFuc2FjdGlvbihba2V5UGFpcl0sIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyBbYWRkcmVzc106IHNpZ25lZFRyYW5zYWN0aW9uLnNpZ25hdHVyZXNbYWRkcmVzc10gfSk7XG4gICAgICB9KVxuICAgIClcbiAgfTtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUob3V0KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlS2V5UGFpclNpZ25lcigpIHtcbiAgcmV0dXJuIGF3YWl0IGNyZWF0ZVNpZ25lckZyb21LZXlQYWlyKGF3YWl0IGdlbmVyYXRlS2V5UGFpcigpKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUtleVBhaXJTaWduZXJGcm9tQnl0ZXMoYnl0ZXMsIGV4dHJhY3RhYmxlKSB7XG4gIHJldHVybiBhd2FpdCBjcmVhdGVTaWduZXJGcm9tS2V5UGFpcihhd2FpdCBjcmVhdGVLZXlQYWlyRnJvbUJ5dGVzKGJ5dGVzLCBleHRyYWN0YWJsZSkpO1xufVxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlS2V5UGFpclNpZ25lckZyb21Qcml2YXRlS2V5Qnl0ZXMoYnl0ZXMsIGV4dHJhY3RhYmxlKSB7XG4gIHJldHVybiBhd2FpdCBjcmVhdGVTaWduZXJGcm9tS2V5UGFpcihhd2FpdCBjcmVhdGVLZXlQYWlyRnJvbVByaXZhdGVLZXlCeXRlcyhieXRlcywgZXh0cmFjdGFibGUpKTtcbn1cbmZ1bmN0aW9uIGlzTWVzc2FnZU1vZGlmeWluZ1NpZ25lcih2YWx1ZSkge1xuICByZXR1cm4gaXNBZGRyZXNzKHZhbHVlLmFkZHJlc3MpICYmIFwibW9kaWZ5QW5kU2lnbk1lc3NhZ2VzXCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm1vZGlmeUFuZFNpZ25NZXNzYWdlcyA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gYXNzZXJ0SXNNZXNzYWdlTW9kaWZ5aW5nU2lnbmVyKHZhbHVlKSB7XG4gIGlmICghaXNNZXNzYWdlTW9kaWZ5aW5nU2lnbmVyKHZhbHVlKSkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1NJR05FUl9fRVhQRUNURURfTUVTU0FHRV9NT0RJRllJTkdfU0lHTkVSLCB7XG4gICAgICBhZGRyZXNzOiB2YWx1ZS5hZGRyZXNzXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzTWVzc2FnZVNpZ25lcih2YWx1ZSkge1xuICByZXR1cm4gaXNNZXNzYWdlUGFydGlhbFNpZ25lcih2YWx1ZSkgfHwgaXNNZXNzYWdlTW9kaWZ5aW5nU2lnbmVyKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGFzc2VydElzTWVzc2FnZVNpZ25lcih2YWx1ZSkge1xuICBpZiAoIWlzTWVzc2FnZVNpZ25lcih2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19TSUdORVJfX0VYUEVDVEVEX01FU1NBR0VfU0lHTkVSLCB7XG4gICAgICBhZGRyZXNzOiB2YWx1ZS5hZGRyZXNzXG4gICAgfSk7XG4gIH1cbn1cblxuLy8gc3JjL25vb3Atc2lnbmVyLnRzXG5mdW5jdGlvbiBjcmVhdGVOb29wU2lnbmVyKGFkZHJlc3MpIHtcbiAgY29uc3Qgb3V0ID0ge1xuICAgIGFkZHJlc3MsXG4gICAgc2lnbk1lc3NhZ2VzOiAobWVzc2FnZXMpID0+IFByb21pc2UucmVzb2x2ZShtZXNzYWdlcy5tYXAoKCkgPT4gT2JqZWN0LmZyZWV6ZSh7fSkpKSxcbiAgICBzaWduVHJhbnNhY3Rpb25zOiAodHJhbnNhY3Rpb25zKSA9PiBQcm9taXNlLnJlc29sdmUodHJhbnNhY3Rpb25zLm1hcCgoKSA9PiBPYmplY3QuZnJlZXplKHt9KSkpXG4gIH07XG4gIHJldHVybiBPYmplY3QuZnJlZXplKG91dCk7XG59XG5mdW5jdGlvbiBpc1RyYW5zYWN0aW9uTWVzc2FnZVdpdGhTaW5nbGVTZW5kaW5nU2lnbmVyKHRyYW5zYWN0aW9uKSB7XG4gIHRyeSB7XG4gICAgYXNzZXJ0SXNUcmFuc2FjdGlvbk1lc3NhZ2VXaXRoU2luZ2xlU2VuZGluZ1NpZ25lcih0cmFuc2FjdGlvbik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0SXNUcmFuc2FjdGlvbk1lc3NhZ2VXaXRoU2luZ2xlU2VuZGluZ1NpZ25lcih0cmFuc2FjdGlvbikge1xuICBjb25zdCBzaWduZXJzID0gZ2V0U2lnbmVyc0Zyb21UcmFuc2FjdGlvbk1lc3NhZ2UodHJhbnNhY3Rpb24pO1xuICBjb25zdCBzZW5kaW5nU2lnbmVycyA9IHNpZ25lcnMuZmlsdGVyKGlzVHJhbnNhY3Rpb25TZW5kaW5nU2lnbmVyKTtcbiAgaWYgKHNlbmRpbmdTaWduZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1NJR05FUl9fVFJBTlNBQ1RJT05fU0VORElOR19TSUdORVJfTUlTU0lORyk7XG4gIH1cbiAgY29uc3Qgc2VuZGluZ09ubHlTaWduZXJzID0gc2VuZGluZ1NpZ25lcnMuZmlsdGVyKFxuICAgIChzaWduZXIpID0+ICFpc1RyYW5zYWN0aW9uUGFydGlhbFNpZ25lcihzaWduZXIpICYmICFpc1RyYW5zYWN0aW9uTW9kaWZ5aW5nU2lnbmVyKHNpZ25lcilcbiAgKTtcbiAgaWYgKHNlbmRpbmdPbmx5U2lnbmVycy5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fU0lHTkVSX19UUkFOU0FDVElPTl9DQU5OT1RfSEFWRV9NVUxUSVBMRV9TRU5ESU5HX1NJR05FUlMpO1xuICB9XG59XG5cbi8vIHNyYy9zaWduLXRyYW5zYWN0aW9uLnRzXG5hc3luYyBmdW5jdGlvbiBwYXJ0aWFsbHlTaWduVHJhbnNhY3Rpb25NZXNzYWdlV2l0aFNpZ25lcnModHJhbnNhY3Rpb25NZXNzYWdlLCBjb25maWcpIHtcbiAgY29uc3QgeyBwYXJ0aWFsU2lnbmVycywgbW9kaWZ5aW5nU2lnbmVycyB9ID0gY2F0ZWdvcml6ZVRyYW5zYWN0aW9uU2lnbmVycyhcbiAgICBkZWR1cGxpY2F0ZVNpZ25lcnMoZ2V0U2lnbmVyc0Zyb21UcmFuc2FjdGlvbk1lc3NhZ2UodHJhbnNhY3Rpb25NZXNzYWdlKS5maWx0ZXIoaXNUcmFuc2FjdGlvblNpZ25lcikpLFxuICAgIHsgaWRlbnRpZnlTZW5kaW5nU2lnbmVyOiBmYWxzZSB9XG4gICk7XG4gIHJldHVybiBhd2FpdCBzaWduTW9kaWZ5aW5nQW5kUGFydGlhbFRyYW5zYWN0aW9uU2lnbmVycyhcbiAgICB0cmFuc2FjdGlvbk1lc3NhZ2UsXG4gICAgbW9kaWZ5aW5nU2lnbmVycyxcbiAgICBwYXJ0aWFsU2lnbmVycyxcbiAgICBjb25maWdcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpZ25UcmFuc2FjdGlvbk1lc3NhZ2VXaXRoU2lnbmVycyh0cmFuc2FjdGlvbk1lc3NhZ2UsIGNvbmZpZykge1xuICBjb25zdCBzaWduZWRUcmFuc2FjdGlvbiA9IGF3YWl0IHBhcnRpYWxseVNpZ25UcmFuc2FjdGlvbk1lc3NhZ2VXaXRoU2lnbmVycyh0cmFuc2FjdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XG4gIGFzc2VydFRyYW5zYWN0aW9uSXNGdWxseVNpZ25lZChzaWduZWRUcmFuc2FjdGlvbik7XG4gIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbjtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb25NZXNzYWdlV2l0aFNpZ25lcnModHJhbnNhY3Rpb24sIGNvbmZpZykge1xuICBhc3NlcnRJc1RyYW5zYWN0aW9uTWVzc2FnZVdpdGhTaW5nbGVTZW5kaW5nU2lnbmVyKHRyYW5zYWN0aW9uKTtcbiAgY29uc3QgYWJvcnRTaWduYWwgPSBjb25maWc/LmFib3J0U2lnbmFsO1xuICBjb25zdCB7IHBhcnRpYWxTaWduZXJzLCBtb2RpZnlpbmdTaWduZXJzLCBzZW5kaW5nU2lnbmVyIH0gPSBjYXRlZ29yaXplVHJhbnNhY3Rpb25TaWduZXJzKFxuICAgIGRlZHVwbGljYXRlU2lnbmVycyhnZXRTaWduZXJzRnJvbVRyYW5zYWN0aW9uTWVzc2FnZSh0cmFuc2FjdGlvbikuZmlsdGVyKGlzVHJhbnNhY3Rpb25TaWduZXIpKVxuICApO1xuICBhYm9ydFNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcbiAgY29uc3Qgc2lnbmVkVHJhbnNhY3Rpb24gPSBhd2FpdCBzaWduTW9kaWZ5aW5nQW5kUGFydGlhbFRyYW5zYWN0aW9uU2lnbmVycyhcbiAgICB0cmFuc2FjdGlvbixcbiAgICBtb2RpZnlpbmdTaWduZXJzLFxuICAgIHBhcnRpYWxTaWduZXJzLFxuICAgIGNvbmZpZ1xuICApO1xuICBpZiAoIXNlbmRpbmdTaWduZXIpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19TSUdORVJfX1RSQU5TQUNUSU9OX1NFTkRJTkdfU0lHTkVSX01JU1NJTkcpO1xuICB9XG4gIGFib3J0U2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuICBjb25zdCBbc2lnbmF0dXJlXSA9IGF3YWl0IHNlbmRpbmdTaWduZXIuc2lnbkFuZFNlbmRUcmFuc2FjdGlvbnMoW3NpZ25lZFRyYW5zYWN0aW9uXSwgY29uZmlnKTtcbiAgYWJvcnRTaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG4gIHJldHVybiBzaWduYXR1cmU7XG59XG5mdW5jdGlvbiBjYXRlZ29yaXplVHJhbnNhY3Rpb25TaWduZXJzKHNpZ25lcnMsIGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IGlkZW50aWZ5U2VuZGluZ1NpZ25lciA9IGNvbmZpZy5pZGVudGlmeVNlbmRpbmdTaWduZXIgPz8gdHJ1ZTtcbiAgY29uc3Qgc2VuZGluZ1NpZ25lciA9IGlkZW50aWZ5U2VuZGluZ1NpZ25lciA/IGlkZW50aWZ5VHJhbnNhY3Rpb25TZW5kaW5nU2lnbmVyKHNpZ25lcnMpIDogbnVsbDtcbiAgY29uc3Qgb3RoZXJTaWduZXJzID0gc2lnbmVycy5maWx0ZXIoXG4gICAgKHNpZ25lcikgPT4gc2lnbmVyICE9PSBzZW5kaW5nU2lnbmVyICYmIChpc1RyYW5zYWN0aW9uTW9kaWZ5aW5nU2lnbmVyKHNpZ25lcikgfHwgaXNUcmFuc2FjdGlvblBhcnRpYWxTaWduZXIoc2lnbmVyKSlcbiAgKTtcbiAgY29uc3QgbW9kaWZ5aW5nU2lnbmVycyA9IGlkZW50aWZ5VHJhbnNhY3Rpb25Nb2RpZnlpbmdTaWduZXJzKG90aGVyU2lnbmVycyk7XG4gIGNvbnN0IHBhcnRpYWxTaWduZXJzID0gb3RoZXJTaWduZXJzLmZpbHRlcihpc1RyYW5zYWN0aW9uUGFydGlhbFNpZ25lcikuZmlsdGVyKChzaWduZXIpID0+ICFtb2RpZnlpbmdTaWduZXJzLmluY2x1ZGVzKHNpZ25lcikpO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IG1vZGlmeWluZ1NpZ25lcnMsIHBhcnRpYWxTaWduZXJzLCBzZW5kaW5nU2lnbmVyIH0pO1xufVxuZnVuY3Rpb24gaWRlbnRpZnlUcmFuc2FjdGlvblNlbmRpbmdTaWduZXIoc2lnbmVycykge1xuICBjb25zdCBzZW5kaW5nU2lnbmVycyA9IHNpZ25lcnMuZmlsdGVyKGlzVHJhbnNhY3Rpb25TZW5kaW5nU2lnbmVyKTtcbiAgaWYgKHNlbmRpbmdTaWduZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHNlbmRpbmdPbmx5U2lnbmVycyA9IHNlbmRpbmdTaWduZXJzLmZpbHRlcihcbiAgICAoc2lnbmVyKSA9PiAhaXNUcmFuc2FjdGlvbk1vZGlmeWluZ1NpZ25lcihzaWduZXIpICYmICFpc1RyYW5zYWN0aW9uUGFydGlhbFNpZ25lcihzaWduZXIpXG4gICk7XG4gIGlmIChzZW5kaW5nT25seVNpZ25lcnMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBzZW5kaW5nT25seVNpZ25lcnNbMF07XG4gIH1cbiAgcmV0dXJuIHNlbmRpbmdTaWduZXJzWzBdO1xufVxuZnVuY3Rpb24gaWRlbnRpZnlUcmFuc2FjdGlvbk1vZGlmeWluZ1NpZ25lcnMoc2lnbmVycykge1xuICBjb25zdCBtb2RpZnlpbmdTaWduZXJzID0gc2lnbmVycy5maWx0ZXIoaXNUcmFuc2FjdGlvbk1vZGlmeWluZ1NpZ25lcik7XG4gIGlmIChtb2RpZnlpbmdTaWduZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICBjb25zdCBub25QYXJ0aWFsU2lnbmVycyA9IG1vZGlmeWluZ1NpZ25lcnMuZmlsdGVyKChzaWduZXIpID0+ICFpc1RyYW5zYWN0aW9uUGFydGlhbFNpZ25lcihzaWduZXIpKTtcbiAgaWYgKG5vblBhcnRpYWxTaWduZXJzLmxlbmd0aCA+IDApIHJldHVybiBub25QYXJ0aWFsU2lnbmVycztcbiAgcmV0dXJuIFttb2RpZnlpbmdTaWduZXJzWzBdXTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpZ25Nb2RpZnlpbmdBbmRQYXJ0aWFsVHJhbnNhY3Rpb25TaWduZXJzKHRyYW5zYWN0aW9uTWVzc2FnZSwgbW9kaWZ5aW5nU2lnbmVycyA9IFtdLCBwYXJ0aWFsU2lnbmVycyA9IFtdLCBjb25maWcpIHtcbiAgY29uc3QgdHJhbnNhY3Rpb24gPSBjb21waWxlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25NZXNzYWdlKTtcbiAgY29uc3QgbW9kaWZpZWRUcmFuc2FjdGlvbiA9IGF3YWl0IG1vZGlmeWluZ1NpZ25lcnMucmVkdWNlKFxuICAgIGFzeW5jICh0cmFuc2FjdGlvbjIsIG1vZGlmeWluZ1NpZ25lcikgPT4ge1xuICAgICAgY29uZmlnPy5hYm9ydFNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgIGNvbnN0IFt0eF0gPSBhd2FpdCBtb2RpZnlpbmdTaWduZXIubW9kaWZ5QW5kU2lnblRyYW5zYWN0aW9ucyhbYXdhaXQgdHJhbnNhY3Rpb24yXSwgY29uZmlnKTtcbiAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHR4KTtcbiAgICB9LFxuICAgIFByb21pc2UucmVzb2x2ZSh0cmFuc2FjdGlvbilcbiAgKTtcbiAgY29uZmlnPy5hYm9ydFNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcbiAgY29uc3Qgc2lnbmF0dXJlRGljdGlvbmFyaWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgcGFydGlhbFNpZ25lcnMubWFwKGFzeW5jIChwYXJ0aWFsU2lnbmVyKSA9PiB7XG4gICAgICBjb25zdCBbc2lnbmF0dXJlc10gPSBhd2FpdCBwYXJ0aWFsU2lnbmVyLnNpZ25UcmFuc2FjdGlvbnMoW21vZGlmaWVkVHJhbnNhY3Rpb25dLCBjb25maWcpO1xuICAgICAgcmV0dXJuIHNpZ25hdHVyZXM7XG4gICAgfSlcbiAgKTtcbiAgY29uc3Qgc2lnbmVkVHJhbnNhY3Rpb24gPSB7XG4gICAgLi4ubW9kaWZpZWRUcmFuc2FjdGlvbixcbiAgICBzaWduYXR1cmVzOiBPYmplY3QuZnJlZXplKFxuICAgICAgc2lnbmF0dXJlRGljdGlvbmFyaWVzLnJlZHVjZSgoc2lnbmF0dXJlcywgc2lnbmF0dXJlRGljdGlvbmFyeSkgPT4ge1xuICAgICAgICByZXR1cm4geyAuLi5zaWduYXR1cmVzLCAuLi5zaWduYXR1cmVEaWN0aW9uYXJ5IH07XG4gICAgICB9LCBtb2RpZmllZFRyYW5zYWN0aW9uLnNpZ25hdHVyZXMgPz8ge30pXG4gICAgKVxuICB9O1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShzaWduZWRUcmFuc2FjdGlvbik7XG59XG52YXIgbyA9IGdsb2JhbFRoaXMuVGV4dEVuY29kZXI7XG5cbi8vIHNyYy9zaWduYWJsZS1tZXNzYWdlLnRzXG5mdW5jdGlvbiBjcmVhdGVTaWduYWJsZU1lc3NhZ2UoY29udGVudCwgc2lnbmF0dXJlcyA9IHt9KSB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBjb250ZW50OiB0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IG5ldyBvKCkuZW5jb2RlKGNvbnRlbnQpIDogY29udGVudCxcbiAgICBzaWduYXR1cmVzOiBPYmplY3QuZnJlZXplKHsgLi4uc2lnbmF0dXJlcyB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgYWRkU2lnbmVyc1RvSW5zdHJ1Y3Rpb24sIGFkZFNpZ25lcnNUb1RyYW5zYWN0aW9uTWVzc2FnZSwgYXNzZXJ0SXNLZXlQYWlyU2lnbmVyLCBhc3NlcnRJc01lc3NhZ2VNb2RpZnlpbmdTaWduZXIsIGFzc2VydElzTWVzc2FnZVBhcnRpYWxTaWduZXIsIGFzc2VydElzTWVzc2FnZVNpZ25lciwgYXNzZXJ0SXNUcmFuc2FjdGlvbk1lc3NhZ2VXaXRoU2luZ2xlU2VuZGluZ1NpZ25lciwgYXNzZXJ0SXNUcmFuc2FjdGlvbk1vZGlmeWluZ1NpZ25lciwgYXNzZXJ0SXNUcmFuc2FjdGlvblBhcnRpYWxTaWduZXIsIGFzc2VydElzVHJhbnNhY3Rpb25TZW5kaW5nU2lnbmVyLCBhc3NlcnRJc1RyYW5zYWN0aW9uU2lnbmVyLCBjcmVhdGVLZXlQYWlyU2lnbmVyRnJvbUJ5dGVzLCBjcmVhdGVLZXlQYWlyU2lnbmVyRnJvbVByaXZhdGVLZXlCeXRlcywgY3JlYXRlTm9vcFNpZ25lciwgY3JlYXRlU2lnbmFibGVNZXNzYWdlLCBjcmVhdGVTaWduZXJGcm9tS2V5UGFpciwgZ2VuZXJhdGVLZXlQYWlyU2lnbmVyLCBnZXRTaWduZXJzRnJvbUluc3RydWN0aW9uLCBnZXRTaWduZXJzRnJvbVRyYW5zYWN0aW9uTWVzc2FnZSwgaXNLZXlQYWlyU2lnbmVyLCBpc01lc3NhZ2VNb2RpZnlpbmdTaWduZXIsIGlzTWVzc2FnZVBhcnRpYWxTaWduZXIsIGlzTWVzc2FnZVNpZ25lciwgaXNUcmFuc2FjdGlvbk1lc3NhZ2VXaXRoU2luZ2xlU2VuZGluZ1NpZ25lciwgaXNUcmFuc2FjdGlvbk1vZGlmeWluZ1NpZ25lciwgaXNUcmFuc2FjdGlvblBhcnRpYWxTaWduZXIsIGlzVHJhbnNhY3Rpb25TZW5kaW5nU2lnbmVyLCBpc1RyYW5zYWN0aW9uU2lnbmVyLCBwYXJ0aWFsbHlTaWduVHJhbnNhY3Rpb25NZXNzYWdlV2l0aFNpZ25lcnMsIHNldFRyYW5zYWN0aW9uTWVzc2FnZUZlZVBheWVyU2lnbmVyLCBzaWduQW5kU2VuZFRyYW5zYWN0aW9uTWVzc2FnZVdpdGhTaWduZXJzLCBzaWduVHJhbnNhY3Rpb25NZXNzYWdlV2l0aFNpZ25lcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIubWpzLm1hcFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguYnJvd3Nlci5tanMubWFwIiwiaW1wb3J0IHsgU29sYW5hRXJyb3IsIFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0VYUEVDVEVEX0JMT0NLSEFTSF9MSUZFVElNRSwgU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fVkVSU0lPTl9OVU1CRVJfT1VUX09GX1JBTkdFLCBTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19FWFBFQ1RFRF9OT05DRV9MSUZFVElNRSwgU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fRkFJTEVEX1RPX0RFQ09NUElMRV9GRUVfUEFZRVJfTUlTU0lORywgU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fRkFJTEVEX1RPX0RFQ09NUElMRV9BRERSRVNTX0xPT0tVUF9UQUJMRV9DT05URU5UU19NSVNTSU5HLCBTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19GQUlMRURfVE9fREVDT01QSUxFX0FERFJFU1NfTE9PS1VQX1RBQkxFX0lOREVYX09VVF9PRl9SQU5HRSwgU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fRkFJTEVEX1RPX0RFQ09NUElMRV9JTlNUUlVDVElPTl9QUk9HUkFNX0FERFJFU1NfTk9UX0ZPVU5ELCBTT0xBTkFfRVJST1JfX0NPREVDU19fSU5WQUxJRF9TVFJJTkdfRk9SX0JBU0UsIFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0lOVk9LRURfUFJPR1JBTVNfTVVTVF9OT1RfQkVfV1JJVEFCTEUsIFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0lOVk9LRURfUFJPR1JBTVNfQ0FOTk9UX1BBWV9GRUVTIH0gZnJvbSAnQHNvbGFuYS9lcnJvcnMnO1xuaW1wb3J0IHsgYXNzZXJ0SXNCbG9ja2hhc2ggfSBmcm9tICdAc29sYW5hL3JwYy10eXBlcyc7XG5pbXBvcnQgeyBnZXRBZGRyZXNzRGVjb2RlciwgZ2V0QWRkcmVzc0NvbXBhcmF0b3IsIGFzc2VydElzQWRkcmVzcywgZ2V0QWRkcmVzc0VuY29kZXIgfSBmcm9tICdAc29sYW5hL2FkZHJlc3Nlcyc7XG5pbXBvcnQgeyBjcmVhdGVFbmNvZGVyLCBjcmVhdGVEZWNvZGVyLCBjb21iaW5lQ29kZWMsIHRyYW5zZm9ybURlY29kZXIsIHRyYW5zZm9ybUVuY29kZXIsIGZpeERlY29kZXJTaXplLCBmaXhFbmNvZGVyU2l6ZSwgYWRkRGVjb2RlclNpemVQcmVmaXgsIGFkZEVuY29kZXJTaXplUHJlZml4IH0gZnJvbSAnQHNvbGFuYS9jb2RlY3MtY29yZSc7XG5pbXBvcnQgeyBnZXRTdHJ1Y3REZWNvZGVyLCBnZXRTdHJ1Y3RFbmNvZGVyLCBnZXRBcnJheURlY29kZXIsIGdldEFycmF5RW5jb2RlciwgZ2V0Qnl0ZXNEZWNvZGVyLCBnZXRCeXRlc0VuY29kZXIgfSBmcm9tICdAc29sYW5hL2NvZGVjcy1kYXRhLXN0cnVjdHVyZXMnO1xuaW1wb3J0IHsgZ2V0U2hvcnRVMTZEZWNvZGVyLCBnZXRTaG9ydFUxNkVuY29kZXIsIGdldFU4RGVjb2RlciwgZ2V0VThFbmNvZGVyIH0gZnJvbSAnQHNvbGFuYS9jb2RlY3MtbnVtYmVycyc7XG5pbXBvcnQgeyBpc1NpZ25lclJvbGUsIEFjY291bnRSb2xlLCBpc1dyaXRhYmxlUm9sZSwgbWVyZ2VSb2xlcyB9IGZyb20gJ0Bzb2xhbmEvaW5zdHJ1Y3Rpb25zJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICdAc29sYW5hL2Z1bmN0aW9uYWwnO1xuXG4vLyBzcmMvYmxvY2toYXNoLnRzXG5mdW5jdGlvbiBpc1RyYW5zYWN0aW9uTWVzc2FnZVdpdGhCbG9ja2hhc2hMaWZldGltZSh0cmFuc2FjdGlvbikge1xuICBjb25zdCBsaWZldGltZUNvbnN0cmFpbnRTaGFwZU1hdGNoZXMgPSBcImxpZmV0aW1lQ29uc3RyYWludFwiIGluIHRyYW5zYWN0aW9uICYmIHR5cGVvZiB0cmFuc2FjdGlvbi5saWZldGltZUNvbnN0cmFpbnQuYmxvY2toYXNoID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiB0cmFuc2FjdGlvbi5saWZldGltZUNvbnN0cmFpbnQubGFzdFZhbGlkQmxvY2tIZWlnaHQgPT09IFwiYmlnaW50XCI7XG4gIGlmICghbGlmZXRpbWVDb25zdHJhaW50U2hhcGVNYXRjaGVzKSByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgYXNzZXJ0SXNCbG9ja2hhc2godHJhbnNhY3Rpb24ubGlmZXRpbWVDb25zdHJhaW50LmJsb2NraGFzaCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0SXNUcmFuc2FjdGlvbk1lc3NhZ2VXaXRoQmxvY2toYXNoTGlmZXRpbWUodHJhbnNhY3Rpb24pIHtcbiAgaWYgKCFpc1RyYW5zYWN0aW9uTWVzc2FnZVdpdGhCbG9ja2hhc2hMaWZldGltZSh0cmFuc2FjdGlvbikpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fRVhQRUNURURfQkxPQ0tIQVNIX0xJRkVUSU1FKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0VHJhbnNhY3Rpb25NZXNzYWdlTGlmZXRpbWVVc2luZ0Jsb2NraGFzaChibG9ja2hhc2hMaWZldGltZUNvbnN0cmFpbnQsIHRyYW5zYWN0aW9uKSB7XG4gIGlmIChcImxpZmV0aW1lQ29uc3RyYWludFwiIGluIHRyYW5zYWN0aW9uICYmIHRyYW5zYWN0aW9uLmxpZmV0aW1lQ29uc3RyYWludC5ibG9ja2hhc2ggPT09IGJsb2NraGFzaExpZmV0aW1lQ29uc3RyYWludC5ibG9ja2hhc2ggJiYgdHJhbnNhY3Rpb24ubGlmZXRpbWVDb25zdHJhaW50Lmxhc3RWYWxpZEJsb2NrSGVpZ2h0ID09PSBibG9ja2hhc2hMaWZldGltZUNvbnN0cmFpbnQubGFzdFZhbGlkQmxvY2tIZWlnaHQpIHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gIH1cbiAgY29uc3Qgb3V0ID0ge1xuICAgIC4uLnRyYW5zYWN0aW9uLFxuICAgIGxpZmV0aW1lQ29uc3RyYWludDogT2JqZWN0LmZyZWV6ZShibG9ja2hhc2hMaWZldGltZUNvbnN0cmFpbnQpXG4gIH07XG4gIE9iamVjdC5mcmVlemUob3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIGFzc2VydFZhbGlkQmFzZVN0cmluZyhhbHBoYWJldDQsIHRlc3RWYWx1ZSwgZ2l2ZW5WYWx1ZSA9IHRlc3RWYWx1ZSkge1xuICBpZiAoIXRlc3RWYWx1ZS5tYXRjaChuZXcgUmVnRXhwKGBeWyR7YWxwaGFiZXQ0fV0qJGApKSkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX0NPREVDU19fSU5WQUxJRF9TVFJJTkdfRk9SX0JBU0UsIHtcbiAgICAgIGFscGhhYmV0OiBhbHBoYWJldDQsXG4gICAgICBiYXNlOiBhbHBoYWJldDQubGVuZ3RoLFxuICAgICAgdmFsdWU6IGdpdmVuVmFsdWVcbiAgICB9KTtcbiAgfVxufVxudmFyIGdldEJhc2VYRW5jb2RlciA9IChhbHBoYWJldDQpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUVuY29kZXIoe1xuICAgIGdldFNpemVGcm9tVmFsdWU6ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgW2xlYWRpbmdaZXJvZXMsIHRhaWxDaGFyc10gPSBwYXJ0aXRpb25MZWFkaW5nWmVyb2VzKHZhbHVlLCBhbHBoYWJldDRbMF0pO1xuICAgICAgaWYgKCF0YWlsQ2hhcnMpIHJldHVybiB2YWx1ZS5sZW5ndGg7XG4gICAgICBjb25zdCBiYXNlMTBOdW1iZXIgPSBnZXRCaWdJbnRGcm9tQmFzZVgodGFpbENoYXJzLCBhbHBoYWJldDQpO1xuICAgICAgcmV0dXJuIGxlYWRpbmdaZXJvZXMubGVuZ3RoICsgTWF0aC5jZWlsKGJhc2UxME51bWJlci50b1N0cmluZygxNikubGVuZ3RoIC8gMik7XG4gICAgfSxcbiAgICB3cml0ZSh2YWx1ZSwgYnl0ZXMsIG9mZnNldCkge1xuICAgICAgYXNzZXJ0VmFsaWRCYXNlU3RyaW5nKGFscGhhYmV0NCwgdmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSByZXR1cm4gb2Zmc2V0O1xuICAgICAgY29uc3QgW2xlYWRpbmdaZXJvZXMsIHRhaWxDaGFyc10gPSBwYXJ0aXRpb25MZWFkaW5nWmVyb2VzKHZhbHVlLCBhbHBoYWJldDRbMF0pO1xuICAgICAgaWYgKCF0YWlsQ2hhcnMpIHtcbiAgICAgICAgYnl0ZXMuc2V0KG5ldyBVaW50OEFycmF5KGxlYWRpbmdaZXJvZXMubGVuZ3RoKS5maWxsKDApLCBvZmZzZXQpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgbGVhZGluZ1plcm9lcy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBsZXQgYmFzZTEwTnVtYmVyID0gZ2V0QmlnSW50RnJvbUJhc2VYKHRhaWxDaGFycywgYWxwaGFiZXQ0KTtcbiAgICAgIGNvbnN0IHRhaWxCeXRlcyA9IFtdO1xuICAgICAgd2hpbGUgKGJhc2UxME51bWJlciA+IDBuKSB7XG4gICAgICAgIHRhaWxCeXRlcy51bnNoaWZ0KE51bWJlcihiYXNlMTBOdW1iZXIgJSAyNTZuKSk7XG4gICAgICAgIGJhc2UxME51bWJlciAvPSAyNTZuO1xuICAgICAgfVxuICAgICAgY29uc3QgYnl0ZXNUb0FkZCA9IFsuLi5BcnJheShsZWFkaW5nWmVyb2VzLmxlbmd0aCkuZmlsbCgwKSwgLi4udGFpbEJ5dGVzXTtcbiAgICAgIGJ5dGVzLnNldChieXRlc1RvQWRkLCBvZmZzZXQpO1xuICAgICAgcmV0dXJuIG9mZnNldCArIGJ5dGVzVG9BZGQubGVuZ3RoO1xuICAgIH1cbiAgfSk7XG59O1xudmFyIGdldEJhc2VYRGVjb2RlciA9IChhbHBoYWJldDQpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZURlY29kZXIoe1xuICAgIHJlYWQocmF3Qnl0ZXMsIG9mZnNldCkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBvZmZzZXQgPT09IDAgPyByYXdCeXRlcyA6IHJhd0J5dGVzLnNsaWNlKG9mZnNldCk7XG4gICAgICBpZiAoYnl0ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gW1wiXCIsIDBdO1xuICAgICAgbGV0IHRyYWlsSW5kZXggPSBieXRlcy5maW5kSW5kZXgoKG4pID0+IG4gIT09IDApO1xuICAgICAgdHJhaWxJbmRleCA9IHRyYWlsSW5kZXggPT09IC0xID8gYnl0ZXMubGVuZ3RoIDogdHJhaWxJbmRleDtcbiAgICAgIGNvbnN0IGxlYWRpbmdaZXJvZXMgPSBhbHBoYWJldDRbMF0ucmVwZWF0KHRyYWlsSW5kZXgpO1xuICAgICAgaWYgKHRyYWlsSW5kZXggPT09IGJ5dGVzLmxlbmd0aCkgcmV0dXJuIFtsZWFkaW5nWmVyb2VzLCByYXdCeXRlcy5sZW5ndGhdO1xuICAgICAgY29uc3QgYmFzZTEwTnVtYmVyID0gYnl0ZXMuc2xpY2UodHJhaWxJbmRleCkucmVkdWNlKChzdW0sIGJ5dGUpID0+IHN1bSAqIDI1Nm4gKyBCaWdJbnQoYnl0ZSksIDBuKTtcbiAgICAgIGNvbnN0IHRhaWxDaGFycyA9IGdldEJhc2VYRnJvbUJpZ0ludChiYXNlMTBOdW1iZXIsIGFscGhhYmV0NCk7XG4gICAgICByZXR1cm4gW2xlYWRpbmdaZXJvZXMgKyB0YWlsQ2hhcnMsIHJhd0J5dGVzLmxlbmd0aF07XG4gICAgfVxuICB9KTtcbn07XG5mdW5jdGlvbiBwYXJ0aXRpb25MZWFkaW5nWmVyb2VzKHZhbHVlLCB6ZXJvQ2hhcmFjdGVyKSB7XG4gIGNvbnN0IFtsZWFkaW5nWmVyb3MsIHRhaWxDaGFyc10gPSB2YWx1ZS5zcGxpdChuZXcgUmVnRXhwKGAoKD8hJHt6ZXJvQ2hhcmFjdGVyfSkuKilgKSk7XG4gIHJldHVybiBbbGVhZGluZ1plcm9zLCB0YWlsQ2hhcnNdO1xufVxuZnVuY3Rpb24gZ2V0QmlnSW50RnJvbUJhc2VYKHZhbHVlLCBhbHBoYWJldDQpIHtcbiAgY29uc3QgYmFzZSA9IEJpZ0ludChhbHBoYWJldDQubGVuZ3RoKTtcbiAgbGV0IHN1bSA9IDBuO1xuICBmb3IgKGNvbnN0IGNoYXIgb2YgdmFsdWUpIHtcbiAgICBzdW0gKj0gYmFzZTtcbiAgICBzdW0gKz0gQmlnSW50KGFscGhhYmV0NC5pbmRleE9mKGNoYXIpKTtcbiAgfVxuICByZXR1cm4gc3VtO1xufVxuZnVuY3Rpb24gZ2V0QmFzZVhGcm9tQmlnSW50KHZhbHVlLCBhbHBoYWJldDQpIHtcbiAgY29uc3QgYmFzZSA9IEJpZ0ludChhbHBoYWJldDQubGVuZ3RoKTtcbiAgY29uc3QgdGFpbENoYXJzID0gW107XG4gIHdoaWxlICh2YWx1ZSA+IDBuKSB7XG4gICAgdGFpbENoYXJzLnVuc2hpZnQoYWxwaGFiZXQ0W051bWJlcih2YWx1ZSAlIGJhc2UpXSk7XG4gICAgdmFsdWUgLz0gYmFzZTtcbiAgfVxuICByZXR1cm4gdGFpbENoYXJzLmpvaW4oXCJcIik7XG59XG52YXIgYWxwaGFiZXQyID0gXCIxMjM0NTY3ODlBQkNERUZHSEpLTE1OUFFSU1RVVldYWVphYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6XCI7XG52YXIgZ2V0QmFzZTU4RW5jb2RlciA9ICgpID0+IGdldEJhc2VYRW5jb2RlcihhbHBoYWJldDIpO1xudmFyIGdldEJhc2U1OERlY29kZXIgPSAoKSA9PiBnZXRCYXNlWERlY29kZXIoYWxwaGFiZXQyKTtcbnZhciBtZW1vaXplZEFkZHJlc3NUYWJsZUxvb2t1cEVuY29kZXI7XG5mdW5jdGlvbiBnZXRBZGRyZXNzVGFibGVMb29rdXBFbmNvZGVyKCkge1xuICBpZiAoIW1lbW9pemVkQWRkcmVzc1RhYmxlTG9va3VwRW5jb2Rlcikge1xuICAgIG1lbW9pemVkQWRkcmVzc1RhYmxlTG9va3VwRW5jb2RlciA9IGdldFN0cnVjdEVuY29kZXIoW1xuICAgICAgW1wibG9va3VwVGFibGVBZGRyZXNzXCIsIGdldEFkZHJlc3NFbmNvZGVyKCldLFxuICAgICAgW1xuICAgICAgICBcIndyaXRhYmxlSW5kaWNlc1wiLFxuICAgICAgICBnZXRBcnJheUVuY29kZXIoZ2V0VThFbmNvZGVyKCksIHsgc2l6ZTogZ2V0U2hvcnRVMTZFbmNvZGVyKCkgfSlcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIFwicmVhZGFibGVJbmRpY2VzXCIsXG4gICAgICAgIGdldEFycmF5RW5jb2RlcihnZXRVOEVuY29kZXIoKSwgeyBzaXplOiBnZXRTaG9ydFUxNkVuY29kZXIoKSB9KVxuICAgICAgXVxuICAgIF0pO1xuICB9XG4gIHJldHVybiBtZW1vaXplZEFkZHJlc3NUYWJsZUxvb2t1cEVuY29kZXI7XG59XG52YXIgbWVtb2l6ZWRBZGRyZXNzVGFibGVMb29rdXBEZWNvZGVyO1xuZnVuY3Rpb24gZ2V0QWRkcmVzc1RhYmxlTG9va3VwRGVjb2RlcigpIHtcbiAgaWYgKCFtZW1vaXplZEFkZHJlc3NUYWJsZUxvb2t1cERlY29kZXIpIHtcbiAgICBtZW1vaXplZEFkZHJlc3NUYWJsZUxvb2t1cERlY29kZXIgPSBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICAgIFtcImxvb2t1cFRhYmxlQWRkcmVzc1wiLCBnZXRBZGRyZXNzRGVjb2RlcigpXSxcbiAgICAgIFtcIndyaXRhYmxlSW5kaWNlc1wiLCBnZXRBcnJheURlY29kZXIoZ2V0VThEZWNvZGVyKCksIHsgc2l6ZTogZ2V0U2hvcnRVMTZEZWNvZGVyKCkgfSldLFxuICAgICAgW1wicmVhZGFibGVJbmRpY2VzXCIsIGdldEFycmF5RGVjb2RlcihnZXRVOERlY29kZXIoKSwgeyBzaXplOiBnZXRTaG9ydFUxNkRlY29kZXIoKSB9KV1cbiAgICBdKTtcbiAgfVxuICByZXR1cm4gbWVtb2l6ZWRBZGRyZXNzVGFibGVMb29rdXBEZWNvZGVyO1xufVxudmFyIG1lbW9pemVkVThFbmNvZGVyO1xuZnVuY3Rpb24gZ2V0TWVtb2l6ZWRVOEVuY29kZXIoKSB7XG4gIGlmICghbWVtb2l6ZWRVOEVuY29kZXIpIG1lbW9pemVkVThFbmNvZGVyID0gZ2V0VThFbmNvZGVyKCk7XG4gIHJldHVybiBtZW1vaXplZFU4RW5jb2Rlcjtcbn1cbnZhciBtZW1vaXplZFU4RGVjb2RlcjtcbmZ1bmN0aW9uIGdldE1lbW9pemVkVThEZWNvZGVyKCkge1xuICBpZiAoIW1lbW9pemVkVThEZWNvZGVyKSBtZW1vaXplZFU4RGVjb2RlciA9IGdldFU4RGVjb2RlcigpO1xuICByZXR1cm4gbWVtb2l6ZWRVOERlY29kZXI7XG59XG5mdW5jdGlvbiBnZXRNZXNzYWdlSGVhZGVyRW5jb2RlcigpIHtcbiAgcmV0dXJuIGdldFN0cnVjdEVuY29kZXIoW1xuICAgIFtcIm51bVNpZ25lckFjY291bnRzXCIsIGdldE1lbW9pemVkVThFbmNvZGVyKCldLFxuICAgIFtcIm51bVJlYWRvbmx5U2lnbmVyQWNjb3VudHNcIiwgZ2V0TWVtb2l6ZWRVOEVuY29kZXIoKV0sXG4gICAgW1wibnVtUmVhZG9ubHlOb25TaWduZXJBY2NvdW50c1wiLCBnZXRNZW1vaXplZFU4RW5jb2RlcigpXVxuICBdKTtcbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2VIZWFkZXJEZWNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgW1wibnVtU2lnbmVyQWNjb3VudHNcIiwgZ2V0TWVtb2l6ZWRVOERlY29kZXIoKV0sXG4gICAgW1wibnVtUmVhZG9ubHlTaWduZXJBY2NvdW50c1wiLCBnZXRNZW1vaXplZFU4RGVjb2RlcigpXSxcbiAgICBbXCJudW1SZWFkb25seU5vblNpZ25lckFjY291bnRzXCIsIGdldE1lbW9pemVkVThEZWNvZGVyKCldXG4gIF0pO1xufVxudmFyIG1lbW9pemVkR2V0SW5zdHJ1Y3Rpb25FbmNvZGVyO1xuZnVuY3Rpb24gZ2V0SW5zdHJ1Y3Rpb25FbmNvZGVyKCkge1xuICBpZiAoIW1lbW9pemVkR2V0SW5zdHJ1Y3Rpb25FbmNvZGVyKSB7XG4gICAgbWVtb2l6ZWRHZXRJbnN0cnVjdGlvbkVuY29kZXIgPSB0cmFuc2Zvcm1FbmNvZGVyKFxuICAgICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICAgIFtcInByb2dyYW1BZGRyZXNzSW5kZXhcIiwgZ2V0VThFbmNvZGVyKCldLFxuICAgICAgICBbXCJhY2NvdW50SW5kaWNlc1wiLCBnZXRBcnJheUVuY29kZXIoZ2V0VThFbmNvZGVyKCksIHsgc2l6ZTogZ2V0U2hvcnRVMTZFbmNvZGVyKCkgfSldLFxuICAgICAgICBbXCJkYXRhXCIsIGFkZEVuY29kZXJTaXplUHJlZml4KGdldEJ5dGVzRW5jb2RlcigpLCBnZXRTaG9ydFUxNkVuY29kZXIoKSldXG4gICAgICBdKSxcbiAgICAgIC8vIENvbnZlcnQgYW4gaW5zdHJ1Y3Rpb24gdG8gaGF2ZSBhbGwgZmllbGRzIGRlZmluZWRcbiAgICAgIChpbnN0cnVjdGlvbikgPT4ge1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudEluZGljZXMgIT09IHVuZGVmaW5lZCAmJiBpbnN0cnVjdGlvbi5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5pbnN0cnVjdGlvbixcbiAgICAgICAgICBhY2NvdW50SW5kaWNlczogaW5zdHJ1Y3Rpb24uYWNjb3VudEluZGljZXMgPz8gW10sXG4gICAgICAgICAgZGF0YTogaW5zdHJ1Y3Rpb24uZGF0YSA/PyBuZXcgVWludDhBcnJheSgwKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG1lbW9pemVkR2V0SW5zdHJ1Y3Rpb25FbmNvZGVyO1xufVxudmFyIG1lbW9pemVkR2V0SW5zdHJ1Y3Rpb25EZWNvZGVyO1xuZnVuY3Rpb24gZ2V0SW5zdHJ1Y3Rpb25EZWNvZGVyKCkge1xuICBpZiAoIW1lbW9pemVkR2V0SW5zdHJ1Y3Rpb25EZWNvZGVyKSB7XG4gICAgbWVtb2l6ZWRHZXRJbnN0cnVjdGlvbkRlY29kZXIgPSB0cmFuc2Zvcm1EZWNvZGVyKFxuICAgICAgZ2V0U3RydWN0RGVjb2RlcihbXG4gICAgICAgIFtcInByb2dyYW1BZGRyZXNzSW5kZXhcIiwgZ2V0VThEZWNvZGVyKCldLFxuICAgICAgICBbXCJhY2NvdW50SW5kaWNlc1wiLCBnZXRBcnJheURlY29kZXIoZ2V0VThEZWNvZGVyKCksIHsgc2l6ZTogZ2V0U2hvcnRVMTZEZWNvZGVyKCkgfSldLFxuICAgICAgICBbXG4gICAgICAgICAgXCJkYXRhXCIsXG4gICAgICAgICAgYWRkRGVjb2RlclNpemVQcmVmaXgoZ2V0Qnl0ZXNEZWNvZGVyKCksIGdldFNob3J0VTE2RGVjb2RlcigpKVxuICAgICAgICBdXG4gICAgICBdKSxcbiAgICAgIC8vIENvbnZlcnQgYW4gaW5zdHJ1Y3Rpb24gdG8gZXhjbHVkZSBvcHRpb25hbCBmaWVsZHMgaWYgdGhleSBhcmUgZW1wdHlcbiAgICAgIChpbnN0cnVjdGlvbikgPT4ge1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24uYWNjb3VudEluZGljZXMubGVuZ3RoICYmIGluc3RydWN0aW9uLmRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBpbnN0cnVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGFjY291bnRJbmRpY2VzLCBkYXRhLCAuLi5yZXN0IH0gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIC4uLmFjY291bnRJbmRpY2VzLmxlbmd0aCA/IHsgYWNjb3VudEluZGljZXMgfSA6IG51bGwsXG4gICAgICAgICAgLi4uZGF0YS5ieXRlTGVuZ3RoID8geyBkYXRhIH0gOiBudWxsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICByZXR1cm4gbWVtb2l6ZWRHZXRJbnN0cnVjdGlvbkRlY29kZXI7XG59XG52YXIgVkVSU0lPTl9GTEFHX01BU0sgPSAxMjg7XG5mdW5jdGlvbiBnZXRUcmFuc2FjdGlvblZlcnNpb25FbmNvZGVyKCkge1xuICByZXR1cm4gY3JlYXRlRW5jb2Rlcih7XG4gICAgZ2V0U2l6ZUZyb21WYWx1ZTogKHZhbHVlKSA9PiB2YWx1ZSA9PT0gXCJsZWdhY3lcIiA/IDAgOiAxLFxuICAgIG1heFNpemU6IDEsXG4gICAgd3JpdGU6ICh2YWx1ZSwgYnl0ZXMsIG9mZnNldCkgPT4ge1xuICAgICAgaWYgKHZhbHVlID09PSBcImxlZ2FjeVwiKSB7XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTI3KSB7XG4gICAgICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19WRVJTSU9OX05VTUJFUl9PVVRfT0ZfUkFOR0UsIHtcbiAgICAgICAgICBhY3R1YWxWZXJzaW9uOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGJ5dGVzLnNldChbdmFsdWUgfCBWRVJTSU9OX0ZMQUdfTUFTS10sIG9mZnNldCk7XG4gICAgICByZXR1cm4gb2Zmc2V0ICsgMTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25WZXJzaW9uRGVjb2RlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZURlY29kZXIoe1xuICAgIG1heFNpemU6IDEsXG4gICAgcmVhZDogKGJ5dGVzLCBvZmZzZXQpID0+IHtcbiAgICAgIGNvbnN0IGZpcnN0Qnl0ZSA9IGJ5dGVzW29mZnNldF07XG4gICAgICBpZiAoKGZpcnN0Qnl0ZSAmIFZFUlNJT05fRkxBR19NQVNLKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gW1wibGVnYWN5XCIsIG9mZnNldF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gZmlyc3RCeXRlIF4gVkVSU0lPTl9GTEFHX01BU0s7XG4gICAgICAgIHJldHVybiBbdmVyc2lvbiwgb2Zmc2V0ICsgMV07XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uVmVyc2lvbkNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldFRyYW5zYWN0aW9uVmVyc2lvbkVuY29kZXIoKSwgZ2V0VHJhbnNhY3Rpb25WZXJzaW9uRGVjb2RlcigpKTtcbn1cblxuLy8gc3JjL2NvZGVjcy9tZXNzYWdlLnRzXG5mdW5jdGlvbiBnZXRDb21waWxlZE1lc3NhZ2VMZWdhY3lFbmNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RW5jb2RlcihnZXRQcmVsdWRlU3RydWN0RW5jb2RlclR1cGxlKCkpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcGlsZWRNZXNzYWdlVmVyc2lvbmVkRW5jb2RlcigpIHtcbiAgcmV0dXJuIHRyYW5zZm9ybUVuY29kZXIoXG4gICAgZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgICAuLi5nZXRQcmVsdWRlU3RydWN0RW5jb2RlclR1cGxlKCksXG4gICAgICBbXCJhZGRyZXNzVGFibGVMb29rdXBzXCIsIGdldEFkZHJlc3NUYWJsZUxvb2t1cEFycmF5RW5jb2RlcigpXVxuICAgIF0pLFxuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlLnZlcnNpb24gPT09IFwibGVnYWN5XCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udmFsdWUsXG4gICAgICAgIGFkZHJlc3NUYWJsZUxvb2t1cHM6IHZhbHVlLmFkZHJlc3NUYWJsZUxvb2t1cHMgPz8gW11cbiAgICAgIH07XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gZ2V0UHJlbHVkZVN0cnVjdEVuY29kZXJUdXBsZSgpIHtcbiAgcmV0dXJuIFtcbiAgICBbXCJ2ZXJzaW9uXCIsIGdldFRyYW5zYWN0aW9uVmVyc2lvbkVuY29kZXIoKV0sXG4gICAgW1wiaGVhZGVyXCIsIGdldE1lc3NhZ2VIZWFkZXJFbmNvZGVyKCldLFxuICAgIFtcInN0YXRpY0FjY291bnRzXCIsIGdldEFycmF5RW5jb2RlcihnZXRBZGRyZXNzRW5jb2RlcigpLCB7IHNpemU6IGdldFNob3J0VTE2RW5jb2RlcigpIH0pXSxcbiAgICBbXCJsaWZldGltZVRva2VuXCIsIGZpeEVuY29kZXJTaXplKGdldEJhc2U1OEVuY29kZXIoKSwgMzIpXSxcbiAgICBbXCJpbnN0cnVjdGlvbnNcIiwgZ2V0QXJyYXlFbmNvZGVyKGdldEluc3RydWN0aW9uRW5jb2RlcigpLCB7IHNpemU6IGdldFNob3J0VTE2RW5jb2RlcigpIH0pXVxuICBdO1xufVxuZnVuY3Rpb24gZ2V0UHJlbHVkZVN0cnVjdERlY29kZXJUdXBsZSgpIHtcbiAgcmV0dXJuIFtcbiAgICBbXCJ2ZXJzaW9uXCIsIGdldFRyYW5zYWN0aW9uVmVyc2lvbkRlY29kZXIoKV0sXG4gICAgW1wiaGVhZGVyXCIsIGdldE1lc3NhZ2VIZWFkZXJEZWNvZGVyKCldLFxuICAgIFtcInN0YXRpY0FjY291bnRzXCIsIGdldEFycmF5RGVjb2RlcihnZXRBZGRyZXNzRGVjb2RlcigpLCB7IHNpemU6IGdldFNob3J0VTE2RGVjb2RlcigpIH0pXSxcbiAgICBbXCJsaWZldGltZVRva2VuXCIsIGZpeERlY29kZXJTaXplKGdldEJhc2U1OERlY29kZXIoKSwgMzIpXSxcbiAgICBbXCJpbnN0cnVjdGlvbnNcIiwgZ2V0QXJyYXlEZWNvZGVyKGdldEluc3RydWN0aW9uRGVjb2RlcigpLCB7IHNpemU6IGdldFNob3J0VTE2RGVjb2RlcigpIH0pXSxcbiAgICBbXCJhZGRyZXNzVGFibGVMb29rdXBzXCIsIGdldEFkZHJlc3NUYWJsZUxvb2t1cEFycmF5RGVjb2RlcigpXVxuICBdO1xufVxuZnVuY3Rpb24gZ2V0QWRkcmVzc1RhYmxlTG9va3VwQXJyYXlFbmNvZGVyKCkge1xuICByZXR1cm4gZ2V0QXJyYXlFbmNvZGVyKGdldEFkZHJlc3NUYWJsZUxvb2t1cEVuY29kZXIoKSwgeyBzaXplOiBnZXRTaG9ydFUxNkVuY29kZXIoKSB9KTtcbn1cbmZ1bmN0aW9uIGdldEFkZHJlc3NUYWJsZUxvb2t1cEFycmF5RGVjb2RlcigpIHtcbiAgcmV0dXJuIGdldEFycmF5RGVjb2RlcihnZXRBZGRyZXNzVGFibGVMb29rdXBEZWNvZGVyKCksIHsgc2l6ZTogZ2V0U2hvcnRVMTZEZWNvZGVyKCkgfSk7XG59XG5mdW5jdGlvbiBnZXRDb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZUVuY29kZXIoKSB7XG4gIHJldHVybiBjcmVhdGVFbmNvZGVyKHtcbiAgICBnZXRTaXplRnJvbVZhbHVlOiAoY29tcGlsZWRNZXNzYWdlKSA9PiB7XG4gICAgICBpZiAoY29tcGlsZWRNZXNzYWdlLnZlcnNpb24gPT09IFwibGVnYWN5XCIpIHtcbiAgICAgICAgcmV0dXJuIGdldENvbXBpbGVkTWVzc2FnZUxlZ2FjeUVuY29kZXIoKS5nZXRTaXplRnJvbVZhbHVlKGNvbXBpbGVkTWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0Q29tcGlsZWRNZXNzYWdlVmVyc2lvbmVkRW5jb2RlcigpLmdldFNpemVGcm9tVmFsdWUoY29tcGlsZWRNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdyaXRlOiAoY29tcGlsZWRNZXNzYWdlLCBieXRlcywgb2Zmc2V0KSA9PiB7XG4gICAgICBpZiAoY29tcGlsZWRNZXNzYWdlLnZlcnNpb24gPT09IFwibGVnYWN5XCIpIHtcbiAgICAgICAgcmV0dXJuIGdldENvbXBpbGVkTWVzc2FnZUxlZ2FjeUVuY29kZXIoKS53cml0ZShjb21waWxlZE1lc3NhZ2UsIGJ5dGVzLCBvZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldENvbXBpbGVkTWVzc2FnZVZlcnNpb25lZEVuY29kZXIoKS53cml0ZShjb21waWxlZE1lc3NhZ2UsIGJ5dGVzLCBvZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRDb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZURlY29kZXIoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1EZWNvZGVyKFxuICAgIGdldFN0cnVjdERlY29kZXIoZ2V0UHJlbHVkZVN0cnVjdERlY29kZXJUdXBsZSgpKSxcbiAgICAoeyBhZGRyZXNzVGFibGVMb29rdXBzLCAuLi5yZXN0T2ZNZXNzYWdlIH0pID0+IHtcbiAgICAgIGlmIChyZXN0T2ZNZXNzYWdlLnZlcnNpb24gPT09IFwibGVnYWN5XCIgfHwgIWFkZHJlc3NUYWJsZUxvb2t1cHM/Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdE9mTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IC4uLnJlc3RPZk1lc3NhZ2UsIGFkZHJlc3NUYWJsZUxvb2t1cHMgfTtcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBnZXRDb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZUNvZGVjKCkge1xuICByZXR1cm4gY29tYmluZUNvZGVjKGdldENvbXBpbGVkVHJhbnNhY3Rpb25NZXNzYWdlRW5jb2RlcigpLCBnZXRDb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZURlY29kZXIoKSk7XG59XG5mdW5jdGlvbiB1cHNlcnQoYWRkcmVzc01hcCwgYWRkcmVzcywgdXBkYXRlKSB7XG4gIGFkZHJlc3NNYXBbYWRkcmVzc10gPSB1cGRhdGUoYWRkcmVzc01hcFthZGRyZXNzXSA/PyB7IHJvbGU6IEFjY291bnRSb2xlLlJFQURPTkxZIH0pO1xufVxudmFyIFRZUEUgPSBTeW1ib2woXCJBZGRyZXNzTWFwVHlwZVByb3BlcnR5XCIpO1xuZnVuY3Rpb24gZ2V0QWRkcmVzc01hcEZyb21JbnN0cnVjdGlvbnMoZmVlUGF5ZXIsIGluc3RydWN0aW9ucykge1xuICBjb25zdCBhZGRyZXNzTWFwID0ge1xuICAgIFtmZWVQYXllcl06IHsgW1RZUEVdOiAwIC8qIEZFRV9QQVlFUiAqLywgcm9sZTogQWNjb3VudFJvbGUuV1JJVEFCTEVfU0lHTkVSIH1cbiAgfTtcbiAgY29uc3QgYWRkcmVzc2VzT2ZJbnZva2VkUHJvZ3JhbXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBmb3IgKGNvbnN0IGluc3RydWN0aW9uIG9mIGluc3RydWN0aW9ucykge1xuICAgIHVwc2VydChhZGRyZXNzTWFwLCBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcywgKGVudHJ5KSA9PiB7XG4gICAgICBhZGRyZXNzZXNPZkludm9rZWRQcm9ncmFtcy5hZGQoaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3MpO1xuICAgICAgaWYgKFRZUEUgaW4gZW50cnkpIHtcbiAgICAgICAgaWYgKGlzV3JpdGFibGVSb2xlKGVudHJ5LnJvbGUpKSB7XG4gICAgICAgICAgc3dpdGNoIChlbnRyeVtUWVBFXSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIEZFRV9QQVlFUiAqLzpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0lOVk9LRURfUFJPR1JBTVNfQ0FOTk9UX1BBWV9GRUVTLCB7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbUFkZHJlc3M6IGluc3RydWN0aW9uLnByb2dyYW1BZGRyZXNzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0lOVk9LRURfUFJPR1JBTVNfTVVTVF9OT1RfQkVfV1JJVEFCTEUsIHtcbiAgICAgICAgICAgICAgICBwcm9ncmFtQWRkcmVzczogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3NcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeVtUWVBFXSA9PT0gMiAvKiBTVEFUSUMgKi8pIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IFtUWVBFXTogMiAvKiBTVEFUSUMgKi8sIHJvbGU6IEFjY291bnRSb2xlLlJFQURPTkxZIH07XG4gICAgfSk7XG4gICAgbGV0IGFkZHJlc3NDb21wYXJhdG9yO1xuICAgIGlmICghaW5zdHJ1Y3Rpb24uYWNjb3VudHMpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGFjY291bnQgb2YgaW5zdHJ1Y3Rpb24uYWNjb3VudHMpIHtcbiAgICAgIHVwc2VydChhZGRyZXNzTWFwLCBhY2NvdW50LmFkZHJlc3MsIChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICAgIGFkZHJlc3M6IF8sXG4gICAgICAgICAgLi4uYWNjb3VudE1ldGFcbiAgICAgICAgfSA9IGFjY291bnQ7XG4gICAgICAgIGlmIChUWVBFIGluIGVudHJ5KSB7XG4gICAgICAgICAgc3dpdGNoIChlbnRyeVtUWVBFXSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIEZFRV9QQVlFUiAqLzpcbiAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgY2FzZSAxIC8qIExPT0tVUF9UQUJMRSAqLzoge1xuICAgICAgICAgICAgICBjb25zdCBuZXh0Um9sZSA9IG1lcmdlUm9sZXMoZW50cnkucm9sZSwgYWNjb3VudE1ldGEucm9sZSk7XG4gICAgICAgICAgICAgIGlmIChcImxvb2t1cFRhYmxlQWRkcmVzc1wiIGluIGFjY291bnRNZXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVwbGFjZUVudHJ5ID0gKFxuICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXIgdXNpbmcgdGhlIG5ldyBMT09LVVBfVEFCTEUgaWYgaXRzIGFkZHJlc3MgaXMgZGlmZmVyZW50Li4uXG4gICAgICAgICAgICAgICAgICBlbnRyeS5sb29rdXBUYWJsZUFkZHJlc3MgIT09IGFjY291bnRNZXRhLmxvb2t1cFRhYmxlQWRkcmVzcyAmJiAvLyAuLi5hbmQgc29ydHMgYmVmb3JlIHRoZSBleGlzdGluZyBvbmUuXG4gICAgICAgICAgICAgICAgICAoYWRkcmVzc0NvbXBhcmF0b3IgfHw9IGdldEFkZHJlc3NDb21wYXJhdG9yKCkpKFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50TWV0YS5sb29rdXBUYWJsZUFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Lmxvb2t1cFRhYmxlQWRkcmVzc1xuICAgICAgICAgICAgICAgICAgKSA8IDBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZXBsYWNlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIFtUWVBFXTogMSAvKiBMT09LVVBfVEFCTEUgKi8sXG4gICAgICAgICAgICAgICAgICAgIC4uLmFjY291bnRNZXRhLFxuICAgICAgICAgICAgICAgICAgICByb2xlOiBuZXh0Um9sZVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTaWduZXJSb2xlKGFjY291bnRNZXRhLnJvbGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIFtUWVBFXTogMiAvKiBTVEFUSUMgKi8sXG4gICAgICAgICAgICAgICAgICByb2xlOiBuZXh0Um9sZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGVudHJ5LnJvbGUgIT09IG5leHRSb2xlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgcm9sZTogbmV4dFJvbGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAyIC8qIFNUQVRJQyAqLzoge1xuICAgICAgICAgICAgICBjb25zdCBuZXh0Um9sZSA9IG1lcmdlUm9sZXMoZW50cnkucm9sZSwgYWNjb3VudE1ldGEucm9sZSk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBhZGRyZXNzIHJlcHJlc2VudHMgYSBwcm9ncmFtIHRoYXQgaXMgaW52b2tlZFxuICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgYWRkcmVzc2VzT2ZJbnZva2VkUHJvZ3JhbXMuaGFzKGFjY291bnQuYWRkcmVzcylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzV3JpdGFibGVSb2xlKGFjY291bnRNZXRhLnJvbGUpKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0lOVk9LRURfUFJPR1JBTVNfTVVTVF9OT1RfQkVfV1JJVEFCTEUsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtQWRkcmVzczogYWNjb3VudC5hZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5yb2xlICE9PSBuZXh0Um9sZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IG5leHRSb2xlXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwibG9va3VwVGFibGVBZGRyZXNzXCIgaW4gYWNjb3VudE1ldGEgJiYgLy8gU3RhdGljIGFjY291bnRzIGNhbiBiZSAndXBncmFkZWQnIHRvIGxvb2t1cCB0YWJsZSBhY2NvdW50cyBhc1xuICAgICAgICAgICAgICAvLyBsb25nIGFzIHRoZXkgYXJlIG5vdCByZXF1aXJlIHRvIHNpZ24gdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAhaXNTaWduZXJSb2xlKGVudHJ5LnJvbGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLmFjY291bnRNZXRhLFxuICAgICAgICAgICAgICAgICAgW1RZUEVdOiAxIC8qIExPT0tVUF9UQUJMRSAqLyxcbiAgICAgICAgICAgICAgICAgIHJvbGU6IG5leHRSb2xlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkucm9sZSAhPT0gbmV4dFJvbGUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICByb2xlOiBuZXh0Um9sZVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJsb29rdXBUYWJsZUFkZHJlc3NcIiBpbiBhY2NvdW50TWV0YSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hY2NvdW50TWV0YSxcbiAgICAgICAgICAgIFtUWVBFXTogMSAvKiBMT09LVVBfVEFCTEUgKi9cbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hY2NvdW50TWV0YSxcbiAgICAgICAgICAgIFtUWVBFXTogMiAvKiBTVEFUSUMgKi9cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFkZHJlc3NNYXA7XG59XG5mdW5jdGlvbiBnZXRPcmRlcmVkQWNjb3VudHNGcm9tQWRkcmVzc01hcChhZGRyZXNzTWFwKSB7XG4gIGxldCBhZGRyZXNzQ29tcGFyYXRvcjtcbiAgY29uc3Qgb3JkZXJlZEFjY291bnRzID0gT2JqZWN0LmVudHJpZXMoYWRkcmVzc01hcCkuc29ydCgoW2xlZnRBZGRyZXNzLCBsZWZ0RW50cnldLCBbcmlnaHRBZGRyZXNzLCByaWdodEVudHJ5XSkgPT4ge1xuICAgIGlmIChsZWZ0RW50cnlbVFlQRV0gIT09IHJpZ2h0RW50cnlbVFlQRV0pIHtcbiAgICAgIGlmIChsZWZ0RW50cnlbVFlQRV0gPT09IDAgLyogRkVFX1BBWUVSICovKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH0gZWxzZSBpZiAocmlnaHRFbnRyeVtUWVBFXSA9PT0gMCAvKiBGRUVfUEFZRVIgKi8pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9IGVsc2UgaWYgKGxlZnRFbnRyeVtUWVBFXSA9PT0gMiAvKiBTVEFUSUMgKi8pIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfSBlbHNlIGlmIChyaWdodEVudHJ5W1RZUEVdID09PSAyIC8qIFNUQVRJQyAqLykge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbGVmdElzU2lnbmVyID0gaXNTaWduZXJSb2xlKGxlZnRFbnRyeS5yb2xlKTtcbiAgICBpZiAobGVmdElzU2lnbmVyICE9PSBpc1NpZ25lclJvbGUocmlnaHRFbnRyeS5yb2xlKSkge1xuICAgICAgcmV0dXJuIGxlZnRJc1NpZ25lciA/IC0xIDogMTtcbiAgICB9XG4gICAgY29uc3QgbGVmdElzV3JpdGFibGUgPSBpc1dyaXRhYmxlUm9sZShsZWZ0RW50cnkucm9sZSk7XG4gICAgaWYgKGxlZnRJc1dyaXRhYmxlICE9PSBpc1dyaXRhYmxlUm9sZShyaWdodEVudHJ5LnJvbGUpKSB7XG4gICAgICByZXR1cm4gbGVmdElzV3JpdGFibGUgPyAtMSA6IDE7XG4gICAgfVxuICAgIGFkZHJlc3NDb21wYXJhdG9yIHx8PSBnZXRBZGRyZXNzQ29tcGFyYXRvcigpO1xuICAgIGlmIChsZWZ0RW50cnlbVFlQRV0gPT09IDEgLyogTE9PS1VQX1RBQkxFICovICYmIHJpZ2h0RW50cnlbVFlQRV0gPT09IDEgLyogTE9PS1VQX1RBQkxFICovICYmIGxlZnRFbnRyeS5sb29rdXBUYWJsZUFkZHJlc3MgIT09IHJpZ2h0RW50cnkubG9va3VwVGFibGVBZGRyZXNzKSB7XG4gICAgICByZXR1cm4gYWRkcmVzc0NvbXBhcmF0b3IobGVmdEVudHJ5Lmxvb2t1cFRhYmxlQWRkcmVzcywgcmlnaHRFbnRyeS5sb29rdXBUYWJsZUFkZHJlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWRkcmVzc0NvbXBhcmF0b3IobGVmdEFkZHJlc3MsIHJpZ2h0QWRkcmVzcyk7XG4gICAgfVxuICB9KS5tYXAoKFthZGRyZXNzLCBhZGRyZXNzTWV0YV0pID0+ICh7XG4gICAgYWRkcmVzcyxcbiAgICAuLi5hZGRyZXNzTWV0YVxuICB9KSk7XG4gIHJldHVybiBvcmRlcmVkQWNjb3VudHM7XG59XG5mdW5jdGlvbiBnZXRDb21waWxlZEFkZHJlc3NUYWJsZUxvb2t1cHMob3JkZXJlZEFjY291bnRzKSB7XG4gIGNvbnN0IGluZGV4ID0ge307XG4gIGZvciAoY29uc3QgYWNjb3VudCBvZiBvcmRlcmVkQWNjb3VudHMpIHtcbiAgICBpZiAoIShcImxvb2t1cFRhYmxlQWRkcmVzc1wiIGluIGFjY291bnQpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgZW50cnkgPSBpbmRleFthY2NvdW50Lmxvb2t1cFRhYmxlQWRkcmVzc10gfHw9IHtcbiAgICAgIHJlYWRhYmxlSW5kaWNlczogW10sXG4gICAgICB3cml0YWJsZUluZGljZXM6IFtdXG4gICAgfTtcbiAgICBpZiAoYWNjb3VudC5yb2xlID09PSBBY2NvdW50Um9sZS5XUklUQUJMRSkge1xuICAgICAgZW50cnkud3JpdGFibGVJbmRpY2VzLnB1c2goYWNjb3VudC5hZGRyZXNzSW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS5yZWFkYWJsZUluZGljZXMucHVzaChhY2NvdW50LmFkZHJlc3NJbmRleCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhpbmRleCkuc29ydChnZXRBZGRyZXNzQ29tcGFyYXRvcigpKS5tYXAoKGxvb2t1cFRhYmxlQWRkcmVzcykgPT4gKHtcbiAgICBsb29rdXBUYWJsZUFkZHJlc3MsXG4gICAgLi4uaW5kZXhbbG9va3VwVGFibGVBZGRyZXNzXVxuICB9KSk7XG59XG5mdW5jdGlvbiBnZXRDb21waWxlZE1lc3NhZ2VIZWFkZXIob3JkZXJlZEFjY291bnRzKSB7XG4gIGxldCBudW1SZWFkb25seU5vblNpZ25lckFjY291bnRzID0gMDtcbiAgbGV0IG51bVJlYWRvbmx5U2lnbmVyQWNjb3VudHMgPSAwO1xuICBsZXQgbnVtU2lnbmVyQWNjb3VudHMgPSAwO1xuICBmb3IgKGNvbnN0IGFjY291bnQgb2Ygb3JkZXJlZEFjY291bnRzKSB7XG4gICAgaWYgKFwibG9va3VwVGFibGVBZGRyZXNzXCIgaW4gYWNjb3VudCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGFjY291bnRJc1dyaXRhYmxlID0gaXNXcml0YWJsZVJvbGUoYWNjb3VudC5yb2xlKTtcbiAgICBpZiAoaXNTaWduZXJSb2xlKGFjY291bnQucm9sZSkpIHtcbiAgICAgIG51bVNpZ25lckFjY291bnRzKys7XG4gICAgICBpZiAoIWFjY291bnRJc1dyaXRhYmxlKSB7XG4gICAgICAgIG51bVJlYWRvbmx5U2lnbmVyQWNjb3VudHMrKztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFhY2NvdW50SXNXcml0YWJsZSkge1xuICAgICAgbnVtUmVhZG9ubHlOb25TaWduZXJBY2NvdW50cysrO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIG51bVJlYWRvbmx5Tm9uU2lnbmVyQWNjb3VudHMsXG4gICAgbnVtUmVhZG9ubHlTaWduZXJBY2NvdW50cyxcbiAgICBudW1TaWduZXJBY2NvdW50c1xuICB9O1xufVxuXG4vLyBzcmMvY29tcGlsZS9pbnN0cnVjdGlvbnMudHNcbmZ1bmN0aW9uIGdldEFjY291bnRJbmRleChvcmRlcmVkQWNjb3VudHMpIHtcbiAgY29uc3Qgb3V0ID0ge307XG4gIGZvciAoY29uc3QgW2luZGV4LCBhY2NvdW50XSBvZiBvcmRlcmVkQWNjb3VudHMuZW50cmllcygpKSB7XG4gICAgb3V0W2FjY291bnQuYWRkcmVzc10gPSBpbmRleDtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZ2V0Q29tcGlsZWRJbnN0cnVjdGlvbnMoaW5zdHJ1Y3Rpb25zLCBvcmRlcmVkQWNjb3VudHMpIHtcbiAgY29uc3QgYWNjb3VudEluZGV4ID0gZ2V0QWNjb3VudEluZGV4KG9yZGVyZWRBY2NvdW50cyk7XG4gIHJldHVybiBpbnN0cnVjdGlvbnMubWFwKCh7IGFjY291bnRzLCBkYXRhLCBwcm9ncmFtQWRkcmVzcyB9KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2dyYW1BZGRyZXNzSW5kZXg6IGFjY291bnRJbmRleFtwcm9ncmFtQWRkcmVzc10sXG4gICAgICAuLi5hY2NvdW50cyA/IHsgYWNjb3VudEluZGljZXM6IGFjY291bnRzLm1hcCgoeyBhZGRyZXNzIH0pID0+IGFjY291bnRJbmRleFthZGRyZXNzXSkgfSA6IG51bGwsXG4gICAgICAuLi5kYXRhID8geyBkYXRhIH0gOiBudWxsXG4gICAgfTtcbiAgfSk7XG59XG5cbi8vIHNyYy9jb21waWxlL2xpZmV0aW1lLXRva2VuLnRzXG5mdW5jdGlvbiBnZXRDb21waWxlZExpZmV0aW1lVG9rZW4obGlmZXRpbWVDb25zdHJhaW50KSB7XG4gIGlmIChcIm5vbmNlXCIgaW4gbGlmZXRpbWVDb25zdHJhaW50KSB7XG4gICAgcmV0dXJuIGxpZmV0aW1lQ29uc3RyYWludC5ub25jZTtcbiAgfVxuICByZXR1cm4gbGlmZXRpbWVDb25zdHJhaW50LmJsb2NraGFzaDtcbn1cblxuLy8gc3JjL2NvbXBpbGUvc3RhdGljLWFjY291bnRzLnRzXG5mdW5jdGlvbiBnZXRDb21waWxlZFN0YXRpY0FjY291bnRzKG9yZGVyZWRBY2NvdW50cykge1xuICBjb25zdCBmaXJzdExvb2t1cFRhYmxlQWNjb3VudEluZGV4ID0gb3JkZXJlZEFjY291bnRzLmZpbmRJbmRleCgoYWNjb3VudCkgPT4gXCJsb29rdXBUYWJsZUFkZHJlc3NcIiBpbiBhY2NvdW50KTtcbiAgY29uc3Qgb3JkZXJlZFN0YXRpY0FjY291bnRzID0gZmlyc3RMb29rdXBUYWJsZUFjY291bnRJbmRleCA9PT0gLTEgPyBvcmRlcmVkQWNjb3VudHMgOiBvcmRlcmVkQWNjb3VudHMuc2xpY2UoMCwgZmlyc3RMb29rdXBUYWJsZUFjY291bnRJbmRleCk7XG4gIHJldHVybiBvcmRlcmVkU3RhdGljQWNjb3VudHMubWFwKCh7IGFkZHJlc3MgfSkgPT4gYWRkcmVzcyk7XG59XG5cbi8vIHNyYy9jb21waWxlL21lc3NhZ2UudHNcbmZ1bmN0aW9uIGNvbXBpbGVUcmFuc2FjdGlvbk1lc3NhZ2UodHJhbnNhY3Rpb24pIHtcbiAgY29uc3QgYWRkcmVzc01hcCA9IGdldEFkZHJlc3NNYXBGcm9tSW5zdHJ1Y3Rpb25zKHRyYW5zYWN0aW9uLmZlZVBheWVyLmFkZHJlc3MsIHRyYW5zYWN0aW9uLmluc3RydWN0aW9ucyk7XG4gIGNvbnN0IG9yZGVyZWRBY2NvdW50cyA9IGdldE9yZGVyZWRBY2NvdW50c0Zyb21BZGRyZXNzTWFwKGFkZHJlc3NNYXApO1xuICByZXR1cm4ge1xuICAgIC4uLnRyYW5zYWN0aW9uLnZlcnNpb24gIT09IFwibGVnYWN5XCIgPyB7IGFkZHJlc3NUYWJsZUxvb2t1cHM6IGdldENvbXBpbGVkQWRkcmVzc1RhYmxlTG9va3VwcyhvcmRlcmVkQWNjb3VudHMpIH0gOiBudWxsLFxuICAgIGhlYWRlcjogZ2V0Q29tcGlsZWRNZXNzYWdlSGVhZGVyKG9yZGVyZWRBY2NvdW50cyksXG4gICAgaW5zdHJ1Y3Rpb25zOiBnZXRDb21waWxlZEluc3RydWN0aW9ucyh0cmFuc2FjdGlvbi5pbnN0cnVjdGlvbnMsIG9yZGVyZWRBY2NvdW50cyksXG4gICAgbGlmZXRpbWVUb2tlbjogZ2V0Q29tcGlsZWRMaWZldGltZVRva2VuKHRyYW5zYWN0aW9uLmxpZmV0aW1lQ29uc3RyYWludCksXG4gICAgc3RhdGljQWNjb3VudHM6IGdldENvbXBpbGVkU3RhdGljQWNjb3VudHMob3JkZXJlZEFjY291bnRzKSxcbiAgICB2ZXJzaW9uOiB0cmFuc2FjdGlvbi52ZXJzaW9uXG4gIH07XG59XG5mdW5jdGlvbiBmaW5kQWRkcmVzc0luTG9va3VwVGFibGVzKGFkZHJlc3MsIHJvbGUsIGFkZHJlc3Nlc0J5TG9va3VwVGFibGVBZGRyZXNzKSB7XG4gIGZvciAoY29uc3QgW2xvb2t1cFRhYmxlQWRkcmVzcywgYWRkcmVzc2VzXSBvZiBPYmplY3QuZW50cmllcyhhZGRyZXNzZXNCeUxvb2t1cFRhYmxlQWRkcmVzcykpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZHJlc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFkZHJlc3MgPT09IGFkZHJlc3Nlc1tpXSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgYWRkcmVzc0luZGV4OiBpLFxuICAgICAgICAgIGxvb2t1cFRhYmxlQWRkcmVzcyxcbiAgICAgICAgICByb2xlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjb21wcmVzc1RyYW5zYWN0aW9uTWVzc2FnZVVzaW5nQWRkcmVzc0xvb2t1cFRhYmxlcyh0cmFuc2FjdGlvbk1lc3NhZ2UsIGFkZHJlc3Nlc0J5TG9va3VwVGFibGVBZGRyZXNzKSB7XG4gIGNvbnN0IGxvb2t1cFRhYmxlQWRkcmVzc2VzID0gbmV3IFNldChPYmplY3QudmFsdWVzKGFkZHJlc3Nlc0J5TG9va3VwVGFibGVBZGRyZXNzKS5mbGF0TWFwKChhKSA9PiBhKSk7XG4gIGNvbnN0IG5ld0luc3RydWN0aW9ucyA9IFtdO1xuICBsZXQgdXBkYXRlZEFueUluc3RydWN0aW9ucyA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IGluc3RydWN0aW9uIG9mIHRyYW5zYWN0aW9uTWVzc2FnZS5pbnN0cnVjdGlvbnMpIHtcbiAgICBpZiAoIWluc3RydWN0aW9uLmFjY291bnRzKSB7XG4gICAgICBuZXdJbnN0cnVjdGlvbnMucHVzaChpbnN0cnVjdGlvbik7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbmV3QWNjb3VudHMgPSBbXTtcbiAgICBsZXQgdXBkYXRlZEFueUFjY291bnRzID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBhY2NvdW50IG9mIGluc3RydWN0aW9uLmFjY291bnRzKSB7XG4gICAgICBpZiAoXCJsb29rdXBUYWJsZUFkZHJlc3NcIiBpbiBhY2NvdW50IHx8ICFsb29rdXBUYWJsZUFkZHJlc3Nlcy5oYXMoYWNjb3VudC5hZGRyZXNzKSB8fCBpc1NpZ25lclJvbGUoYWNjb3VudC5yb2xlKSkge1xuICAgICAgICBuZXdBY2NvdW50cy5wdXNoKGFjY291bnQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxvb2t1cE1ldGFBY2NvdW50ID0gZmluZEFkZHJlc3NJbkxvb2t1cFRhYmxlcyhcbiAgICAgICAgYWNjb3VudC5hZGRyZXNzLFxuICAgICAgICBhY2NvdW50LnJvbGUsXG4gICAgICAgIGFkZHJlc3Nlc0J5TG9va3VwVGFibGVBZGRyZXNzXG4gICAgICApO1xuICAgICAgbmV3QWNjb3VudHMucHVzaChPYmplY3QuZnJlZXplKGxvb2t1cE1ldGFBY2NvdW50KSk7XG4gICAgICB1cGRhdGVkQW55QWNjb3VudHMgPSB0cnVlO1xuICAgICAgdXBkYXRlZEFueUluc3RydWN0aW9ucyA9IHRydWU7XG4gICAgfVxuICAgIG5ld0luc3RydWN0aW9ucy5wdXNoKFxuICAgICAgT2JqZWN0LmZyZWV6ZSh1cGRhdGVkQW55QWNjb3VudHMgPyB7IC4uLmluc3RydWN0aW9uLCBhY2NvdW50czogbmV3QWNjb3VudHMgfSA6IGluc3RydWN0aW9uKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoXG4gICAgdXBkYXRlZEFueUluc3RydWN0aW9ucyA/IHsgLi4udHJhbnNhY3Rpb25NZXNzYWdlLCBpbnN0cnVjdGlvbnM6IG5ld0luc3RydWN0aW9ucyB9IDogdHJhbnNhY3Rpb25NZXNzYWdlXG4gICk7XG59XG5cbi8vIHNyYy9jcmVhdGUtdHJhbnNhY3Rpb24tbWVzc2FnZS50c1xuZnVuY3Rpb24gY3JlYXRlVHJhbnNhY3Rpb25NZXNzYWdlKHtcbiAgdmVyc2lvblxufSkge1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgaW5zdHJ1Y3Rpb25zOiBPYmplY3QuZnJlZXplKFtdKSxcbiAgICB2ZXJzaW9uXG4gIH0pO1xufVxudmFyIFJFQ0VOVF9CTE9DS0hBU0hFU19TWVNWQVJfQUREUkVTUyA9IFwiU3lzdmFyUmVjZW50QjFvY2tIYXNoZXMxMTExMTExMTExMTExMTExMTExMVwiO1xudmFyIFNZU1RFTV9QUk9HUkFNX0FERFJFU1MgPSBcIjExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXCI7XG5mdW5jdGlvbiBhc3NlcnRJc0R1cmFibGVOb25jZVRyYW5zYWN0aW9uTWVzc2FnZSh0cmFuc2FjdGlvbikge1xuICBpZiAoIWlzRHVyYWJsZU5vbmNlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0VYUEVDVEVEX05PTkNFX0xJRkVUSU1FKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQWR2YW5jZU5vbmNlQWNjb3VudEluc3RydWN0aW9uKG5vbmNlQWNjb3VudEFkZHJlc3MsIG5vbmNlQXV0aG9yaXR5QWRkcmVzcykge1xuICByZXR1cm4ge1xuICAgIGFjY291bnRzOiBbXG4gICAgICB7IGFkZHJlc3M6IG5vbmNlQWNjb3VudEFkZHJlc3MsIHJvbGU6IEFjY291bnRSb2xlLldSSVRBQkxFIH0sXG4gICAgICB7XG4gICAgICAgIGFkZHJlc3M6IFJFQ0VOVF9CTE9DS0hBU0hFU19TWVNWQVJfQUREUkVTUyxcbiAgICAgICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlcbiAgICAgIH0sXG4gICAgICB7IGFkZHJlc3M6IG5vbmNlQXV0aG9yaXR5QWRkcmVzcywgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlfU0lHTkVSIH1cbiAgICBdLFxuICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KFs0LCAwLCAwLCAwXSksXG4gICAgcHJvZ3JhbUFkZHJlc3M6IFNZU1RFTV9QUk9HUkFNX0FERFJFU1NcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQWR2YW5jZU5vbmNlQWNjb3VudEluc3RydWN0aW9uKGluc3RydWN0aW9uKSB7XG4gIHJldHVybiBpbnN0cnVjdGlvbi5wcm9ncmFtQWRkcmVzcyA9PT0gU1lTVEVNX1BST0dSQU1fQUREUkVTUyAmJiAvLyBUZXN0IGZvciBgQWR2YW5jZU5vbmNlQWNjb3VudGAgaW5zdHJ1Y3Rpb24gZGF0YVxuICBpbnN0cnVjdGlvbi5kYXRhICE9IG51bGwgJiYgaXNBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25EYXRhKGluc3RydWN0aW9uLmRhdGEpICYmIC8vIFRlc3QgZm9yIGV4YWN0bHkgMyBhY2NvdW50c1xuICBpbnN0cnVjdGlvbi5hY2NvdW50cz8ubGVuZ3RoID09PSAzICYmIC8vIEZpcnN0IGFjY291bnQgaXMgbm9uY2UgYWNjb3VudCBhZGRyZXNzXG4gIGluc3RydWN0aW9uLmFjY291bnRzWzBdLmFkZHJlc3MgIT0gbnVsbCAmJiBpbnN0cnVjdGlvbi5hY2NvdW50c1swXS5yb2xlID09PSBBY2NvdW50Um9sZS5XUklUQUJMRSAmJiAvLyBTZWNvbmQgYWNjb3VudCBpcyByZWNlbnQgYmxvY2toYXNoZXMgc3lzdmFyXG4gIGluc3RydWN0aW9uLmFjY291bnRzWzFdLmFkZHJlc3MgPT09IFJFQ0VOVF9CTE9DS0hBU0hFU19TWVNWQVJfQUREUkVTUyAmJiBpbnN0cnVjdGlvbi5hY2NvdW50c1sxXS5yb2xlID09PSBBY2NvdW50Um9sZS5SRUFET05MWSAmJiAvLyBUaGlyZCBhY2NvdW50IGlzIG5vbmNlIGF1dGhvcml0eSBhY2NvdW50XG4gIGluc3RydWN0aW9uLmFjY291bnRzWzJdLmFkZHJlc3MgIT0gbnVsbCAmJiBpc1NpZ25lclJvbGUoaW5zdHJ1Y3Rpb24uYWNjb3VudHNbMl0ucm9sZSk7XG59XG5mdW5jdGlvbiBpc0FkdmFuY2VOb25jZUFjY291bnRJbnN0cnVjdGlvbkRhdGEoZGF0YSkge1xuICByZXR1cm4gZGF0YS5ieXRlTGVuZ3RoID09PSA0ICYmIGRhdGFbMF0gPT09IDQgJiYgZGF0YVsxXSA9PT0gMCAmJiBkYXRhWzJdID09PSAwICYmIGRhdGFbM10gPT09IDA7XG59XG5mdW5jdGlvbiBpc0R1cmFibGVOb25jZVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gIHJldHVybiBcImxpZmV0aW1lQ29uc3RyYWludFwiIGluIHRyYW5zYWN0aW9uICYmIHR5cGVvZiB0cmFuc2FjdGlvbi5saWZldGltZUNvbnN0cmFpbnQubm9uY2UgPT09IFwic3RyaW5nXCIgJiYgdHJhbnNhY3Rpb24uaW5zdHJ1Y3Rpb25zWzBdICE9IG51bGwgJiYgaXNBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24odHJhbnNhY3Rpb24uaW5zdHJ1Y3Rpb25zWzBdKTtcbn1cbmZ1bmN0aW9uIGlzQWR2YW5jZU5vbmNlQWNjb3VudEluc3RydWN0aW9uRm9yTm9uY2UoaW5zdHJ1Y3Rpb24sIG5vbmNlQWNjb3VudEFkZHJlc3MsIG5vbmNlQXV0aG9yaXR5QWRkcmVzcykge1xuICByZXR1cm4gaW5zdHJ1Y3Rpb24uYWNjb3VudHNbMF0uYWRkcmVzcyA9PT0gbm9uY2VBY2NvdW50QWRkcmVzcyAmJiBpbnN0cnVjdGlvbi5hY2NvdW50c1syXS5hZGRyZXNzID09PSBub25jZUF1dGhvcml0eUFkZHJlc3M7XG59XG5mdW5jdGlvbiBzZXRUcmFuc2FjdGlvbk1lc3NhZ2VMaWZldGltZVVzaW5nRHVyYWJsZU5vbmNlKHtcbiAgbm9uY2UsXG4gIG5vbmNlQWNjb3VudEFkZHJlc3MsXG4gIG5vbmNlQXV0aG9yaXR5QWRkcmVzc1xufSwgdHJhbnNhY3Rpb24pIHtcbiAgbGV0IG5ld0luc3RydWN0aW9ucztcbiAgY29uc3QgZmlyc3RJbnN0cnVjdGlvbiA9IHRyYW5zYWN0aW9uLmluc3RydWN0aW9uc1swXTtcbiAgaWYgKGZpcnN0SW5zdHJ1Y3Rpb24gJiYgaXNBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24oZmlyc3RJbnN0cnVjdGlvbikpIHtcbiAgICBpZiAoaXNBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb25Gb3JOb25jZShmaXJzdEluc3RydWN0aW9uLCBub25jZUFjY291bnRBZGRyZXNzLCBub25jZUF1dGhvcml0eUFkZHJlc3MpKSB7XG4gICAgICBpZiAoaXNEdXJhYmxlTm9uY2VUcmFuc2FjdGlvbih0cmFuc2FjdGlvbikgJiYgdHJhbnNhY3Rpb24ubGlmZXRpbWVDb25zdHJhaW50Lm5vbmNlID09PSBub25jZSkge1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdJbnN0cnVjdGlvbnMgPSBbZmlyc3RJbnN0cnVjdGlvbiwgLi4udHJhbnNhY3Rpb24uaW5zdHJ1Y3Rpb25zLnNsaWNlKDEpXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3SW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICBPYmplY3QuZnJlZXplKGNyZWF0ZUFkdmFuY2VOb25jZUFjY291bnRJbnN0cnVjdGlvbihub25jZUFjY291bnRBZGRyZXNzLCBub25jZUF1dGhvcml0eUFkZHJlc3MpKSxcbiAgICAgICAgLi4udHJhbnNhY3Rpb24uaW5zdHJ1Y3Rpb25zLnNsaWNlKDEpXG4gICAgICBdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBuZXdJbnN0cnVjdGlvbnMgPSBbXG4gICAgICBPYmplY3QuZnJlZXplKGNyZWF0ZUFkdmFuY2VOb25jZUFjY291bnRJbnN0cnVjdGlvbihub25jZUFjY291bnRBZGRyZXNzLCBub25jZUF1dGhvcml0eUFkZHJlc3MpKSxcbiAgICAgIC4uLnRyYW5zYWN0aW9uLmluc3RydWN0aW9uc1xuICAgIF07XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIC4uLnRyYW5zYWN0aW9uLFxuICAgIGluc3RydWN0aW9uczogT2JqZWN0LmZyZWV6ZShuZXdJbnN0cnVjdGlvbnMpLFxuICAgIGxpZmV0aW1lQ29uc3RyYWludDogT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBub25jZVxuICAgIH0pXG4gIH0pO1xufVxuXG4vLyBzcmMvZmVlLXBheWVyLnRzXG5mdW5jdGlvbiBzZXRUcmFuc2FjdGlvbk1lc3NhZ2VGZWVQYXllcihmZWVQYXllciwgdHJhbnNhY3Rpb25NZXNzYWdlKSB7XG4gIGlmIChcImZlZVBheWVyXCIgaW4gdHJhbnNhY3Rpb25NZXNzYWdlICYmIGZlZVBheWVyID09PSB0cmFuc2FjdGlvbk1lc3NhZ2UuZmVlUGF5ZXI/LmFkZHJlc3MgJiYgaXNBZGRyZXNzT25seUZlZVBheWVyKHRyYW5zYWN0aW9uTWVzc2FnZS5mZWVQYXllcikpIHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25NZXNzYWdlO1xuICB9XG4gIGNvbnN0IG91dCA9IHtcbiAgICAuLi50cmFuc2FjdGlvbk1lc3NhZ2UsXG4gICAgZmVlUGF5ZXI6IE9iamVjdC5mcmVlemUoeyBhZGRyZXNzOiBmZWVQYXllciB9KVxuICB9O1xuICBPYmplY3QuZnJlZXplKG91dCk7XG4gIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiBpc0FkZHJlc3NPbmx5RmVlUGF5ZXIoZmVlUGF5ZXIpIHtcbiAgcmV0dXJuICEhZmVlUGF5ZXIgJiYgXCJhZGRyZXNzXCIgaW4gZmVlUGF5ZXIgJiYgdHlwZW9mIGZlZVBheWVyLmFkZHJlc3MgPT09IFwic3RyaW5nXCIgJiYgT2JqZWN0LmtleXMoZmVlUGF5ZXIpLmxlbmd0aCA9PT0gMTtcbn1cblxuLy8gc3JjL2luc3RydWN0aW9ucy50c1xuZnVuY3Rpb24gYXBwZW5kVHJhbnNhY3Rpb25NZXNzYWdlSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24sIHRyYW5zYWN0aW9uKSB7XG4gIHJldHVybiBhcHBlbmRUcmFuc2FjdGlvbk1lc3NhZ2VJbnN0cnVjdGlvbnMoW2luc3RydWN0aW9uXSwgdHJhbnNhY3Rpb24pO1xufVxuZnVuY3Rpb24gYXBwZW5kVHJhbnNhY3Rpb25NZXNzYWdlSW5zdHJ1Y3Rpb25zKGluc3RydWN0aW9ucywgdHJhbnNhY3Rpb24pIHtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIC4uLnRyYW5zYWN0aW9uLFxuICAgIGluc3RydWN0aW9uczogT2JqZWN0LmZyZWV6ZShbLi4udHJhbnNhY3Rpb24uaW5zdHJ1Y3Rpb25zLCAuLi5pbnN0cnVjdGlvbnNdKVxuICB9KTtcbn1cbmZ1bmN0aW9uIHByZXBlbmRUcmFuc2FjdGlvbk1lc3NhZ2VJbnN0cnVjdGlvbihpbnN0cnVjdGlvbiwgdHJhbnNhY3Rpb24pIHtcbiAgcmV0dXJuIHByZXBlbmRUcmFuc2FjdGlvbk1lc3NhZ2VJbnN0cnVjdGlvbnMoW2luc3RydWN0aW9uXSwgdHJhbnNhY3Rpb24pO1xufVxuZnVuY3Rpb24gcHJlcGVuZFRyYW5zYWN0aW9uTWVzc2FnZUluc3RydWN0aW9ucyhpbnN0cnVjdGlvbnMsIHRyYW5zYWN0aW9uKSB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAuLi50cmFuc2FjdGlvbixcbiAgICBpbnN0cnVjdGlvbnM6IE9iamVjdC5mcmVlemUoWy4uLmluc3RydWN0aW9ucywgLi4udHJhbnNhY3Rpb24uaW5zdHJ1Y3Rpb25zXSlcbiAgfSk7XG59XG5cbi8vIHNyYy9kZWNvbXBpbGUtbWVzc2FnZS50c1xuZnVuY3Rpb24gZ2V0QWNjb3VudE1ldGFzKG1lc3NhZ2UpIHtcbiAgY29uc3QgeyBoZWFkZXIgfSA9IG1lc3NhZ2U7XG4gIGNvbnN0IG51bVdyaXRhYmxlU2lnbmVyQWNjb3VudHMgPSBoZWFkZXIubnVtU2lnbmVyQWNjb3VudHMgLSBoZWFkZXIubnVtUmVhZG9ubHlTaWduZXJBY2NvdW50cztcbiAgY29uc3QgbnVtV3JpdGFibGVOb25TaWduZXJBY2NvdW50cyA9IG1lc3NhZ2Uuc3RhdGljQWNjb3VudHMubGVuZ3RoIC0gaGVhZGVyLm51bVNpZ25lckFjY291bnRzIC0gaGVhZGVyLm51bVJlYWRvbmx5Tm9uU2lnbmVyQWNjb3VudHM7XG4gIGNvbnN0IGFjY291bnRNZXRhcyA9IFtdO1xuICBsZXQgYWNjb3VudEluZGV4ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Xcml0YWJsZVNpZ25lckFjY291bnRzOyBpKyspIHtcbiAgICBhY2NvdW50TWV0YXMucHVzaCh7XG4gICAgICBhZGRyZXNzOiBtZXNzYWdlLnN0YXRpY0FjY291bnRzW2FjY291bnRJbmRleF0sXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5XUklUQUJMRV9TSUdORVJcbiAgICB9KTtcbiAgICBhY2NvdW50SW5kZXgrKztcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGhlYWRlci5udW1SZWFkb25seVNpZ25lckFjY291bnRzOyBpKyspIHtcbiAgICBhY2NvdW50TWV0YXMucHVzaCh7XG4gICAgICBhZGRyZXNzOiBtZXNzYWdlLnN0YXRpY0FjY291bnRzW2FjY291bnRJbmRleF0sXG4gICAgICByb2xlOiBBY2NvdW50Um9sZS5SRUFET05MWV9TSUdORVJcbiAgICB9KTtcbiAgICBhY2NvdW50SW5kZXgrKztcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdyaXRhYmxlTm9uU2lnbmVyQWNjb3VudHM7IGkrKykge1xuICAgIGFjY291bnRNZXRhcy5wdXNoKHtcbiAgICAgIGFkZHJlc3M6IG1lc3NhZ2Uuc3RhdGljQWNjb3VudHNbYWNjb3VudEluZGV4XSxcbiAgICAgIHJvbGU6IEFjY291bnRSb2xlLldSSVRBQkxFXG4gICAgfSk7XG4gICAgYWNjb3VudEluZGV4Kys7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWFkZXIubnVtUmVhZG9ubHlOb25TaWduZXJBY2NvdW50czsgaSsrKSB7XG4gICAgYWNjb3VudE1ldGFzLnB1c2goe1xuICAgICAgYWRkcmVzczogbWVzc2FnZS5zdGF0aWNBY2NvdW50c1thY2NvdW50SW5kZXhdLFxuICAgICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlcbiAgICB9KTtcbiAgICBhY2NvdW50SW5kZXgrKztcbiAgfVxuICByZXR1cm4gYWNjb3VudE1ldGFzO1xufVxuZnVuY3Rpb24gZ2V0QWRkcmVzc0xvb2t1cE1ldGFzKGNvbXBpbGVkQWRkcmVzc1RhYmxlTG9va3VwcywgYWRkcmVzc2VzQnlMb29rdXBUYWJsZUFkZHJlc3MpIHtcbiAgY29uc3QgY29tcGlsZWRBZGRyZXNzVGFibGVMb29rdXBBZGRyZXNzZXMgPSBjb21waWxlZEFkZHJlc3NUYWJsZUxvb2t1cHMubWFwKChsKSA9PiBsLmxvb2t1cFRhYmxlQWRkcmVzcyk7XG4gIGNvbnN0IG1pc3NpbmcgPSBjb21waWxlZEFkZHJlc3NUYWJsZUxvb2t1cEFkZHJlc3Nlcy5maWx0ZXIoKGEpID0+IGFkZHJlc3Nlc0J5TG9va3VwVGFibGVBZGRyZXNzW2FdID09PSB1bmRlZmluZWQpO1xuICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0ZBSUxFRF9UT19ERUNPTVBJTEVfQUREUkVTU19MT09LVVBfVEFCTEVfQ09OVEVOVFNfTUlTU0lORywge1xuICAgICAgbG9va3VwVGFibGVBZGRyZXNzZXM6IG1pc3NpbmdcbiAgICB9KTtcbiAgfVxuICBjb25zdCByZWFkT25seU1ldGFzID0gW107XG4gIGNvbnN0IHdyaXRhYmxlTWV0YXMgPSBbXTtcbiAgZm9yIChjb25zdCBsb29rdXAgb2YgY29tcGlsZWRBZGRyZXNzVGFibGVMb29rdXBzKSB7XG4gICAgY29uc3QgYWRkcmVzc2VzID0gYWRkcmVzc2VzQnlMb29rdXBUYWJsZUFkZHJlc3NbbG9va3VwLmxvb2t1cFRhYmxlQWRkcmVzc107XG4gICAgY29uc3QgaGlnaGVzdEluZGV4ID0gTWF0aC5tYXgoLi4ubG9va3VwLnJlYWRhYmxlSW5kaWNlcywgLi4ubG9va3VwLndyaXRhYmxlSW5kaWNlcyk7XG4gICAgaWYgKGhpZ2hlc3RJbmRleCA+PSBhZGRyZXNzZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoXG4gICAgICAgIFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0ZBSUxFRF9UT19ERUNPTVBJTEVfQUREUkVTU19MT09LVVBfVEFCTEVfSU5ERVhfT1VUX09GX1JBTkdFLFxuICAgICAgICB7XG4gICAgICAgICAgaGlnaGVzdEtub3duSW5kZXg6IGFkZHJlc3Nlcy5sZW5ndGggLSAxLFxuICAgICAgICAgIGhpZ2hlc3RSZXF1ZXN0ZWRJbmRleDogaGlnaGVzdEluZGV4LFxuICAgICAgICAgIGxvb2t1cFRhYmxlQWRkcmVzczogbG9va3VwLmxvb2t1cFRhYmxlQWRkcmVzc1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZWFkT25seUZvckxvb2t1cCA9IGxvb2t1cC5yZWFkYWJsZUluZGljZXMubWFwKChyKSA9PiAoe1xuICAgICAgYWRkcmVzczogYWRkcmVzc2VzW3JdLFxuICAgICAgYWRkcmVzc0luZGV4OiByLFxuICAgICAgbG9va3VwVGFibGVBZGRyZXNzOiBsb29rdXAubG9va3VwVGFibGVBZGRyZXNzLFxuICAgICAgcm9sZTogQWNjb3VudFJvbGUuUkVBRE9OTFlcbiAgICB9KSk7XG4gICAgcmVhZE9ubHlNZXRhcy5wdXNoKC4uLnJlYWRPbmx5Rm9yTG9va3VwKTtcbiAgICBjb25zdCB3cml0YWJsZUZvckxvb2t1cCA9IGxvb2t1cC53cml0YWJsZUluZGljZXMubWFwKCh3KSA9PiAoe1xuICAgICAgYWRkcmVzczogYWRkcmVzc2VzW3ddLFxuICAgICAgYWRkcmVzc0luZGV4OiB3LFxuICAgICAgbG9va3VwVGFibGVBZGRyZXNzOiBsb29rdXAubG9va3VwVGFibGVBZGRyZXNzLFxuICAgICAgcm9sZTogQWNjb3VudFJvbGUuV1JJVEFCTEVcbiAgICB9KSk7XG4gICAgd3JpdGFibGVNZXRhcy5wdXNoKC4uLndyaXRhYmxlRm9yTG9va3VwKTtcbiAgfVxuICByZXR1cm4gWy4uLndyaXRhYmxlTWV0YXMsIC4uLnJlYWRPbmx5TWV0YXNdO1xufVxuZnVuY3Rpb24gY29udmVydEluc3RydWN0aW9uKGluc3RydWN0aW9uLCBhY2NvdW50TWV0YXMpIHtcbiAgY29uc3QgcHJvZ3JhbUFkZHJlc3MgPSBhY2NvdW50TWV0YXNbaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3NJbmRleF0/LmFkZHJlc3M7XG4gIGlmICghcHJvZ3JhbUFkZHJlc3MpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fRkFJTEVEX1RPX0RFQ09NUElMRV9JTlNUUlVDVElPTl9QUk9HUkFNX0FERFJFU1NfTk9UX0ZPVU5ELCB7XG4gICAgICBpbmRleDogaW5zdHJ1Y3Rpb24ucHJvZ3JhbUFkZHJlc3NJbmRleFxuICAgIH0pO1xuICB9XG4gIGNvbnN0IGFjY291bnRzID0gaW5zdHJ1Y3Rpb24uYWNjb3VudEluZGljZXM/Lm1hcCgoYWNjb3VudEluZGV4KSA9PiBhY2NvdW50TWV0YXNbYWNjb3VudEluZGV4XSk7XG4gIGNvbnN0IHsgZGF0YSB9ID0gaW5zdHJ1Y3Rpb247XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBwcm9ncmFtQWRkcmVzcyxcbiAgICAuLi5hY2NvdW50cyAmJiBhY2NvdW50cy5sZW5ndGggPyB7IGFjY291bnRzOiBPYmplY3QuZnJlZXplKGFjY291bnRzKSB9IDoge30sXG4gICAgLi4uZGF0YSAmJiBkYXRhLmxlbmd0aCA/IHsgZGF0YSB9IDoge31cbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRMaWZldGltZUNvbnN0cmFpbnQobWVzc2FnZUxpZmV0aW1lVG9rZW4sIGZpcnN0SW5zdHJ1Y3Rpb24sIGxhc3RWYWxpZEJsb2NrSGVpZ2h0KSB7XG4gIGlmICghZmlyc3RJbnN0cnVjdGlvbiB8fCAhaXNBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24oZmlyc3RJbnN0cnVjdGlvbikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmxvY2toYXNoOiBtZXNzYWdlTGlmZXRpbWVUb2tlbixcbiAgICAgIGxhc3RWYWxpZEJsb2NrSGVpZ2h0OiBsYXN0VmFsaWRCbG9ja0hlaWdodCA/PyAybiAqKiA2NG4gLSAxblxuICAgICAgLy8gVTY0IE1BWFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgbm9uY2VBY2NvdW50QWRkcmVzcyA9IGZpcnN0SW5zdHJ1Y3Rpb24uYWNjb3VudHNbMF0uYWRkcmVzcztcbiAgICBhc3NlcnRJc0FkZHJlc3Mobm9uY2VBY2NvdW50QWRkcmVzcyk7XG4gICAgY29uc3Qgbm9uY2VBdXRob3JpdHlBZGRyZXNzID0gZmlyc3RJbnN0cnVjdGlvbi5hY2NvdW50c1syXS5hZGRyZXNzO1xuICAgIGFzc2VydElzQWRkcmVzcyhub25jZUF1dGhvcml0eUFkZHJlc3MpO1xuICAgIHJldHVybiB7XG4gICAgICBub25jZTogbWVzc2FnZUxpZmV0aW1lVG9rZW4sXG4gICAgICBub25jZUFjY291bnRBZGRyZXNzLFxuICAgICAgbm9uY2VBdXRob3JpdHlBZGRyZXNzXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gZGVjb21waWxlVHJhbnNhY3Rpb25NZXNzYWdlKGNvbXBpbGVkVHJhbnNhY3Rpb25NZXNzYWdlLCBjb25maWcpIHtcbiAgY29uc3QgZmVlUGF5ZXIgPSBjb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZS5zdGF0aWNBY2NvdW50c1swXTtcbiAgaWYgKCFmZWVQYXllcikge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19GQUlMRURfVE9fREVDT01QSUxFX0ZFRV9QQVlFUl9NSVNTSU5HKTtcbiAgfVxuICBjb25zdCBhY2NvdW50TWV0YXMgPSBnZXRBY2NvdW50TWV0YXMoY29tcGlsZWRUcmFuc2FjdGlvbk1lc3NhZ2UpO1xuICBjb25zdCBhY2NvdW50TG9va3VwTWV0YXMgPSBcImFkZHJlc3NUYWJsZUxvb2t1cHNcIiBpbiBjb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZSAmJiBjb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZS5hZGRyZXNzVGFibGVMb29rdXBzICE9PSB1bmRlZmluZWQgJiYgY29tcGlsZWRUcmFuc2FjdGlvbk1lc3NhZ2UuYWRkcmVzc1RhYmxlTG9va3Vwcy5sZW5ndGggPiAwID8gZ2V0QWRkcmVzc0xvb2t1cE1ldGFzKFxuICAgIGNvbXBpbGVkVHJhbnNhY3Rpb25NZXNzYWdlLmFkZHJlc3NUYWJsZUxvb2t1cHMsXG4gICAgY29uZmlnPy5hZGRyZXNzZXNCeUxvb2t1cFRhYmxlQWRkcmVzcyA/PyB7fVxuICApIDogW107XG4gIGNvbnN0IHRyYW5zYWN0aW9uTWV0YXMgPSBbLi4uYWNjb3VudE1ldGFzLCAuLi5hY2NvdW50TG9va3VwTWV0YXNdO1xuICBjb25zdCBpbnN0cnVjdGlvbnMgPSBjb21waWxlZFRyYW5zYWN0aW9uTWVzc2FnZS5pbnN0cnVjdGlvbnMubWFwKFxuICAgIChjb21waWxlZEluc3RydWN0aW9uKSA9PiBjb252ZXJ0SW5zdHJ1Y3Rpb24oY29tcGlsZWRJbnN0cnVjdGlvbiwgdHJhbnNhY3Rpb25NZXRhcylcbiAgKTtcbiAgY29uc3QgZmlyc3RJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uc1swXTtcbiAgY29uc3QgbGlmZXRpbWVDb25zdHJhaW50ID0gZ2V0TGlmZXRpbWVDb25zdHJhaW50KFxuICAgIGNvbXBpbGVkVHJhbnNhY3Rpb25NZXNzYWdlLmxpZmV0aW1lVG9rZW4sXG4gICAgZmlyc3RJbnN0cnVjdGlvbixcbiAgICBjb25maWc/Lmxhc3RWYWxpZEJsb2NrSGVpZ2h0XG4gICk7XG4gIHJldHVybiBwaXBlKFxuICAgIGNyZWF0ZVRyYW5zYWN0aW9uTWVzc2FnZSh7IHZlcnNpb246IGNvbXBpbGVkVHJhbnNhY3Rpb25NZXNzYWdlLnZlcnNpb24gfSksXG4gICAgKHR4KSA9PiBzZXRUcmFuc2FjdGlvbk1lc3NhZ2VGZWVQYXllcihmZWVQYXllciwgdHgpLFxuICAgICh0eCkgPT4gaW5zdHJ1Y3Rpb25zLnJlZHVjZSgoYWNjLCBpbnN0cnVjdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIGFwcGVuZFRyYW5zYWN0aW9uTWVzc2FnZUluc3RydWN0aW9uKGluc3RydWN0aW9uLCBhY2MpO1xuICAgIH0sIHR4KSxcbiAgICAodHgpID0+IFwiYmxvY2toYXNoXCIgaW4gbGlmZXRpbWVDb25zdHJhaW50ID8gc2V0VHJhbnNhY3Rpb25NZXNzYWdlTGlmZXRpbWVVc2luZ0Jsb2NraGFzaChsaWZldGltZUNvbnN0cmFpbnQsIHR4KSA6IHNldFRyYW5zYWN0aW9uTWVzc2FnZUxpZmV0aW1lVXNpbmdEdXJhYmxlTm9uY2UobGlmZXRpbWVDb25zdHJhaW50LCB0eClcbiAgKTtcbn1cblxuZXhwb3J0IHsgYXBwZW5kVHJhbnNhY3Rpb25NZXNzYWdlSW5zdHJ1Y3Rpb24sIGFwcGVuZFRyYW5zYWN0aW9uTWVzc2FnZUluc3RydWN0aW9ucywgYXNzZXJ0SXNEdXJhYmxlTm9uY2VUcmFuc2FjdGlvbk1lc3NhZ2UsIGFzc2VydElzVHJhbnNhY3Rpb25NZXNzYWdlV2l0aEJsb2NraGFzaExpZmV0aW1lLCBjb21waWxlVHJhbnNhY3Rpb25NZXNzYWdlLCBjb21wcmVzc1RyYW5zYWN0aW9uTWVzc2FnZVVzaW5nQWRkcmVzc0xvb2t1cFRhYmxlcywgY3JlYXRlVHJhbnNhY3Rpb25NZXNzYWdlLCBkZWNvbXBpbGVUcmFuc2FjdGlvbk1lc3NhZ2UsIGdldENvbXBpbGVkVHJhbnNhY3Rpb25NZXNzYWdlQ29kZWMsIGdldENvbXBpbGVkVHJhbnNhY3Rpb25NZXNzYWdlRGVjb2RlciwgZ2V0Q29tcGlsZWRUcmFuc2FjdGlvbk1lc3NhZ2VFbmNvZGVyLCBnZXRUcmFuc2FjdGlvblZlcnNpb25Db2RlYywgZ2V0VHJhbnNhY3Rpb25WZXJzaW9uRGVjb2RlciwgZ2V0VHJhbnNhY3Rpb25WZXJzaW9uRW5jb2RlciwgaXNBZHZhbmNlTm9uY2VBY2NvdW50SW5zdHJ1Y3Rpb24sIGlzRHVyYWJsZU5vbmNlVHJhbnNhY3Rpb24sIGlzVHJhbnNhY3Rpb25NZXNzYWdlV2l0aEJsb2NraGFzaExpZmV0aW1lLCBwcmVwZW5kVHJhbnNhY3Rpb25NZXNzYWdlSW5zdHJ1Y3Rpb24sIHByZXBlbmRUcmFuc2FjdGlvbk1lc3NhZ2VJbnN0cnVjdGlvbnMsIHNldFRyYW5zYWN0aW9uTWVzc2FnZUZlZVBheWVyLCBzZXRUcmFuc2FjdGlvbk1lc3NhZ2VMaWZldGltZVVzaW5nQmxvY2toYXNoLCBzZXRUcmFuc2FjdGlvbk1lc3NhZ2VMaWZldGltZVVzaW5nRHVyYWJsZU5vbmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLm1qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IGdldEFkZHJlc3NEZWNvZGVyLCBnZXRBZGRyZXNzRnJvbVB1YmxpY0tleSB9IGZyb20gJ0Bzb2xhbmEvYWRkcmVzc2VzJztcbmltcG9ydCB7IHRyYW5zZm9ybURlY29kZXIsIGZpeERlY29kZXJTaXplLCBjb21iaW5lQ29kZWMsIHBhZFJpZ2h0RGVjb2RlciwgdHJhbnNmb3JtRW5jb2RlciwgZml4RW5jb2RlclNpemUgfSBmcm9tICdAc29sYW5hL2NvZGVjcy1jb3JlJztcbmltcG9ydCB7IGdldFN0cnVjdEVuY29kZXIsIGdldEJ5dGVzRW5jb2RlciwgZ2V0U3RydWN0RGVjb2RlciwgZ2V0QXJyYXlEZWNvZGVyLCBnZXRCeXRlc0RlY29kZXIsIGdldFR1cGxlRGVjb2RlciwgZ2V0QXJyYXlFbmNvZGVyIH0gZnJvbSAnQHNvbGFuYS9jb2RlY3MtZGF0YS1zdHJ1Y3R1cmVzJztcbmltcG9ydCB7IGdldFNob3J0VTE2RGVjb2RlciwgZ2V0VThEZWNvZGVyLCBnZXRTaG9ydFUxNkVuY29kZXIgfSBmcm9tICdAc29sYW5hL2NvZGVjcy1udW1iZXJzJztcbmltcG9ydCB7IFNvbGFuYUVycm9yLCBTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19NRVNTQUdFX1NJR05BVFVSRVNfTUlTTUFUQ0gsIFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0ZFRV9QQVlFUl9TSUdOQVRVUkVfTUlTU0lORywgU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fQUREUkVTU0VTX0NBTk5PVF9TSUdOX1RSQU5TQUNUSU9OLCBTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19TSUdOQVRVUkVTX01JU1NJTkcsIFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX0NBTk5PVF9FTkNPREVfV0lUSF9FTVBUWV9TSUdOQVRVUkVTIH0gZnJvbSAnQHNvbGFuYS9lcnJvcnMnO1xuaW1wb3J0IHsgZ2V0VHJhbnNhY3Rpb25WZXJzaW9uRGVjb2RlciwgY29tcGlsZVRyYW5zYWN0aW9uTWVzc2FnZSwgZ2V0Q29tcGlsZWRUcmFuc2FjdGlvbk1lc3NhZ2VFbmNvZGVyLCBpc1RyYW5zYWN0aW9uTWVzc2FnZVdpdGhCbG9ja2hhc2hMaWZldGltZSB9IGZyb20gJ0Bzb2xhbmEvdHJhbnNhY3Rpb24tbWVzc2FnZXMnO1xuaW1wb3J0IHsgZ2V0QmFzZTU4RGVjb2RlciwgZ2V0QmFzZTY0RGVjb2RlciB9IGZyb20gJ0Bzb2xhbmEvY29kZWNzLXN0cmluZ3MnO1xuaW1wb3J0IHsgc2lnbkJ5dGVzIH0gZnJvbSAnQHNvbGFuYS9rZXlzJztcblxuLy8gc3JjL2NvZGVjcy90cmFuc2FjdGlvbi1jb2RlYy50c1xuZnVuY3Rpb24gZ2V0U2lnbmF0dXJlc1RvRW5jb2RlKHNpZ25hdHVyZXNNYXApIHtcbiAgY29uc3Qgc2lnbmF0dXJlcyA9IE9iamVjdC52YWx1ZXMoc2lnbmF0dXJlc01hcCk7XG4gIGlmIChzaWduYXR1cmVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19DQU5OT1RfRU5DT0RFX1dJVEhfRU1QVFlfU0lHTkFUVVJFUyk7XG4gIH1cbiAgcmV0dXJuIHNpZ25hdHVyZXMubWFwKChzaWduYXR1cmUpID0+IHtcbiAgICBpZiAoIXNpZ25hdHVyZSkge1xuICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDY0KS5maWxsKDApO1xuICAgIH1cbiAgICByZXR1cm4gc2lnbmF0dXJlO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFNpZ25hdHVyZXNFbmNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRW5jb2RlcihcbiAgICBnZXRBcnJheUVuY29kZXIoZml4RW5jb2RlclNpemUoZ2V0Qnl0ZXNFbmNvZGVyKCksIDY0KSwgeyBzaXplOiBnZXRTaG9ydFUxNkVuY29kZXIoKSB9KSxcbiAgICBnZXRTaWduYXR1cmVzVG9FbmNvZGVcbiAgKTtcbn1cblxuLy8gc3JjL2NvZGVjcy90cmFuc2FjdGlvbi1jb2RlYy50c1xuZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25FbmNvZGVyKCkge1xuICByZXR1cm4gZ2V0U3RydWN0RW5jb2RlcihbXG4gICAgW1wic2lnbmF0dXJlc1wiLCBnZXRTaWduYXR1cmVzRW5jb2RlcigpXSxcbiAgICBbXCJtZXNzYWdlQnl0ZXNcIiwgZ2V0Qnl0ZXNFbmNvZGVyKCldXG4gIF0pO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25EZWNvZGVyKCkge1xuICByZXR1cm4gdHJhbnNmb3JtRGVjb2RlcihcbiAgICBnZXRTdHJ1Y3REZWNvZGVyKFtcbiAgICAgIFtcInNpZ25hdHVyZXNcIiwgZ2V0QXJyYXlEZWNvZGVyKGZpeERlY29kZXJTaXplKGdldEJ5dGVzRGVjb2RlcigpLCA2NCksIHsgc2l6ZTogZ2V0U2hvcnRVMTZEZWNvZGVyKCkgfSldLFxuICAgICAgW1wibWVzc2FnZUJ5dGVzXCIsIGdldEJ5dGVzRGVjb2RlcigpXVxuICAgIF0pLFxuICAgIGRlY29kZVBhcnRpYWxseURlY29kZWRUcmFuc2FjdGlvblxuICApO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25Db2RlYygpIHtcbiAgcmV0dXJuIGNvbWJpbmVDb2RlYyhnZXRUcmFuc2FjdGlvbkVuY29kZXIoKSwgZ2V0VHJhbnNhY3Rpb25EZWNvZGVyKCkpO1xufVxuZnVuY3Rpb24gZGVjb2RlUGFydGlhbGx5RGVjb2RlZFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gIGNvbnN0IHsgbWVzc2FnZUJ5dGVzLCBzaWduYXR1cmVzIH0gPSB0cmFuc2FjdGlvbjtcbiAgY29uc3Qgc2lnbmVyQWRkcmVzc2VzRGVjb2RlciA9IGdldFR1cGxlRGVjb2RlcihbXG4gICAgLy8gcmVhZCB0cmFuc2FjdGlvbiB2ZXJzaW9uXG4gICAgZ2V0VHJhbnNhY3Rpb25WZXJzaW9uRGVjb2RlcigpLFxuICAgIC8vIHJlYWQgZmlyc3QgYnl0ZSBvZiBoZWFkZXIsIGBudW1TaWduZXJBY2NvdW50c2BcbiAgICAvLyBwYWRSaWdodCB0byBza2lwIHRoZSBuZXh0IDIgYnl0ZXMsIGBudW1SZWFkT25seVNpZ25lZEFjY291bnRzYCBhbmQgYG51bVJlYWRPbmx5VW5zaWduZWRBY2NvdW50c2Agd2hpY2ggd2UgZG9uJ3QgbmVlZFxuICAgIHBhZFJpZ2h0RGVjb2RlcihnZXRVOERlY29kZXIoKSwgMiksXG4gICAgLy8gcmVhZCBzdGF0aWMgYWRkcmVzc2VzXG4gICAgZ2V0QXJyYXlEZWNvZGVyKGdldEFkZHJlc3NEZWNvZGVyKCksIHsgc2l6ZTogZ2V0U2hvcnRVMTZEZWNvZGVyKCkgfSlcbiAgXSk7XG4gIGNvbnN0IFtfdHhWZXJzaW9uLCBudW1SZXF1aXJlZFNpZ25hdHVyZXMsIHN0YXRpY0FkZHJlc3Nlc10gPSBzaWduZXJBZGRyZXNzZXNEZWNvZGVyLmRlY29kZShtZXNzYWdlQnl0ZXMpO1xuICBjb25zdCBzaWduZXJBZGRyZXNzZXMgPSBzdGF0aWNBZGRyZXNzZXMuc2xpY2UoMCwgbnVtUmVxdWlyZWRTaWduYXR1cmVzKTtcbiAgaWYgKHNpZ25lckFkZHJlc3Nlcy5sZW5ndGggIT09IHNpZ25hdHVyZXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFNvbGFuYUVycm9yKFNPTEFOQV9FUlJPUl9fVFJBTlNBQ1RJT05fX01FU1NBR0VfU0lHTkFUVVJFU19NSVNNQVRDSCwge1xuICAgICAgbnVtUmVxdWlyZWRTaWduYXR1cmVzLFxuICAgICAgc2lnbmF0dXJlc0xlbmd0aDogc2lnbmF0dXJlcy5sZW5ndGgsXG4gICAgICBzaWduZXJBZGRyZXNzZXNcbiAgICB9KTtcbiAgfVxuICBjb25zdCBzaWduYXR1cmVzTWFwID0ge307XG4gIHNpZ25lckFkZHJlc3Nlcy5mb3JFYWNoKChhZGRyZXNzLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHNpZ25hdHVyZUZvckFkZHJlc3MgPSBzaWduYXR1cmVzW2luZGV4XTtcbiAgICBpZiAoc2lnbmF0dXJlRm9yQWRkcmVzcy5ldmVyeSgoYikgPT4gYiA9PT0gMCkpIHtcbiAgICAgIHNpZ25hdHVyZXNNYXBbYWRkcmVzc10gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaWduYXR1cmVzTWFwW2FkZHJlc3NdID0gc2lnbmF0dXJlRm9yQWRkcmVzcztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIG1lc3NhZ2VCeXRlcyxcbiAgICBzaWduYXR1cmVzOiBPYmplY3QuZnJlZXplKHNpZ25hdHVyZXNNYXApXG4gIH07XG59XG5mdW5jdGlvbiBjb21waWxlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25NZXNzYWdlKSB7XG4gIGNvbnN0IGNvbXBpbGVkTWVzc2FnZSA9IGNvbXBpbGVUcmFuc2FjdGlvbk1lc3NhZ2UodHJhbnNhY3Rpb25NZXNzYWdlKTtcbiAgY29uc3QgbWVzc2FnZUJ5dGVzID0gZ2V0Q29tcGlsZWRUcmFuc2FjdGlvbk1lc3NhZ2VFbmNvZGVyKCkuZW5jb2RlKGNvbXBpbGVkTWVzc2FnZSk7XG4gIGNvbnN0IHRyYW5zYWN0aW9uU2lnbmVycyA9IGNvbXBpbGVkTWVzc2FnZS5zdGF0aWNBY2NvdW50cy5zbGljZSgwLCBjb21waWxlZE1lc3NhZ2UuaGVhZGVyLm51bVNpZ25lckFjY291bnRzKTtcbiAgY29uc3Qgc2lnbmF0dXJlcyA9IHt9O1xuICBmb3IgKGNvbnN0IHNpZ25lckFkZHJlc3Mgb2YgdHJhbnNhY3Rpb25TaWduZXJzKSB7XG4gICAgc2lnbmF0dXJlc1tzaWduZXJBZGRyZXNzXSA9IG51bGw7XG4gIH1cbiAgbGV0IGxpZmV0aW1lQ29uc3RyYWludDtcbiAgaWYgKGlzVHJhbnNhY3Rpb25NZXNzYWdlV2l0aEJsb2NraGFzaExpZmV0aW1lKHRyYW5zYWN0aW9uTWVzc2FnZSkpIHtcbiAgICBsaWZldGltZUNvbnN0cmFpbnQgPSB7XG4gICAgICBibG9ja2hhc2g6IHRyYW5zYWN0aW9uTWVzc2FnZS5saWZldGltZUNvbnN0cmFpbnQuYmxvY2toYXNoLFxuICAgICAgbGFzdFZhbGlkQmxvY2tIZWlnaHQ6IHRyYW5zYWN0aW9uTWVzc2FnZS5saWZldGltZUNvbnN0cmFpbnQubGFzdFZhbGlkQmxvY2tIZWlnaHRcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGxpZmV0aW1lQ29uc3RyYWludCA9IHtcbiAgICAgIG5vbmNlOiB0cmFuc2FjdGlvbk1lc3NhZ2UubGlmZXRpbWVDb25zdHJhaW50Lm5vbmNlLFxuICAgICAgbm9uY2VBY2NvdW50QWRkcmVzczogdHJhbnNhY3Rpb25NZXNzYWdlLmluc3RydWN0aW9uc1swXS5hY2NvdW50c1swXS5hZGRyZXNzXG4gICAgfTtcbiAgfVxuICBjb25zdCB0cmFuc2FjdGlvbiA9IHtcbiAgICBsaWZldGltZUNvbnN0cmFpbnQsXG4gICAgbWVzc2FnZUJ5dGVzLFxuICAgIHNpZ25hdHVyZXM6IE9iamVjdC5mcmVlemUoc2lnbmF0dXJlcylcbiAgfTtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUodHJhbnNhY3Rpb24pO1xufVxudmFyIGJhc2U1OERlY29kZXI7XG5mdW5jdGlvbiBnZXRTaWduYXR1cmVGcm9tVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgaWYgKCFiYXNlNThEZWNvZGVyKSBiYXNlNThEZWNvZGVyID0gZ2V0QmFzZTU4RGVjb2RlcigpO1xuICBjb25zdCBzaWduYXR1cmVCeXRlcyA9IE9iamVjdC52YWx1ZXModHJhbnNhY3Rpb24uc2lnbmF0dXJlcylbMF07XG4gIGlmICghc2lnbmF0dXJlQnl0ZXMpIHtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fRkVFX1BBWUVSX1NJR05BVFVSRV9NSVNTSU5HKTtcbiAgfVxuICBjb25zdCB0cmFuc2FjdGlvblNpZ25hdHVyZSA9IGJhc2U1OERlY29kZXIuZGVjb2RlKHNpZ25hdHVyZUJ5dGVzKTtcbiAgcmV0dXJuIHRyYW5zYWN0aW9uU2lnbmF0dXJlO1xufVxuZnVuY3Rpb24gdWludDhBcnJheXNFcXVhbChhcnIxLCBhcnIyKSB7XG4gIHJldHVybiBhcnIxLmxlbmd0aCA9PT0gYXJyMi5sZW5ndGggJiYgYXJyMS5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSA9PT0gYXJyMltpbmRleF0pO1xufVxuYXN5bmMgZnVuY3Rpb24gcGFydGlhbGx5U2lnblRyYW5zYWN0aW9uKGtleVBhaXJzLCB0cmFuc2FjdGlvbikge1xuICBsZXQgbmV3U2lnbmF0dXJlcztcbiAgbGV0IHVuZXhwZWN0ZWRTaWduZXJzO1xuICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBrZXlQYWlycy5tYXAoYXN5bmMgKGtleVBhaXIpID0+IHtcbiAgICAgIGNvbnN0IGFkZHJlc3MgPSBhd2FpdCBnZXRBZGRyZXNzRnJvbVB1YmxpY0tleShrZXlQYWlyLnB1YmxpY0tleSk7XG4gICAgICBjb25zdCBleGlzdGluZ1NpZ25hdHVyZSA9IHRyYW5zYWN0aW9uLnNpZ25hdHVyZXNbYWRkcmVzc107XG4gICAgICBpZiAoZXhpc3RpbmdTaWduYXR1cmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1bmV4cGVjdGVkU2lnbmVycyB8fD0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgICAgdW5leHBlY3RlZFNpZ25lcnMuYWRkKGFkZHJlc3MpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodW5leHBlY3RlZFNpZ25lcnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3U2lnbmF0dXJlID0gYXdhaXQgc2lnbkJ5dGVzKGtleVBhaXIucHJpdmF0ZUtleSwgdHJhbnNhY3Rpb24ubWVzc2FnZUJ5dGVzKTtcbiAgICAgIGlmIChleGlzdGluZ1NpZ25hdHVyZSAhPT0gbnVsbCAmJiB1aW50OEFycmF5c0VxdWFsKG5ld1NpZ25hdHVyZSwgZXhpc3RpbmdTaWduYXR1cmUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5ld1NpZ25hdHVyZXMgfHw9IHt9O1xuICAgICAgbmV3U2lnbmF0dXJlc1thZGRyZXNzXSA9IG5ld1NpZ25hdHVyZTtcbiAgICB9KVxuICApO1xuICBpZiAodW5leHBlY3RlZFNpZ25lcnMgJiYgdW5leHBlY3RlZFNpZ25lcnMuc2l6ZSA+IDApIHtcbiAgICBjb25zdCBleHBlY3RlZFNpZ25lcnMgPSBPYmplY3Qua2V5cyh0cmFuc2FjdGlvbi5zaWduYXR1cmVzKTtcbiAgICB0aHJvdyBuZXcgU29sYW5hRXJyb3IoU09MQU5BX0VSUk9SX19UUkFOU0FDVElPTl9fQUREUkVTU0VTX0NBTk5PVF9TSUdOX1RSQU5TQUNUSU9OLCB7XG4gICAgICBleHBlY3RlZEFkZHJlc3NlczogZXhwZWN0ZWRTaWduZXJzLFxuICAgICAgdW5leHBlY3RlZEFkZHJlc3NlczogWy4uLnVuZXhwZWN0ZWRTaWduZXJzXVxuICAgIH0pO1xuICB9XG4gIGlmICghbmV3U2lnbmF0dXJlcykge1xuICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLi4udHJhbnNhY3Rpb24sXG4gICAgc2lnbmF0dXJlczogT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAuLi50cmFuc2FjdGlvbi5zaWduYXR1cmVzLFxuICAgICAgLi4ubmV3U2lnbmF0dXJlc1xuICAgIH0pXG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gc2lnblRyYW5zYWN0aW9uKGtleVBhaXJzLCB0cmFuc2FjdGlvbikge1xuICBjb25zdCBvdXQgPSBhd2FpdCBwYXJ0aWFsbHlTaWduVHJhbnNhY3Rpb24oa2V5UGFpcnMsIHRyYW5zYWN0aW9uKTtcbiAgYXNzZXJ0VHJhbnNhY3Rpb25Jc0Z1bGx5U2lnbmVkKG91dCk7XG4gIE9iamVjdC5mcmVlemUob3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIGFzc2VydFRyYW5zYWN0aW9uSXNGdWxseVNpZ25lZCh0cmFuc2FjdGlvbikge1xuICBjb25zdCBtaXNzaW5nU2lncyA9IFtdO1xuICBPYmplY3QuZW50cmllcyh0cmFuc2FjdGlvbi5zaWduYXR1cmVzKS5mb3JFYWNoKChbYWRkcmVzcywgc2lnbmF0dXJlQnl0ZXNdKSA9PiB7XG4gICAgaWYgKCFzaWduYXR1cmVCeXRlcykge1xuICAgICAgbWlzc2luZ1NpZ3MucHVzaChhZGRyZXNzKTtcbiAgICB9XG4gIH0pO1xuICBpZiAobWlzc2luZ1NpZ3MubGVuZ3RoID4gMCkge1xuICAgIHRocm93IG5ldyBTb2xhbmFFcnJvcihTT0xBTkFfRVJST1JfX1RSQU5TQUNUSU9OX19TSUdOQVRVUkVTX01JU1NJTkcsIHtcbiAgICAgIGFkZHJlc3NlczogbWlzc2luZ1NpZ3NcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0QmFzZTY0RW5jb2RlZFdpcmVUcmFuc2FjdGlvbih0cmFuc2FjdGlvbikge1xuICBjb25zdCB3aXJlVHJhbnNhY3Rpb25CeXRlcyA9IGdldFRyYW5zYWN0aW9uRW5jb2RlcigpLmVuY29kZSh0cmFuc2FjdGlvbik7XG4gIHJldHVybiBnZXRCYXNlNjREZWNvZGVyKCkuZGVjb2RlKHdpcmVUcmFuc2FjdGlvbkJ5dGVzKTtcbn1cblxuZXhwb3J0IHsgYXNzZXJ0VHJhbnNhY3Rpb25Jc0Z1bGx5U2lnbmVkLCBjb21waWxlVHJhbnNhY3Rpb24sIGdldEJhc2U2NEVuY29kZWRXaXJlVHJhbnNhY3Rpb24sIGdldFNpZ25hdHVyZUZyb21UcmFuc2FjdGlvbiwgZ2V0VHJhbnNhY3Rpb25Db2RlYywgZ2V0VHJhbnNhY3Rpb25EZWNvZGVyLCBnZXRUcmFuc2FjdGlvbkVuY29kZXIsIHBhcnRpYWxseVNpZ25UcmFuc2FjdGlvbiwgc2lnblRyYW5zYWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLm1qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==